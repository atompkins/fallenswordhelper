import{a as v,b as I}from"./chunk-2WSAAGIG.js";import{a as A}from"./chunk-PD2DNAQA.js";import{a as _}from"./chunk-TVKHDN3I.js";import{a as j}from"./chunk-SN63T7RB.js";import{b as T}from"./chunk-XWSGTYOL.js";import{a as H}from"./chunk-3GKBEOYO.js";import{a as $}from"./chunk-YSLN4J5T.js";import{a as C,b as S}from"./chunk-ZANBUYIU.js";import{a as s}from"./chunk-HR63FZAK.js";import{a as h}from"./chunk-T6M6SLEE.js";import"./chunk-GRAGYVAJ.js";import{a as l}from"./chunk-5NBSFLUX.js";import{a as L}from"./chunk-LZ6APVKA.js";import"./chunk-T7PFQ73F.js";import"./chunk-3XXFU55Y.js";import{b as k}from"./chunk-ZPKDX2TA.js";import{a as d}from"./chunk-5R3F3CA6.js";import"./chunk-L5AX3Z7V.js";import"./chunk-EFQ65JH2.js";import"./chunk-O7UFEMZS.js";import{a as m}from"./chunk-PZPCKQA2.js";import"./chunk-TB4ICF4L.js";import{a as B}from"./chunk-BRBGUBTX.js";import"./chunk-24RPK7WU.js";import"./chunk-VNMHD7BL.js";import{a as x}from"./chunk-KKL2RL5K.js";import{a as c}from"./chunk-3GV55PFT.js";import"./chunk-4WLRCDD6.js";import"./chunk-ECTWXQFU.js";import{a as E}from"./chunk-5YV4PH6I.js";import{a as N}from"./chunk-6MKXC6ON.js";import"./chunk-HVC7S5PE.js";import"./chunk-NC4XYYGB.js";import"./chunk-E5FOTTRM.js";import"./chunk-OEATIPCL.js";import"./chunk-HVPMEAYK.js";import{a as f}from"./chunk-Q6VOFYH2.js";import{a as w}from"./chunk-OACBWC2H.js";import{a as i}from"./chunk-IJUADRFJ.js";import"./chunk-VEFZUGNI.js";import"./chunk-FJEDYAWH.js";import"./chunk-WV7FHD63.js";import{V as p,sa as y}from"./chunk-OOFTOHPO.js";import"./chunk-L5TVV64R.js";import{a as u}from"./chunk-TQN6MN4F.js";var M=0,Q=1,a=2,F=3;function P(t){return[t[0],t[1].cooldownText,t[1].coolTime,t[1].seen]}function D(t){return t[a]>l}function U(t,o){return t[a]-o[a]}function X(t){return`<tr><td class="fshCenter">${t[M]}</td><td class="fshBold fshCenter fshCooldown">${t[Q]}</td><td class="fshCenter">${t[F]}</td></tr>`}function V(t){return f(t).map(P).filter(D).sort(U).map(X).join("")}function q(t){let o=$({className:"fshTTracker"}),e=H({innerHTML:'<tr><td class="header fshCenter">Titan</td><td class="header fshCenter">Cooldown</td><td class="header fshCenter">Visible</td></tr>'});return c(o,e),m(e,V(t)),o}function g(t,o){if(t.rows.length>5){let e=q(o),r=t.insertRow(5).insertCell(-1);r.colSpan=3,c(r,e)}}function z(t){t.previousElementSibling&&h(i(t.previousElementSibling))}function G(t){return i(t.cells[0].children[0].children[0])}function J(t){let o=t.parentNode.parentNode.parentNode.parentNode,e=s(o.rows,3,0).map(G);h(e.join())}function K(t){let{target:o}=t;d("[b]",o)&&z(o),d("all",o)&&J(o)}function R(t){x("fshBl",t.target)&&K(t)}function W(t){m(t.cells[0],' <button class="fshBl fshXSmall">[b]</button>')}function Y(t){s(t.rows,3,0).forEach(W),m(t.rows[0].cells[0],' <button class="fshBl fshXSmall">all</button>')}function Z(t,o){return t.rows.length>1&&o>1}function tt(t){w(t).filter(Z).forEach(Y),N(t[1],R)}function b(t){t.length>2&&tt(t)}function O(t){return A(t.cells[0].children[0])}function ot(t,o){let e=O(o).replace(" (Titan)","");if(!t[e]){let n=i(o.nextElementSibling.cells[0]),r=0;n.includes("until")&&(r=_(n.replace("Cooldown until: ",""))),t[e]={cooldownText:n,coolTime:r,seen:"yes"}}}function et(t,o){t[o[0]]||o[1].coolTime<=l||(t[o[0]]={cooldownText:o[1].cooldownText,coolTime:o[1].coolTime,seen:"no"})}function nt(t,o){!t||f(t).forEach(u(et,o))}function rt(t,o,e){return`<br><span class="fshBlue"> (${T(v(e-o,t),2)}% Current <br>${T(t*100/e,2)}% Total<br>${I(t,e,o)})`}function mt(t,o){let e=o.split("/");m(t.cells[3],rt(Number(i(t.cells[3])),Number(e[0]),Number(e[1])))}function it(t){let o=i(t.cells[2]);o.indexOf("-")===-1&&mt(t,o)}function ct(t,o){let e=encodeURIComponent(o),n=t.cells[0].children[0],r=j({href:`${p}creatures&search_name=${e}`,target:"_blank"});c(r,n),c(t.cells[0],r)}function st(t){let o=t.cells[1],e=i(o);E(`<a href="${p}realms&search_name=${e}" target="_blank">${e}</a>`,o)}function lt(t){let o=O(t);ct(t,o),m(t.cells[0],o.replace(" (Titan)","")),st(t)}function ft(t,o){it(o),ot(t,o),lt(o)}function at(t,o){s(t.rows,4,0).forEach(u(ft,o))}function ut(t){let o=B(y,k);b(o);let e=o[1],n={};at(e,n),nt(t,n),g(o[0],n),S("fsh_titans",n)}function pt(){L()||C("fsh_titans").then(ut)}export{pt as default};
//# sourceMappingURL=injectScouttower-QGZNY6L2.js.map
