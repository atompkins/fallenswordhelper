import{a as Fa,b as _a}from"./chunk-BW5IEOME.js";import{a as Oa}from"./chunk-3FGQLMGR.js";import"./chunk-Y34A425K.js";import{a as $a}from"./chunk-AHCHIOTS.js";import{a as Lt}from"./chunk-FH75HW5R.js";import{a as Ra,b as Pa}from"./chunk-OUC7L6Q7.js";import{a as Va,b as Ga}from"./chunk-HAVSPGQL.js";import{a as Ia}from"./chunk-XZBXSSFH.js";import{a as Na}from"./chunk-GXORAUIH.js";import{b as Ma}from"./chunk-QQXNLRRJ.js";import{a as Ha}from"./chunk-YCDQXHEU.js";import"./chunk-ACEJX56Y.js";import{a as Ba}from"./chunk-HTKMNBUP.js";import{a as Sa,b as Aa}from"./chunk-VF7IWXW5.js";import{a as Ca}from"./chunk-XTPY6JRS.js";import{a as wa}from"./chunk-GWQIAEUO.js";import"./chunk-QXUUHL7X.js";import{a as ur}from"./chunk-HYNNYWWU.js";import"./chunk-GIOXQIKM.js";import{a as Ea}from"./chunk-6Q7YWYET.js";import{a as mr}from"./chunk-GNSNGI2K.js";import{a as h}from"./chunk-KM7CX52O.js";import{a as bt}from"./chunk-CBOBD5IF.js";import{a as fa}from"./chunk-VYIRKQUF.js";import"./chunk-KLBDBQBI.js";import"./chunk-CAKHFLIX.js";import{a as At}from"./chunk-CCPQ5UCL.js";import{a as Da}from"./chunk-4HA4ZKCB.js";import{a as ka}from"./chunk-ZI35FKJA.js";import{a as fr}from"./chunk-VD6II6W6.js";import"./chunk-BZJTPYZA.js";import{A as St,C as ga,O as sr,P as va,T as ya,U as xa,a as Bt,d as pa,e as lr,o as k,p as ie,q as le,r as da,s as b,t as Ee,u as Ce,v as ha,y as S}from"./chunk-5DWLXI2A.js";import{a as ba,b as La,c as Ta}from"./chunk-C7YONHEA.js";import"./chunk-ITOMCHW6.js";import"./chunk-BGP45KOK.js";import"./chunk-Y2V52NMO.js";import{a as ta}from"./chunk-HL2JWEAI.js";import"./chunk-5MFNYBOU.js";import{a as ve,b as yt}from"./chunk-HB6GHVBC.js";import{a as R}from"./chunk-3QRYYRDA.js";import{a as oa}from"./chunk-GYKRPCN6.js";import{a as Et}from"./chunk-QBDSJF4P.js";import"./chunk-3PKKL4OY.js";import{a as sa}from"./chunk-PGNGZ7BH.js";import{a as U}from"./chunk-YA7LUM3L.js";import{a as kt,b as wt}from"./chunk-ABBYVZE2.js";import{a as na}from"./chunk-W72PJQBX.js";import"./chunk-32HY5QBO.js";import{f as ae}from"./chunk-XP7MEXYI.js";import"./chunk-GKC6CNA3.js";import{a as la}from"./chunk-LXZINSYK.js";import{a as d}from"./chunk-OSTU6BBQ.js";import{a as j}from"./chunk-YP5CCUMO.js";import{a as Ct}from"./chunk-AP47UOBN.js";import{a as aa}from"./chunk-WLNM4U65.js";import"./chunk-3Y3PUEDB.js";import"./chunk-6DEPOJJJ.js";import{a as An}from"./chunk-ZKX2T3S6.js";import{a as Qn}from"./chunk-EWJFGUXI.js";import{a as ht,b as ir}from"./chunk-XQ5CNAXG.js";import{a as ke}from"./chunk-DHF6BJQI.js";import"./chunk-X66Q7UOF.js";import{a as De}from"./chunk-5HIH63DD.js";import{a as Zn}from"./chunk-HPL7UHIJ.js";import{a as ye}from"./chunk-HXSV6HQN.js";import{a as y}from"./chunk-YZLKCQP2.js";import"./chunk-KXW7HYGX.js";import{a as ra}from"./chunk-HTLHARA4.js";import{a as Dt}from"./chunk-KCQQXR3A.js";import{a as xt}from"./chunk-OFGKBPZY.js";import"./chunk-MVBTKOHN.js";import"./chunk-NH3HITNH.js";import{a as qe}from"./chunk-3WBAVR6T.js";import{a as oe}from"./chunk-RC4NT5JT.js";import{a as ge}from"./chunk-AIP6BPK2.js";import"./chunk-EQPMHYZD.js";import{a as re}from"./chunk-C34SKZ6F.js";import"./chunk-TMODYEZT.js";import"./chunk-H6KXMG2X.js";import{a as s}from"./chunk-PNCKZ23Z.js";import{a as ca}from"./chunk-BR5BZ5EG.js";import{a as Yn}from"./chunk-GUIE3S4C.js";import{a as I}from"./chunk-FTXTFPQL.js";import{a as W}from"./chunk-4AN7KDFP.js";import"./chunk-WERDHZX6.js";import{a as dt}from"./chunk-7RQZYKTJ.js";import{a as Ke}from"./chunk-UND2M5KJ.js";import{a}from"./chunk-XJ4CM2CH.js";import{a as c}from"./chunk-626NJWGF.js";import"./chunk-6LZRRVCI.js";import"./chunk-KUIZLI6K.js";import"./chunk-LOSGOKOA.js";import{a as we}from"./chunk-2A4DWP7Z.js";import{a as ma}from"./chunk-X7LACEVL.js";import{a as ua}from"./chunk-UG6Q3XWI.js";import{a as z}from"./chunk-D5AS4V7F.js";import{a as ne}from"./chunk-WUYDXKAM.js";import"./chunk-5XAAMTXP.js";import{a as ia}from"./chunk-O5LMDCSL.js";import"./chunk-T5PPVP6C.js";import{a as ea}from"./chunk-4LLJDNLH.js";import{a as w}from"./chunk-J3KBZ4ZI.js";import{a as C}from"./chunk-Y27L7NRG.js";import{a as G}from"./chunk-PYNBBPHV.js";import{a as xe}from"./chunk-5TZ7D23L.js";import"./chunk-BPFW3H66.js";import{a as i}from"./chunk-SRX5YX5V.js";import"./chunk-YZX6UUEO.js";import"./chunk-RLHOQMY5.js";import"./chunk-EGDIV5JD.js";import{a as vt}from"./chunk-SCZRPZMX.js";import{a as Xn}from"./chunk-MCETWLUS.js";import{a as gt}from"./chunk-A6IIWQBH.js";import{a as Jn}from"./chunk-MC5JUWDN.js";import{b as g}from"./chunk-AACPE6UD.js";import{a as n}from"./chunk-SCZYWGQD.js";import{a as jn}from"./chunk-AMPLIILU.js";import{$ as Nn,Aa as Wn,Ba as Un,Ca as zn,I as nr,L as Ln,La as pt,N as ar,V as Tn,W as he,X as ut,Y as Mn,Z as Hn,_ as Vn,aa as Gn,ba as In,c as ft,ca as $n,da as Rn,ea as mt,fa as Pn,ga as Fn,ha as _n,i as de,ja as On,ka as q,la as ct,ma as T,n as or,v as bn,ya as Kn,za as qn}from"./chunk-7JEA3TWT.js";import{b as te}from"./chunk-5BRYW4V3.js";import{a as m}from"./chunk-MJT5TAYX.js";var se;function ml(e){return e}function cl(e){return n.showBuffInfo&&e.some(ml)}function pl(){if(se)h(se,!1);else{se=c({className:"fshActionBox",innerHTML:"<div></div><div></div><div></div><div></div><div></div><div></div>"});let e=i("actionContainer");Ba(se,e.children[2])}return se}function dl(){se&&h(se,!0)}function cr(e){if(cl(e))return pl();dl()}var P,pr;function hl(e){P=e.children[3],P.className="fshBlue",s("CA ",P),pr=d(),a(P,pr),R(P," active")}function gl(e,t){P?h(P,!1):hl(e),s(t.level,pr)}function vl(){P&&h(P,!0)}function dr(e,t){t?gl(e,t):vl()}var F,hr;function yl(e){F=e.children[4],F.className="fshRed",s("Doubler ",F),hr=d(),a(F,hr),R(F," active")}function xl(e,t){F?h(F,!1):yl(e),s(t.level,hr)}function Dl(){F&&h(F,!0)}function gr(e,t){t?xl(e,t):Dl()}var Q,vr;function kl(e){Q=e.children[2],s("Damage bonus: ",Q),vr=d(),a(Q,vr),R(Q,"%")}function wl(e,t){if(e){let r=Math.min(Math.round(Math.floor(t/5)*Number(e.level))*.01,20);return ve(r,2).toString()}return"0"}function El(e,t,r){Q?h(Q,!1):kl(e),s(wl(t,Number(r)),vr)}function Cl(){Q&&h(Q,!0)}function yr(e,t,r){t?El(e,t,r):Cl()}function p(e,t){s(U(e),t)}var fe,xr;function Bl(e){fe=e.children[1],s("Kill Streak: ",fe),xr=d(),a(fe,xr)}function Sl(e,t){fe?h(fe,!1):Bl(e),p(t,xr)}function Al(){fe&&h(fe,!0)}function Dr(e,t,r,o){t||r?Sl(e,o):Al()}function bl(e,t){return t.name===e}function Y(e){let{buffs:t}=GameData.player();if(t)return t.find(m(bl,e))}function kr(){let e=GameData.player().teleportCooldown;return e>1&&e}var Ll=["red","orange","yellow"];function wr(){let e=$("#actionlist-shield-imp");e.length===1&&e.css("background-color",Ll[e.text()]||"#ad8043")}var V,Er;function Tl(e){_a(e)&&GameData.fetch(q)}function Ml(){Y("Summon Shield Imp")||Fa([ye()],[55]).then(Tl)}function Hl(e){return e?Number(e.stack):0}var Vl=["imp-0","imp-1","imp-1"];function Nl(e){return Vl[e]||"fshGreen"}function Gl(e){V=e.children[0],s("Shield Imps Remaining: ",V),Er=d(),a(V,Er),re(V,"&nbsp;");let t=d({className:"xSmallLink",textContent:"Recast"});a(V,t),C(t,Ml)}function Il(e,t){V?h(V,!1):Gl(e);let r=Hl(t);V.className=Nl(r),s(r,Er)}function $l(){V&&h(V,!0)}function Cr(e,t,r){t||r?Il(e,t):$l()}function Rl(e){return e.type===0}function Br(){let{dynamic:e}=GameData.realm();return I(e)&&e.some(Rl)}function D(e){return d({textContent:e})}var ue,Tt,Ka;function Pl(e,t){ue=e.children[5],s("Teleport Cooldown: ",ue),Tt=D(t.toString()),a(ue,Tt)}function Fl(e,t){ue?h(ue,!1):Pl(e,t)}function _l(){ue&&h(ue,!0)}function qa(){let e=Math.max(Math.ceil((Ka-Date.now())/1e3),0);s(e,Tt),e>0&&setTimeout(qa,500)}function Wa(e){Tt&&(Ka=Date.now()+e*1e3,qa())}function Ua(e,t){t?Fl(e,t):_l()}var We,Sr,Ar,br,Lr,Tr,Mr;function Ol(){We=Y("Death Dealer"),Sr=Y("Doubler"),Ar=Y("Counter Attack"),br=Y("Summon Shield Imp"),Lr=kr(),Tr=Br(),Mr=GameData.player().killStreak}function Hr(){wr(),Ol();let e=cr([We,Sr,Ar,br,Lr,Tr]);e&&(Cr(e,br,We),Dr(e,We,Tr,Mr),yr(e,We,Mr),dr(e,Ar),gr(e,Sr),Ua(e,Lr))}function Kl(e,t){Wa(t.player.teleportCooldown)}function za(){Hr(),$.subscribe(`${ut} ${Mn}`,Hr),$.subscribe(_n,Kl)}function ja(){n.showBuffInfo=!n.showBuffInfo,y("showBuffInfo",n.showBuffInfo),Hr()}function ql(){return window.GameController&&GameController.Realm&&!GameController.Realm.footprintTileList}function Vr(){ql()&&(GameController.Realm.footprintTileList=[])}function Qa(e,t,r){return ra({className:`fshCurveEle fshCurveLbl fshPoint tip-static ${e}`,dataset:{tipped:t},htmlFor:r})}function Mt(e){let t=c({className:"fshToggle"}),r=xt({checked:e.prefVal,id:e.checkId,type:"checkbox"});a(t,r);let o=Qa(e.onClass,e.onTip,e.checkId);a(t,o);let l=Qa(e.offClass,e.offTip,e.checkId);return a(t,l),a(e.worldName,t),r}var J,Ht,Vt,Ya,Ja,Xa,Za,ei,ti;function Wl(e){qe(e),GameData.doAction(12,401,{},0)}function Ul(){aa(ye())}function zl(){window.open(`${Ln+or}map`,"fsMap")}function jl(){let e=GameData.realm();window.open(`${Tn}realms${or}view&realm_id=${e.id}`,"mapUfsg")}function Ql(){y("playNewMessageSound",!g("playNewMessageSound"))}function Yl(){n.huntingMode=!n.huntingMode,y("huntingMode",n.huntingMode)}function Jl(){return c({className:"fshCurveContainer",id:"fshWorldButtonContainer"})}function ri(e){return e?e.toString():"?"}function Xl(){let e=c({textContent:"Min Lvl: "});return Ht=D(ri(GameData.realm().minlevel)),a(e,Ht),e}function Zl(){let e=c({textContent:"Your Lvl: "});return Vt=D(ri(GameData.player().level)),a(e,Vt),e}function es(e){let t=c({className:"fshFsty"});a(t,Xl()),a(t,Zl()),a(e,t)}function Nt(e,t,r){let o=j({className:`fshCurveEle fshCurveBtn fshPoint tip-static ${e}`,dataset:{tipped:t}});return a(r,o),o}function ts(e){es(e),Ya=Nt("fshFormGroup","Quick Create Attack Group",e),Ja=Nt("fshQuickBuff","Open Quick Buff Popup",e),Xa=Nt("fshRealmMap","Open Realm Map",e),Za=Nt("fshTempleOne","Search map in Ultimate FSG",e)}function rs(e){if(g("showSpeakerOnWorld")){let t=g("playNewMessageSound");ei=Mt({prefVal:t,checkId:"fshSoundCheck",onClass:"soundOn",onTip:"Turn Off Sound when you have a new log message",offClass:"soundOff",offTip:"Turn On Sound when you have a new log message",worldName:e})}}function os(e){let t=n.huntingMode;ti=Mt({prefVal:t,checkId:"fshHuntCheck",onClass:"huntOn",onTip:"Hunting mode is ON",offClass:"huntOff",offTip:"Hunting mode is OFF",worldName:e})}function ns(){ts(J),rs(J),os(J)}var as=[[e=>e===ei,Ql],[e=>e===ti,Yl]],is=[[e=>e===Ya,Wl],[e=>e===Ja,Ul],[e=>e===Xa,zl],[e=>e===Za,jl]];function ls(){C(J,ur(is)),G(J,"change",ur(as))}function ss(){J||(J=Jl(),ns(),ls(),Dt(J,i("worldCoord")))}function fs(e,t){Ht&&t.b.minlevel&&(Vr(),s(t.b.minlevel,Ht))}function us(e,t){Vt&&s(t.b,Vt)}function Nr(){ss(),$.subscribe(In,fs),$.subscribe(Hn,us)}var ms=["NORMAL","CHAMPION","ELITE","SUPER ELITE","TITAN","LEGENDARY"],Gt=!1;function Gr(e){return De(".verb.attack",e)}function Ir(e){let t=ms.indexOf(e.toUpperCase());return vt(`#actionList .actionListItem.creature.creature-${t}`)}function oi(e){let t=["LEGENDARY","NORMAL"].flatMap(Ir),r=Ir("CHAMPION"),[o,l]=e?[t,r]:[r,t],f=`url("${te}ui/world/icon_action_attack_`;o.map(Gr).filter(u=>u!==null).forEach(u=>{u.classList.remove("attack-1","attack-2","attack-3","attack-4","attack-5","attack-6","attack-7","attack-8"),u.style.backgroundImage=""}),l.slice(0,8).map(Gr).forEach((u,A)=>{u!==null&&(u.classList.add(`attack-${A+1}`),u.style.backgroundImage=`${f}${A+1}.png")`)})}function cs(e){if(!e.altKey||!e.shiftKey||e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||(Gt||oi(!0),Gt=!0,!e.code.match(/(Digit|Numpad)[1-8]/)))return;let t=Ir("CHAMPION"),r=parseInt(e.code.slice(-1),10)-1;if(r<t.length){let o=Gr(t[r]);o!==null&&(xe("world","ChampionAttack"),o.click())}}function ps(e){Gt&&(!e.ctrlKey||!e.shiftKey)&&(Gt=!1,oi(!1))}function $r(){let{body:e}=document;G(e,"keydown",cs),G(e,"keyup",ps)}var ds=["Breaker","Protection","Master Thief","Protect Gold","Disarm","Duelist","Thievery","Master Blacksmith","Master Crafter","Fury Caster","Master Inventor","Sustain"],Rr=[],L;function hs(e){(e.id===54||e.id===26)&&(L.player.buffs[e.id]=parseInt(e.level,10))}function gs(e){ds.indexOf(e.name)===-1&&(L.player.enhancements[e.name]=e.value)}function vs(e){e.player.buffs&&e.player.buffs.forEach(hs)}function ys(e){e.player.enhancements&&e.player.enhancements.forEach(gs)}function xs(e,t){L={},L.combat=t.response.data,L.combat.inventory_id&&(L.combat.drop=L.combat.item.id),L.player={},L.player.buffs={},L.player.enhancements={},vs(t),ys(t),L.time=t.time,Rr.push(L),wt("fsh_combatLog",Rr)}function Ds(e,t){t.response.response===0&&xs(e,t)}function ks(e){e&&(Rr=e),$.subscribe(mt,Ds)}function Pr(){g("keepLogs")&&kt("fsh_combatLog").then(ks)}function me(e){return n.doNotKillList.includes(ge(e))}function ws(e){e.classList.toggle("fshBlue",me(Jn(e)))}function Be(){let e=i("actionList");bt("creature",e).forEach(ws)}function Es(e,t){if(me(e))return i("actionList").children[t].children[0].children[1].classList.remove("loading"),!0}function Cs(e){let t=GameData.actions()[e];if(t)return Es(t.data.name,e)}function Bs(e){return function(r,o,l,f){Cs(l.passback)||e(r,o,l,f)}}var Ss={2:Bs};function As(e){return jn(e)||e===0}function bs(e){return e&&dt(e)}function Ls(e){return function(r,o,l,f){let u=Ss[r];bs(u)&&As(f)?u(e)(r,o,l,f):e(r,o,l,f)}}function Fr(){let e=GameData.doAction;GameData.doAction=Ls(e)}function _r(){$.subscribe(he,Be),Be(),Fr()}function ni(e){e[1]=e[2].r.list}function ai(e,t,r){let o=e.slice();return o[3]=t[r],o[5]=r,o}function Ts(e){let t,r=e[6].message+"",o;return{c(){t=b("p"),o=Ee(r),ga(t,"color","red")},m(l,f){ie(l,t,f),k(t,o)},p(l,f){f&1&&r!==(r=l[6].message+"")&&St(o,r)},d(l){l&&le(t)}}}function Ms(e){ni(e);let t,r,o,l=e[1],f=[];for(let u=0;u<l.length;u+=1)f[u]=li(ai(e,l,u));return{c(){t=b("table"),r=b("tr"),r.innerHTML=`<td class="header"></td> 
      <td class="header"></td> 
      <td class="header">Username</td> 
      <td class="header">Kills</td>`,o=Ce();for(let u=0;u<f.length;u+=1)f[u].c();S(r,"class","svelte-1p6satm"),S(t,"id","world-event-contrib-table"),S(t,"class","svelte-1p6satm")},m(u,A){ie(u,t,A),k(t,r),k(t,o);for(let x=0;x<f.length;x+=1)f[x].m(t,null)},p(u,A){if(ni(u),A&1){l=u[1];let x;for(x=0;x<l.length;x+=1){let K=ai(u,l,x);f[x]?f[x].p(K,A):(f[x]=li(K),f[x].c(),f[x].m(t,null))}for(;x<f.length;x+=1)f[x].d(1);f.length=l.length}},d(u){u&&le(t),da(f,u)}}}function ii(e){let t,r,o,l;return{c(){t=b("a"),r=b("img"),lr(r.src,o=""+(te+"guilds/"+e[3].guild.id+"_mini.png"))||S(r,"src",o),S(r,"alt","guild logo"),S(r,"class","svelte-1p6satm"),S(t,"href",l=""+(nr+e[3].guild.id))},m(f,u){ie(f,t,u),k(t,r)},p(f,u){u&1&&!lr(r.src,o=""+(te+"guilds/"+f[3].guild.id+"_mini.png"))&&S(r,"src",o),u&1&&l!==(l=""+(nr+f[3].guild.id))&&S(t,"href",l)},d(f){f&&le(t)}}}function li(e){let t,r,o=e[5]+1+"",l,f,u,A,x,K,it=e[3].player.name+"",er,lt,Bn,tr,st=e[3].value+"",rr,Sn,E=e[3].guild&&ii(e);return{c(){t=b("tr"),r=b("td"),l=Ee(o),f=Ce(),u=b("td"),E&&E.c(),A=Ce(),x=b("td"),K=b("a"),er=Ee(it),Bn=Ce(),tr=b("td"),rr=Ee(st),Sn=Ce(),S(K,"href",lt=""+(ar+e[3].player.name)),S(t,"class","svelte-1p6satm")},m(H,pe){ie(H,t,pe),k(t,r),k(r,l),k(t,f),k(t,u),E&&E.m(u,null),k(t,A),k(t,x),k(x,K),k(K,er),k(t,Bn),k(t,tr),k(tr,rr),k(t,Sn)},p(H,pe){H[3].guild?E?E.p(H,pe):(E=ii(H),E.c(),E.m(u,null)):E&&(E.d(1),E=null),pe&1&&it!==(it=H[3].player.name+"")&&St(er,it),pe&1&&lt!==(lt=""+(ar+H[3].player.name))&&S(K,"href",lt),pe&1&&st!==(st=H[3].value+"")&&St(rr,st)},d(H){H&&le(t),E&&E.d()}}}function Hs(e){let t;return{c(){t=Ee("Loading...")},m(r,o){ie(r,t,o)},p:Bt,d(r){r&&le(t)}}}function Vs(e){let t,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:Hs,then:Ms,catch:Ts,value:2,error:6};return sr(r=e[0],o),{c(){t=ha(),o.block.c()},m(l,f){ie(l,t,f),o.block.m(l,o.anchor=f),o.mount=()=>t.parentNode,o.anchor=t},p(l,[f]){e=l,o.ctx=e,f&1&&r!==(r=e[0])&&sr(r,o)||va(o,e,f)},i:Bt,o:Bt,d(l){l&&le(t),o.block.d(l),o.token=null,o=null}}}function Ns(e,t,r){let{promise:o}=t;return e.$$set=l=>{"promise"in l&&r(0,o=l.promise)},[o]}var si=class extends xa{constructor(t){super();ya(this,t,Ns,Vs,pa,{promise:0})}},fi=si;function Or(e){return ma({cmd:"toprated",subcmd:e})}var Gs=({username:e,value:t})=>({player:{name:e},value:t});async function Kr(e){if(e==="globalquest")return{r:{list:(await ca({cmd:"toprated",subcmd:"eventcontrib"})).map(Gs)}}}function qr(e){return we(Or,Kr,e)}var Wr,ui=()=>({promise:qr("globalquest")});function Is(e){Wr?Wr.$set(ui()):Wr=new fi({props:ui(),target:e})}function $s(){let e=i("world-event-contrib");Is(e),$(e).dialog({title:"Top 100 Event Contributers",minWidth:300,height:300,zIndex:9999})}function Ur(){let e=$("#world-event-badge");!e.length||(e.off(),C(e[0],$s))}function Rs(e){return e.response&&e.response.msg&&e.response.msg.startsWith("Creature did not exist at that location")}function Ps(e){Rs(e)&&GameData.fetch(ct+T)}function Fs(e){e.remove()}function _s(e,t){Ps(t),vt(".creature-4 > .quickCombat > .verbs").forEach(Fs)}function zr(){$.subscribe(mt,_s)}function _(e){return!e||!e.response||!e.response.data}var mi='<table class="relicT relicS"><thead><tr><th colspan="2">Adjusted defense values</th></tr></thead><tbody><tr><td>DC225:</td><td id="DC225">0</td></tr><tr><td>DC175:</td><td id="DC175">0</td></tr><tr><td colspan="2">&nbsp;</td></tr></tbody><thead><tr><th colspan="2">Attacking Group Stats</th></tr></thead><tbody><tr><td>Raw Group Attack:</td><td class="fshGrey" id="GroupAttack"></td></tr><tr><td>Group Attack w/ buffs:</td><td id="GroupAttackBuffed"></td></tr><tr><td>Raw Group Defense:</td><td class="fshGrey" id="GroupDefense"></td></tr><tr><td>Group Defense w/ buffs:</td><td id="GroupDefenseBuffed"></td></tr><tr><td>Raw Group Armor:</td><td class="fshGrey" id="GroupArmor"></td></tr><tr><td>Group Armor w/ buffs:</td><td id="GroupArmorBuffed"></td></tr><tr><td>Raw Group Damage:</td><td class="fshGrey" id="GroupDamage"></td></tr><tr><td>Group Damage w/ buffs:</td><td id="GroupDamageBuffed"></td></tr><tr><td>Raw Group HP:</td><td class="fshGrey" id="GroupHP"></td></tr><tr><td>Group HP w/ buffs:</td><td id="GroupHPBuffed"></td></tr></tbody></table>',ci='<table class="relicT relicS"><thead><tr><th colspan="2">Defending Guild Stats</th></tr></thead><tbody><tr><td>Relic Count:</td><td id="relicCount">0</td></tr><tr><td>Lead Defender Bonus:</td><td id="LDPercentage">0</td></tr><tr><td>Lead Defender Cloaked:</td><td id="LDCloaked">No</td></tr></tbody><thead><tr><th colspan="2">Other Defender Stats</th></tr></thead><tbody><tr><td>Raw Attack:</td><td class="fshGrey" id="attackValue">0</td></tr><tr><td>Attack w/ buffs:</td><td id="attackValueBuffed">0</td></tr><tr><td>Raw Defense:</td><td class="fshGrey" id="defenseValue">0</td></tr><tr><td>Defense w/buffs:</td><td id="defenseValueBuffed">0</td></tr><tr><td>Raw Armor:</td><td class="fshGrey" id="armorValue">0</td></tr><tr><td>Armor w/ buffs:</td><td id="armorValueBuffed">0</td></tr><tr><td>Raw Damage:</td><td class="fshGrey" id="damageValue">0</td></tr><tr><td>Damage w/ buffs:</td><td id="damageValueBuffed">0</td></tr><tr><td>Raw HP:</td><td class="fshGrey" id="hpValue">0</td></tr><tr><td>HP w/ buffs:</td><td id="hpValueBuffed">0</td></tr><tr><td>Cloaked:</td><td id="defendersCloaked">0</td></tr><tr><td>Processed:</td><td id="defendersProcessed">0</td></tr></tbody></table>',pi='<table class="relicT"><thead><tr><th colspan="2">Processing</th></tr></thead><tbody><tr><td class="fshGreen" colspan="2" id="ProcessingStatus">Parsing defending guild stats ...</td></tr></tbody><thead><tr><th colspan="2">Assumptions</th></tr></thead><tbody><tr><td colspan="2" class="fshGrey">Above calculations include Constitution, Fortitude, Nightmare Visage, Chi Strike, Sanctuary, Terrorize and Flinch bonus calculations (in that order) on both the defending group and attacking group.</td></tr></tbody></table>';var O,Se,Ae,be;function Os(e){return e.player_name}function Ks(e){be=e.defenders.map(Os)}function qs(){O?w("",O):O=c({className:"body"})}function Ws(e){Se=c({className:"fshFloatLeft fshRelicLeftDiv"}),a(O,Se),e.is_owner&&a(Se,Va(be)),Ae=j({className:"custombutton",textContent:"Fetch Stats"}),a(Se,Ae)}function di(e){Ks(e),qs(),Ws(e);let t=i("dialog-relic");a(t,O)}var N,hi,gi,jr,Qr,Yr,Jr,It,Xr,Zr,eo,to,ro,oo,no,ao,io,lo,so,fo,uo,mo,co,po,ho,go,vo,yo,xo,Do,X,Us=[e=>e!=="lastUpdate",e=>!be.includes(e),e=>N[e].last_login,e=>Number(N[e].last_login)<hi,e=>Number(N[e].last_login)>gi,e=>N[e].level<400||N[e].level>421,e=>N[e].level<441||N[e].level>450];function zs(e,t){return t(e)}function js(e){return Us.every(m(zs,e))}function Qs(e){return`<a href="${bn}${N[e].id}">${e}</a>`}function Ys(e){N=e,hi=ir-120,gi=ir-604800;let t=ea(N).filter(js).map(Qs);re(O,`<div class="fshFloatLeft fshRelicLowDiv"><table class="relicT"><thead><tr><th>${t.length.toString()} Offline guild members not at relic:</th></tr></thead><tbody><tr><td>${t.join(" ")}</td></tr></tbody></table></div>`)}function Js(){jr=i("relicCount"),Qr=i("LDPercentage"),Yr=i("LDCloaked"),Jr=i("attackValue"),It=i("attackValueBuffed"),Xr=i("defenseValue"),Zr=i("defenseValueBuffed"),eo=i("armorValue"),to=i("armorValueBuffed"),ro=i("damageValue"),oo=i("damageValueBuffed"),no=i("hpValue"),ao=i("hpValueBuffed"),io=i("defendersCloaked"),lo=i("defendersProcessed")}function Xs(){so=i("DC225"),fo=i("DC175"),uo=i("GroupAttack"),mo=i("GroupAttackBuffed"),co=i("GroupDefense"),po=i("GroupDefenseBuffed"),ho=i("GroupArmor"),go=i("GroupArmorBuffed"),vo=i("GroupDamage"),yo=i("GroupDamageBuffed"),xo=i("GroupHP"),Do=i("GroupHPBuffed")}function vi(e){Ct(Ae);let t=g("hideRelicOffline");e.is_owner&&!t&&Ha(!0).then(Ys),re(Se,pi),X=i("ProcessingStatus");let r=c({className:"fshFloatLeft fshRelicMidDiv",innerHTML:ci});a(O,r),Js();let o=c({className:"fshFloatLeft fshRelicRightDiv",innerHTML:mi});a(O,o),Xs()}var $t;function Zs(e){return e===1?1.5:ve(1-e/10,2)}function yi(e){let t=z(e),o=Xn('#pCC img[src*="/relics/"]',t).length;s(o,jr),$t=Zs(o),s(`${String($t*100)}%`,Qr)}function Rt(e,t){return e>t*10||e<t?e:t*10}function ef(e){e.attackValue=Rt(e.attackBonus,e.levelValue),e.defenseValue=Rt(e.defenseBonus,e.levelValue),e.armorValue=Rt(e.armorBonus,e.levelValue),e.damageValue=Rt(e.damageBonus,e.levelValue),e.hpValue=e.hpBonus}var tf=[["levelValue","level"],["attackValue","attack"],["attackBonus","bonus_attack"],["defenseValue","defense"],["defenseBonus","bonus_defense"],["armorValue","armor"],["armorBonus","bonus_armor"],["damageValue","damage"],["damageBonus","bonus_damage"],["hpValue","hp"],["hpBonus","bonus_hp"],["killStreakValue","killstreak"]];function rf(e,t,r){e[r[0]]=Number(t[r[1]])}function of(e,t){tf.forEach(m(rf,e,t))}var nf=[["counterAttackLevel","Counter Attack"],["doublerLevel","Doubler"],["deathDealerLevel","Death Dealer"],["darkCurseLevel","Dark Curse"],["holyFlameLevel","Holy Flame"],["constitutionLevel","Constitution"],["sanctuaryLevel","Sanctuary"],["flinchLevel","Flinch"],["nightmareVisageLevel","Nightmare Visage"],["superEliteSlayerLevel","Super Elite Slayer"],["fortitudeLevel","Fortitude"],["chiStrikeLevel","Chi Strike"],["terrorizeLevel","Terrorize"],["barricadeLevel","Barricade"],["reignOfTerrorLevel","Reign Of Terror"],["anchoredLevel","Anchored"],["severeConditionLevel","Severe Condition"],["entrenchLevel","Entrench"],["cloakLevel","Cloak"]];function af(e,t,r){e[r[0]]=t[r[1]]||0}function lf(e,t){nf.forEach(m(af,e,t))}function Le(e){if(!e)return;let t=Lt(e._skills),r={};return of(r,e),lf(r,t),r.superEliteSlayerMultiplier=ve(.002*r.superEliteSlayerLevel,2),Zn(r.armorValue)&&ef(r),r}var Te,Pt,Ue,Me,ze,Ft,je,ko,wo,B,v,ce;function sf(){v.attack-=ce.attack,v.defense-=ce.defense,v.armor-=ce.armor,v.damage-=ce.damage,v.hp-=ce.hp}function Qe(e){return Math.round(e*$t)}function ff(){Te+=Qe(B.attackValue),Ue+=Qe(B.defenseValue),Me+=Qe(B.armorValue),ze+=Qe(B.damageValue),je+=Qe(B.hpValue)}function xi(){p(Te,Jr),p(Ue,Xr),p(Me,eo),p(ze,ro),p(je,no),s(ko,io),wo+=1,s(wo,lo)}function uf(){p(v.attack,uo),p(v.defense,co),p(v.armor,ho),p(v.damage,vo),p(v.hp,xo)}function mf(e){return Math.ceil(v.attack*(W(e["Nightmare Visage"],0)*.0025))}function cf(){let e=Math.ceil(v.attack*B.flinchLevel*.001);p(v.attack-e,mo)}function pf(e){return Math.ceil(v.defense*(1+W(e.Constitution,0)*.001))}function df(e,t){p(t+e,po)}function hf(e){p(v.armor+Math.floor(v.armor*W(e.Sanctuary,0)*.001),go)}function gf(e,t){return Math.ceil(t*W(e.Fortitude,0)*.001)}function vf(e){p(v.hp+e,Do)}function yf(e,t){let r=Math.ceil((v.hp+t)*W(e["Chi Strike"],0)*.001),o=Math.ceil(v.damage*B.terrorizeLevel*.001);p(v.damage+r-o,yo)}function xf(e){let t=mf(e);v.attack-=t,cf();let r=pf(e);df(t,r),hf(e);let o=gf(e,r);vf(o),yf(e,o)}function Df(e){let t=Math.ceil(Pt*W(e.Flinch,0)*.001);p(Pt-t,It)}function kf(e){let t=Math.ceil(Ft*W(e.Terrorize,0)*.001);p(Ft-t,oo)}function wf(){s("Processing attacking group stats ... ",X),ce&&sf(),uf();let e=Lt(GameData.player().buffs);xf(e),Df(e),kf(e),s("Done.",X)}function Ef(){return Math.ceil(Te*(B.nightmareVisageLevel*.0025))}function Cf(){return Math.ceil(Ue*(1+B.constitutionLevel*.001))}function Bf(e){Pt=Te-e,p(Pt,It)}function Di(e){return 1-e*pt}function Sf(e,t){let r=t+e;p(r,Zr),p(Math.ceil(r*Di(225)),so),p(Math.ceil(r*Di(175)),fo)}function Af(){p(Me+Math.floor(Me*B.sanctuaryLevel*.001),to)}function bf(e){return Math.ceil(e*B.fortitudeLevel*.001)}function Lf(e){Ft=ze+Math.ceil(e*B.chiStrikeLevel*.001),p(Ft)}function Tf(){B.cloakLevel!==0&&s("Yes",Yr)}function ki(){s("Processing defending guild stats ... ",X),ff(),xi();let e=Ef();Bf(e);let t=Cf();Sf(e,t),Af();let r=je+bf(t);p(r,ao),Lf(r),Tf(),GameData.player().hasGroup&&v?wf():s("Done.",X)}function wi(e){let t=Le(e);Te+=Math.round(t.attackValue*de),Ue+=Math.round(t.defenseValue*de),Me+=Math.round(t.armorValue*de),ze+=Math.round(t.damageValue*de),je+=Math.round(t.hpValue*de),t.cloakLevel!==0&&(ko+=1),xi()}function Ei(e){B=Le(e)}function Ci(e){v=e}function Bi(e){ce=e}function Si(){Te=0,Ue=0,Me=0,ze=0,je=0,ko=0,wo=0}var Ye;function Mf(e){s(e.message,X)}function Hf(e){return e.parentNode.parentNode.previousElementSibling.previousElementSibling.innerHTML.indexOf('"#000099"')!==-1}function Vf(e){let t=e.previousElementSibling.href,r=[Ga(t).then(Ci)];return Hf(e)&&r.push(Ia().then(Bi)),r}function Nf(e){let t=z(e),r=De('#pCC a[href*="confirmDisband"]',t);if(!r)return;let o=Vf(r);return Da(o)}function Gf(){return ne({cmd:"guild",subcmd:"groups"}).then(Nf)}function If(){return ne({cmd:"guild",subcmd:"view",guild_id:Ye.controlled_by.guild_id}).then(yi)}function $f(e,t){return t===0?mr(e).then(Ei):mr(e).then(wi).catch(Mf)}function Rf(){return be.map($f)}function Pf(){let e=[If()];return GameData.player().hasGroup&&e.push(Gf()),e=e.concat(Rf()),e}function Ff(){vi(Ye),Si();let e=Pf();At(e,ki)}function _f(e,t){_(t)||(Ye=t.response.data,Ye.defenders.length>0&&(di(Ye),An(Ae,"click",Ff)))}function Eo(){$.subscribe(Pn,_f)}function Je(e){return ia({cache:!1,url:"fetchdata.php",data:ua(e,{fshrnd:Ma()}),dataType:"json"})}var Ai=[];function Of(e){return _(e)||Ai.push(e),e}function Kf(e,t){return e===Number(t.response.data.id)}function qf(e,t){e(t)}function Wf(e){return new Promise(t=>{Yn(3,qf,[t,e])})}function Xe(e,t){let r=Ai.find(m(Kf,e));return r?Wf(r):Je({a:1,id:e,passback:t}).then(Of)}var _t,Co,Bo,So,Ao,bo;function Ze(e,t){return na(ke(t,e))}function Uf(e){Bo=Ze(e,qn),Co=Ze(e,Kn),Ao=Ze(e,Un),So=Ze(e,Wn),bo=Ze(e,zn)}function bi(){_t=GameData.player().level,Uf(i("statbar-character-tooltip-stats"))}function zf(e){return`<table><tr><td><img src="${te}creatures/${e.image_id}.png" height="200" width="200"></td><td rowspan="2"><table width="400"><tr><td class="header" colspan="4" class="fshCenter">Statistics</td></tr>`}function jf(e,t){return`<tr><td>Class:&nbsp;</td><td width="40%">${e.creature_class}</td><td>Level:&nbsp;</td><td width="40%">${e.level} (your level:<span class="${t}">${_t}</span>)</td></tr>`}function Qf(e){return`<tr><td>Attack:&nbsp;</td><td width="40%">${e.attack} (your defense:<span class="fshYellow">${Co}</span>)</td><td>Defense:&nbsp;</td><td width="40%">${e.defense} (your attack:<span class="fshYellow">${Bo}</span>)</td></tr>`}function Yf(e){return`<tr><td>Armor:&nbsp;</td><td width="40%">${e.armor} (your damage:<span class="fshYellow">${So}</span>)</td><td>Damage:&nbsp;</td><td width="40%">${e.damage} (your armor:<span class="fshYellow">${Ao}</span>)</td></tr>`}function Jf(e,t){return`<tr><td>HP:&nbsp;</td><td width="40%">${e.hp} (your HP:<span class="fshYellow">${bo}</span>)(1H: <span class="fshRed">${t}</span>)</td><td>Gold:&nbsp;</td><td width="40%">${e.gold}</td></tr>`}var Xf='<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Enhancements</td></tr>';function Zf(e){return`<tr><td colspan="2">${e.name}:</td><td colspan="2">${e.value}</td></tr>`}function eu(e){return e.enhancements.length===0?'<tr><td colspan="4">[no enhancements]</td></tr>':e.enhancements.map(Zf).join("")}function tu(e){return`<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Description</td></tr><tr><td colspan="4">${e.description}</td></tr><tr><td colspan="4" height="5"></td></tr></table></td></tr><tr><td class="fshCenter"><b>${e.name}</b></td></tr></table>`}function ru(e,t,r){return zf(e)+jf(e,r)+Qf(e)+Yf(e)+Jf(e,t)+Xf+eu(e)+tu(e)}function ou(e){let t=Math.ceil(e.hp*n.hpVariable+e.armor*n.generalVariable),r="fshYellow";return bi(),_t>e.level&&(r="fshRed"),ru(e,t,r)}function Lo(e){if(!_(e))return ou(e.response.data)}var nu=["verb","view","tip-static"];function au(e,t){$(e).qtip({overwrite:!0,show:{event:"mouseover",ready:!0},style:{classes:"qtip-tipsy qtip-custom"},position:{my:"center right",at:"center left",effect:!1,viewport:$(window)},content:{text:t},hide:{effect:!1}})}function iu(e){return gt(e.parentNode.children).indexOf(e)}function lu(e,t){let r=Lo(t);e.set("content.text",r)}function su(e,t,r){return Xe(GameData.actions()[e].data.id,e).then(m(lu,r)),"Loading..."}function fu(e,t){xe("NewMap","CreatureInfo");let r=iu(t);e.classList.add("fshTip"),au(e,m(su,r))}function uu(e,t){return wa(nu,e)&&!Ke("fshTip",e)&&Ke("creature",t)}function mu(e){if(!n.showCreatureInfo)return;let{target:t}=e,r=t.parentNode.parentNode.parentNode;uu(t,r)&&fu(t,r)}function To(){G(i("actionList"),"mouseover",mu)}var M;function cu(e,t){t.creature_class=e.creature_class,t.image_id=e.image_id,t.level=Number(e.level),t.type=e.type}function pu(e){M[e.name]?M[e.name].seen&&(M[e.name].seen+=1):(M[e.name]={seen:1},cu(e,M[e.name]))}function Li(e,t,r){return t?e(t,r):r}function Ti(e,t){let r=e||{};return r.min=Li(Math.min,r.min,t),r.max=Li(Math.max,r.max,t),r}var du=["attack","armor","damage","defense","hp"];function hu(e,t){return!e||e.min!==t.min||e.max!==t.max}function gu(e,t,r){let o=Ti(t[r],Number(e[r]));hu(t[r],o)&&(t[r]=o)}function vu(e,t){du.forEach(m(gu,e,t))}function yu(e){return e.enhancements&&e.enhancements.length>0}function xu(e,t){e[t.name]=Ti(e[t.name],Number(t.value))}function Du(e,t){yu(e)&&(t.enhancements=t.enhancements||{},e.enhancements.forEach(m(xu,t.enhancements)))}function ku(e){M||(M={}),pu(e),vu(e,M[e.name]),Du(e,M[e.name]),wt("fsh_monsterLog",M)}function Mi(e){n.showMonsterLog&&ku(e)}function wu(e){M=e||{}}function Hi(){kt("fsh_monsterLog").then(wu)}var Vi=[];function Eu(e){_(e)||(xe("NewMap","MonsterLog"),Mi(e.response.data))}function Cu(e,t){return e.id===t.id}function Bu(e){if(Vi.find(m(Cu,e.data)))return!0;Vi.push(e.data)}function Su(e,t){e.type!==6||Bu(e)||Xe(e.data.id,t).then(Eu)}function Ni(){n.showMonsterLog&&GameData.actions().forEach(Su)}function Mo(){Hi(),$.subscribe("-1-success.action-response 4-success.action-response 5-success.action-response 25-success.action-response",Ni),Ni()}function Ho(){return Ca({subcmd:"scouttower"})}function Au(e){let t=e.split(/[: /[]/);return new Date(Number(t[4]),ft.indexOf(t[3]),Number(t[2]),Number(t[0]),Number(t[1]))}function bu(e){let t=oe(e[1]);return t==="No active cooldown"?0:Math.ceil((Au(t.slice(16))-ht)/1e3)}function Lu(e){let t=e[0].cells[0].children[0];return{base_id:Number(t.src.match(/s\/(\w+)\.p/)[1].slice(0,-32)),name:t.title}}function Tu(e){return{cooldown:bu(e),creature:Lu(e),kills:Number(oe(e[0].cells[3]))}}function Mu(e){let t=oe(e[0].cells[1]);if(t!=="n/a"){let r=oe(e[0].cells[2]).split("/");return{realm:t,current_hp:Number(r[0]),max_hp:Number(r[1])}}}function Hu(e){let t=e[2].cells[0].children;if(t.length===1)return{contributors:la(t[0].rows,3,0).map(o=>({kills:Number(oe(o.cells[1])),player:{name:oe(o.cells[0])}}))}}function Vu(e){return{...Tu(e),...Mu(e),...Hu(e)}}function Nu(e){let t=z(e),r=De('table[width="500"]',t);if(!r)return{s:!1};let o=gt(r.rows).filter((f,u,A)=>u!==0&&u<A.length-1&&(u-1)%6<3);return{r:ka(3,o).map(Vu),s:!0}}function Vo(){return ne({cmd:"guild",subcmd:"scouttower"}).then(Nu)}function No(){return we(Ho,Vo)}function Gu(e,[t,r,o]){let l=e.insertCell(-1);return l.colSpan=t,o&&(l.className="header"),a(l,r),l}function Iu(e,t){t.forEach(m(Gu,e))}function $u(e,t,r){let o=e.insertRow(-1);return r&&(o.className="fshBlue"),Iu(o,t),o}function Ru(e,t){$u(e,t[0],t[1])}function et(e,t){t.forEach(m(Ru,e))}var Go;function Gi(e){Go=e}var Io,$o,Ro,Po,Fo,_o,Oo,Ko;function Pu(){Io=D("Current"),$o=D("Kills"),Ro=D("Member"),Po=D("% of Total")}function Fu(){Fo=D("Status"),_o=D("Titan HP"),Oo=D("Total"),Ko=D("Your Guild")}function Ii(){Pu(),Fu()}var He,Ve,Ne,Ge,Ie,$e,Re,Pe,Fe;function _u(){He=d({innerHTML:"&nbsp;"}),Ve=d({innerHTML:"&nbsp;"}),Ne=d(),Ge=d()}function Ou(){Ie=d(),$e=d(),Re=d(),Pe=d(),Fe=d()}function $i(){_u(),Ou()}function Ri(){w("&nbsp;",He),w("&nbsp;",Ve),s("",Ne),s("",Ge),s("",Ie),s("",$e),s("",Re),w("",Pe),w("",Fe)}var Z;function Ot(){for(;Z.rows.length>8;)Z.deleteRow(8)}function Ku(){let e=d();return a(e,Ne),R(e,"/"),a(e,Ge),e}function Pi(e){let t=d();return a(t,e),R(t,"%"),t}function Fi(){Z=sa({className:"fshCenter"}),Ii(),et(Z,[[[[5,He,!0],[1,Ve,!0]]],[[[2,_o,!0],[4,Ko,!0]]],[[[2,Ku()],[4,Ie]]],[[[2,Io,!0],[4,Pi($e)]],!0],[[[2,Oo,!0],[4,Pi(Re)]],!0],[[[2,Fo,!0],[4,Pe]],!0],[[[6,Fe]]],[[[2,Ro,!0],[2,$o,!0],[2,Po,!0]]]])}var ee,Kt,qo;function Wo(){Kt=null,ee&&!Ke("fshHide",ee)&&(h(ee,!0),Ri(),Ot())}function _i(e){return e.type===0?(Kt=e.base_creature_id,qo=`(${e.x},${e.y})`,!0):!1}function Oi(){if(ee)h(ee,!1);else{let e=i("actionContainer");ee=c({className:"fshActionBox titanInfo"}),$i(),Fi(),a(ee,Z),a(e,ee)}}function qu(e){let t=new Date(ht+e*1e3);return`${Et(t.getHours())}:${Et(t.getMinutes())} ${Et(t.getDate())}/${ft[t.getMonth()]}/${t.getFullYear()}`}function Wu(e){return e<=0?'<span class="fshGreen cooldown">No active cooldown</span>':`<span class="fshMaroon cooldown">Cooldown until: ${qu(e)}</span>`}function Uu(e){return yt(Ra(e.max_hp-e.current_hp,e.kills),2)}function zu(e){return yt(e.kills*100/e.max_hp,2)}function ju(e){return Pa(e.kills,e.max_hp,e.current_hp)}function Qu(e){e.forEach(([t,r])=>{s(t,r)})}function Yu(e){Qu([[e.creature.name.replace(" (Titan)",""),He],[qo,Ve],[e.current_hp,Ne],[e.max_hp,Ge],[e.kills,Ie],[Uu(e),$e],[zu(e),Re]]),w(ju(e),Pe),w(Wu(e.cooldown),Fe)}function Ju(e,t){return[[[2,D(t.player.name)],[2,D(t.kills.toString())],[2,D(`${yt(t.kills*100/e.kills,2)}%`)]]]}function Xu(e){if(Ot(),!e.contributors)return;let t=e.contributors.map(m(Ju,e));et(Z,t)}function Zu(e){return e.realm&&e.creature.base_id===Kt&&e.realm===Go}function Uo(e){let t=e.find(Zu);t&&(Yu(t),Xu(t))}var qt;function em(){qt&&(window.clearTimeout(qt),qt=null)}function tm(e){return e&&e.s&&I(e.r)}function Ki(e){return n.showTitanInfo&&I(e)&&e.some(_i)}function rm(e,t){!tm(t)||(Uo(t.r),Ki(GameData.realm().dynamic)?qt=window.setTimeout(e,3e4):Wo())}function qi(){No().then(m(rm,qi))}function Wi(e){em(),Ki(e)?(Oi(),qi()):Wo()}function Ui(e){e.dynamic&&(Gi(e.name),Wi(e.dynamic))}function zi(){n.showTitanInfo=!n.showTitanInfo,y("showTitanInfo",n.showTitanInfo),Wi(GameData.realm().dynamic)}function om(e){return e.realm&&e.realm.name}function ji(e,t){om(t)&&Ui(t.realm)}function zo(){window.initialGameData&&ji(null,window.initialGameData),$.subscribe(`${$n} ${Fn}`,ji)}var jo;function Qi(e){$("#statbar-gold").css("background-color",e)}function Yi(){$("#HelperSendTotal").html(U(g("currentGoldSentTotal"))),Number(GameData.player().gold)>jo?Qi("red"):Qi("inherit")}function nm(){return`<dt class="stat-gold-sendTo">Send To:</dt><dd id="HelperSendTo">${g("goldRecipient")}</dd><dt class="stat-gold-sendAmt">Amount:</dt><dd id="HelperSendAmt">${U(jo)}</dd><dt class="stat-gold-sendTo">Send?</dt><dd><input id="HelperSendGold" value="Send!" class="custombutton" type="submit"><input type="hidden" id="xc" value=""</dd><dt class="stat-gold-sendTotal">Total Sent:</dt><dd id="HelperSendTotal">${U(g("currentGoldSentTotal"))}</dd>`}function am(){jo=g("goldAmount"),$("#statbar-gold-tooltip-general").append(nm()),$("#HelperSendGold").on("click",Ta),Yi(),$.subscribe(Vn,Yi)}function Qo(){La(),ba&&am()}var tt,rt,Wt,_e,Yo,Jo,Ut;function im(){return Je({a:14,d:0,id:tt.id,item_id:tt.itemId})}function lm(e){let t=e.response.response,r=e.response.msg,o;if(t!==0){let l=r.indexOf("<");l!==-1?o=r.substring(0,l):o=r}else o=`You purchased ${e.response.data.name} for ${U(e.response.data.cost)} gold.`;re(Ut,`${o}<br>`)}function sm(){GameData.doAction(14,3,{id:tt.id,item_id:tt.itemId},0),Wt.close()}function fm(){let e=ta(Yo.value);if(!e)return;let t=[];for(let r=1;r<e;r+=1)t.push(im().then(lm));At(t,sm)}function um(){_e=c({className:"fshClear",textContent:"Select how many to quick-buy:"}),Yo=xt({id:"buyAmount",className:"fshNumberInput",min:1,max:99,value:1,type:"number"}),a(_e,Yo),Jo=j({textContent:"Quick-buy"}),C(Jo,fm),a(_e,Jo),Ut=c(),a(_e,Ut),a(rt,_e)}function mm(){return rt||i("shopDialogConfirm")}function cm(){return Wt||$(rt).data("hcsWorldDialogShopConfirm")}function pm(){_e?s("",Ut):um()}function dm(e,t){tt=t,rt=mm(),!!rt&&(Wt=cm(),Wt&&pm())}function Xo(){$.subscribe(Nn,dm)}function hm(e){let t=z(e),r=Na(t);return{r:{attributes:[{value:r.attack},{value:r.defense},{value:r.armor},{value:r.damage},{value:r.hp}]}}}function Zo(e){return ne({cmd:"guild",subcmd:"groups",subcmd2:"viewstats",group_id:e}).then(hm)}function en(e){return Sa({subcmd2:"viewstats",group_id:e})}function tn(e){return we(en,Zo,e)}function Ji(e){return e.numberOfCreatureHitsTillDead-e.numberOfHitsRequired<=1?", dies on miss":", survives a miss"}function gm(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired>e.numberOfCreatureHitsTillDead}function vm(e){return e.numberOfCreatureHitsTillDead==="-"?e.numberOfHitsRequired:gm(e)?"-":e.numberOfHitsRequired}function ym(e){return e.numberOfCreatureHitsTillDead==="-"||e.numberOfCreatureHitsTillDead>e.numberOfHitsRequired}function xm(e){return e.numberOfHitsRequired==="-"?e.numberOfCreatureHitsTillDead:ym(e)?"-":e.numberOfCreatureHitsTillDead}var Dm=[[e=>e.playerHits==="-"&&e.creatureHits==="-",()=>"Unresolved"],[e=>e.playerHits==="-",()=>"Player dies"],[e=>e.playerHits===1,e=>`Player 1 hits${Ji(e)}`],[e=>e.playerHits>1,e=>`Player > 1 hits${Ji(e)}`]];function km(e,t){return t[0](e)}function wm(e){let t=Dm.find(m(km,e));return t?t[1](e):"Unknown"}function rn(e){e.playerHits=vm(e),e.creatureHits=xm(e),e.fightStatus=wm(e)}function Em(e){return e.callback.groupExists?e.callback.groupArmorValue:e.player.armorValue}function Cm(e){let t=Em(e);e.overallArmorValue=t+Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}function Bm(e){e.player.sanctuaryLevel>0&&(e.extraNotes+=`Sanc Bonus Armor = ${Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}<br>`)}function Sm(e){e.terrorizeEffect=Math.floor(e.creature.damage*e.player.terrorizeLevel*.001)}function Am(e){e.player.terrorizeLevel>0&&(e.extraNotes+=`Terrorize Creature Damage Effect = ${e.terrorizeEffect*-1}<br>`)}function bm(e){e.creatureDamageDone=Math.ceil(e.generalVariable*e.creature.damage-e.overallArmorValue+e.overallHPValue)}function Lm(e){let t=e.generalVariable*e.creature.damage;t<e.overallArmorValue?e.numberOfCreatureHitsTillDead=e.overallHPValue:e.numberOfCreatureHitsTillDead=Math.ceil(e.overallHPValue/(t-e.overallArmorValue))}function Tm(e){e.creatureHitByHowMuch>=0?Lm(e):e.numberOfCreatureHitsTillDead="-"}function on(e){Cm(e),Bm(e),Sm(e),Am(e),e.creature.damage-=e.terrorizeEffect,bm(e),Tm(e)}function Mm(e){return e.callback.groupExists?e.callback.groupAttackValue:e.player.attackValue}function Xi(e){return Math.floor(e.creature.defense*e.player.darkCurseLevel*pt)}function Hm(e){let t=e.creature.defense-Xi(e);return e.combatEvaluatorBias===3?e.overallAttackValue-Math.ceil(t)-50:e.overallAttackValue-Math.ceil(e.attackVariable*t)}function nn(e){let t=Mm(e);e.player.darkCurseLevel>0&&(e.extraNotes+=`DC Bonus Attack = ${Xi(e)}<br>`),e.nightmareVisageAttackMovedToDefense=Math.floor((t+e.counterAttackBonusAttack)*e.player.nightmareVisageLevel*.0025),e.player.nightmareVisageLevel>0&&(e.extraNotes+=`NMV Attack moved to Defense = ${e.nightmareVisageAttackMovedToDefense}<br>`),e.overallAttackValue=t+e.counterAttackBonusAttack-e.nightmareVisageAttackMovedToDefense,e.hitByHowMuch=Hm(e)}function Vm(e){return e.player.counterAttackLevel>0&&e.numberOfHitsRequired===1}function Zi(e){e.lowestCALevelToStillHit=Math.max(Math.ceil((e.counterAttackBonusAttack-e.hitByHowMuch+1)/e.player.attackValue/.0025),0),e.lowestCALevelToStillKill=Math.max(Math.ceil((e.counterAttackBonusDamage-e.damageDone+1)/e.player.damageValue/.0025),0)}function Nm(e){return e.player.counterAttackLevel>0?Math.ceil((1+e.player.doublerLevel/50)*.0025*e.lowestFeasibleCALevel):0}function Gm(e){e.extraAttackAtLowestFeasibleCALevel=Math.floor(e.player.attackValue*.0025*e.lowestFeasibleCALevel),e.extraDamageAtLowestFeasibleCALevel=Math.floor(e.player.damageValue*.0025*e.lowestFeasibleCALevel),e.extraNotes+=`Extra CA Att/Dam at this lowered CA level = ${e.extraAttackAtLowestFeasibleCALevel} / ${e.extraDamageAtLowestFeasibleCALevel}<br>`}function Im(e){Zi(e),e.lowestFeasibleCALevel=Math.max(e.lowestCALevelToStillHit,e.lowestCALevelToStillKill),e.extraNotes+=`Lowest CA to still 1-hit this creature = ${e.lowestFeasibleCALevel}<br>`,e.lowestFeasibleCALevel!==0&&Gm(e),e.extraStaminaPerHitAtLowestFeasibleCALevel=Nm(e),e.extraStaminaPerHitAtLowestFeasibleCALevel<e.extraStaminaPerHit?e.extraNotes+=`Extra Stam Used at this lowered CA level = ${e.extraStaminaPerHitAtLowestFeasibleCALevel}<br>`:e.extraNotes+="No reduction of stam used at the lower CA level<br>"}function $m(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired!==1}function Rm(e){e.lowestCALevelToStillHit>175?e.extraNotes+="Even with CA175 you cannot hit this creature<br>":e.lowestCALevelToStillHit!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillHit} to hit this creature<br>`)}function Pm(e){e.lowestCALevelToStillKill>175?e.extraNotes+="Even with CA175 you cannot 1-hit kill this creature<br>":e.lowestCALevelToStillKill!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillKill} to 1-hit kill this creature<br>`)}function Fm(e){Zi(e),Rm(e),Pm(e)}function an(e){Vm(e)&&Im(e),$m(e)&&Fm(e)}function _m(e){return e.callback.groupExists?e.callback.groupHPValue:e.player.hpValue}function Om(e){return e.callback.groupExists?e.callback.groupDamageValue:e.player.damageValue}function Km(e){let t=_m(e),{fortitudeLevel:r}=e.player;e.fortitudeExtraHPs=Math.floor(t*r*.001),r>0&&(e.extraNotes+=`Fortitude Bonus HP = ${e.fortitudeExtraHPs}<br>`),e.overallHPValue=t+e.fortitudeExtraHPs}function qm(e){let{chiStrikeLevel:t}=e.player;e.chiStrikeExtraDamage=Math.floor(e.overallHPValue*t*.001),t>0&&(e.extraNotes+=`Chi Strike Bonus Damage = ${e.chiStrikeExtraDamage}<br>`)}function ln(e){Km(e),qm(e);let t=Om(e);if(e.overallDamageValue=t+e.deathDealerBonusDamage+e.counterAttackBonusDamage+e.holyFlameBonusDamage+e.chiStrikeExtraDamage,e.damageDone=Math.floor(e.overallDamageValue-(e.generalVariable*e.creature.armor+e.hpVariable*e.creature.hp)),e.hitByHowMuch>0){let r=1;e.overallDamageValue>=e.generalVariable*e.creature.armor&&(r=e.overallDamageValue-e.generalVariable*e.creature.armor),e.numberOfHitsRequired=Math.ceil(e.hpVariable*e.creature.hp/r)}else e.numberOfHitsRequired="-"}function sn(e){return e.callback.groupExists?e.callback.groupDefenseValue:e.player.defenseValue}function Wm(e){e.player.constitutionLevel>0&&(e.extraNotes+=`Constitution Bonus Defense = ${Math.floor(sn(e)*e.player.constitutionLevel*.001)}<br>`)}function Um(e){e.player.flinchLevel>0&&(e.extraNotes+=`Flinch Bonus Attack Reduction = ${Math.floor(e.creature.attack*e.player.flinchLevel*.001)}<br>`)}function fn(e){e.overallDefenseValue=sn(e)+Math.floor(sn(e)*e.player.constitutionLevel*.001)+e.nightmareVisageAttackMovedToDefense,Wm(e),Um(e),e.creatureHitByHowMuch=Math.floor(e.attackVariable*e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue),e.combatEvaluatorBias===3&&(e.creatureHitByHowMuch=Math.floor(e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue-50))}function zm(e){e.player.superEliteSlayerLevel>0&&(e.extraNotes+=`SES Stat Reduction Multiplier = ${e.player.superEliteSlayerMultiplier}<br>`)}function jm(e){e.holyFlameBonusDamage=0,e.creature.class==="Undead"&&(e.holyFlameBonusDamage=Math.max(Math.floor((e.player.damageValue-e.creature.armor)*e.player.holyFlameLevel*.002),0),e.player.holyFlameLevel>0&&(e.extraNotes+=`HF Bonus Damage = ${e.holyFlameBonusDamage}<br>`))}function Qm(e){e.deathDealerBonusDamage=Math.floor(e.player.damageValue*(Math.min(Math.floor(e.player.killStreakValue/5)*.01*e.player.deathDealerLevel,20)/100))}function Ym(e){e.counterAttackBonusAttack=Math.floor(e.player.attackValue*.0025*e.player.counterAttackLevel),e.counterAttackBonusDamage=Math.floor(e.player.damageValue*.0025*e.player.counterAttackLevel)}function Jm(e){e.extraStaminaPerHit=0,e.player.counterAttackLevel>0&&(e.extraStaminaPerHit=Math.ceil((1+e.player.doublerLevel/50)*.0025*e.player.counterAttackLevel))}function Xm(e){e.player.deathDealerLevel>0&&(e.extraNotes+=`DD Bonus Damage = ${e.deathDealerBonusDamage}<br>`)}function Zm(e){e.player.counterAttackLevel>0&&(e.extraNotes+=`CA Bonus Attack/Damage = ${e.counterAttackBonusAttack} / ${e.counterAttackBonusDamage}<br>CA Extra Stam Used = ${e.extraStaminaPerHit}<br>`)}function un(e){e.extraNotes="",zm(e),jm(e),Qm(e),Ym(e),Jm(e),Xm(e),Zm(e)}function ec(e){return e.callback.groupExists?"Group ":""}function tc(e){return`<tr><td bgcolor="#CD9E4B" colspan="4" align="center">${ec(e)}Combat Evaluation</td></tr>`}function rc(e){return e.hitByHowMuch>0?"Yes":"No"}function oc(e){return`<tr><td align="right"><span style="color:#333333">Will I hit it? </td><td align="left">${rc(e)}</td><td align="right"><span style="color:#333333">Extra Attack: </td><td align="left">( ${e.hitByHowMuch} )</td></tr>`}function nc(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill it? </td><td align="left">${e.numberOfHitsRequired}</td><td align="right"><span style="color:#333333">Extra Damage: </td><td align="left">( ${e.damageDone} )</td></tr>`}function ac(e){return e.creatureHitByHowMuch>=0?"Yes":"No"}function ic(e){return`<tr><td align="right"><span style="color:#333333">Will I be hit? </td><td align="left">${ac(e)}</td><td align="right"><span style="color:#333333">Extra Defense: </td><td align="left">( ${-1*e.creatureHitByHowMuch} )</td></tr>`}function lc(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill me? </td><td align="left">${e.numberOfCreatureHitsTillDead}</td><td align="right"><span style="color:#333333">Extra Armor + HP: </td><td align="left">( ${-1*e.creatureDamageDone} )</td></tr>`}function sc(e){return`<tr><td align="right"><span style="color:#333333"># Player Hits? </td><td align="left">${e.playerHits}</td><td align="right"><span style="color:#333333"># Creature Hits? </td><td align="left">${e.creatureHits}</td></tr>`}function fc(e){return`<tr><td align="right"><span style="color:#333333">Fight Status: </span></td><td align="left" colspan="3"><span>${e.fightStatus}</span></td></tr>`}function uc(e){return`<tr><td align="right"><span style="color:#333333">Notes: </span></td><td align="left" colspan="3"><span style="font-size:x-small;">${e.extraNotes}</span></td></tr>`}function mn(e){return`<table width="100%"><tbody>${tc(e)}${oc(e)}${nc(e)}${ic(e)}${lc(e)}${sc(e)}${fc(e)}${uc(e)}</tbody></table>`}var zt,jt,ot;function mc(e){if(!zt){let t=ke("body",e);t.length===1&&([zt]=t)}}function el(){return me(jt)?"Remove from do not kill list":"Add to the do not kill list"}function tl(){s(el(),ot)}function cc(){let e=n.doNotKillList.indexOf(jt);e===-1?n.doNotKillList.push(jt):n.doNotKillList.splice(e,1),tl(),y("doNotKillList",n.doNotKillList.join()),Be()}function pc(){ot=j({className:"fshBl",textContent:el(),type:"button"});let e=c({className:"description",innerHTML:'<span class="ui-helper-hidden-accessible"><input type="text"></span>'});a(e,ot),a(zt,e),C(ot,cc)}function dc(){ot?tl():pc()}function cn(e,t){mc(t),zt&&(jt=ge(e),dc())}var Oe,nt,Qt,Yt;function hc(){Oe||(Oe=i("dialog-viewcreature"))}function gc(){nt||(nt=c(),a(Oe,nt),a(Oe,c({innerHTML:'<span class="fshFooter">*Does include CA, DD, HF, DC, Flinch, Super Elite Slayer, NMV, Sanctuary, Constitution, Fortitude, Chi Strike and Terrorize (if active) and allow for randomness (1.1053). Constitution, NMV, Fortitude and Chi Strike apply to group stats.</span>'})))}function rl(){Qt||(gc(),Qt=c(),a(nt,Qt))}function vc(){Yt||(rl(),Yt=c(),a(nt,Yt))}function ol(e){rl(),w(e,Qt)}function nl(e){vc(),w(e,Yt)}function yc(e,t,r){r===3&&(t.attack-=Math.ceil(t.attack*e),t.defense-=Math.ceil(t.defense*e),t.armor-=Math.ceil(t.armor*e),t.damage-=Math.ceil(t.damage*e),t.hp-=Math.ceil(t.hp*e))}function xc(e,t){let r={name:e.name,class:e.creature_class,attack:Number(e.attack),defense:Number(e.defense),armor:Number(e.armor),damage:Number(e.damage),hp:Number(e.hp)};return yc(t,r,e.type),r}function Dc(e){e.combatEvaluatorBias=n.combatEvaluatorBias,e.attackVariable=1.1053,e.generalVariable=n.generalVariable,e.hpVariable=n.hpVariable}function kc(e){un(e),nn(e),ln(e),fn(e),on(e),rn(e),an(e)}function al(e,t,r){let o={};o.callback=r,o.player=Le(t),Dc(o),o.creature=xc(e.response.data,o.player.superEliteSlayerMultiplier),kc(o),o.evaluatorHTML=mn(o),r.groupExists?nl(o.evaluatorHTML):ol(o.evaluatorHTML)}function wc(e){return e.members[0].name===ye()}function Ec(e){if(I(e.r))return e.r.find(wc).id}function Cc(e,t,r){if(!r.r||!r.r.attributes)return;let o=r.r.attributes;al(e,t,{groupExists:!0,groupAttackValue:o[0].value,groupDefenseValue:o[1].value,groupArmorValue:o[2].value,groupDamageValue:o[3].value,groupHPValue:o[4].value})}function Bc(e,t,r){r&&tn(r).then(m(Cc,e,t))}function Sc(e,t){Aa().then(Ec).then(m(Bc,e,t))}function Ac(e,t){e.player.hasGroup&&Sc(e,t),al(e,t,{groupExists:!1})}function bc(e){return e.response&&e.response.data}function Lc(e,t){hc(),!!Oe&&(ol(""),nl(""),bc(t)&&(cn(t.response.data.name,Oe),Ea(!0).then(m(Ac,t))))}function pn(){$.subscribe(Rn,Lc)}var Jt,dn;function Xt(){let e=[null,[n.buffs,n.buffsName],[n.buffs2,n.buffs2Name],[n.buffs3,n.buffs3Name]][n.enabledHuntingMode];I(e)&&([Jt,dn]=e)}function hn(e){e.target.name==="enabledHuntingMode"&&(n.enabledHuntingMode=e.target.value,y("enabledHuntingMode",n.enabledHuntingMode),Xt(),GameData.fetch(q))}var at;function il(){at=!at,y("hidePlayerActions",at),GameData.fetch(T)}function Tc(e){let t=ke("verbs",e);t.length===1&&Ct(t[0])}function ll(){if(!at)return;let e=i("actionList");bt("player",e).forEach(Tc)}function sl(){at=g("hidePlayerActions"),$.subscribe(he,ll),ll()}function gn(){n.showCreatureInfo=!n.showCreatureInfo,y("showCreatureInfo",n.showCreatureInfo)}function vn(){n.showBuffs=!n.showBuffs,y("showHuntingBuffs",n.showBuffs),GameData.fetch(q)}function yn(){n.showMonsterLog=!n.showMonsterLog,y("showMonsterLog",n.showMonsterLog)}function xn(){n.hideSubLvlCreature=!n.hideSubLvlCreature,y("hideSubLvlCreature",n.hideSubLvlCreature),GameData.fetch(T)}function Mc(){return c({id:"fshWorldPrefs",innerHTML:`${ae("showCreatureInfo")}&nbsp;&nbsp;${ae("showMonsterLog")}&nbsp;&nbsp;${ae("showTitanInfo")}&nbsp;&nbsp;${ae("showBuffInfo")}<br>${ae("hideSubLvlCreature")}&nbsp;&nbsp;${ae("hidePlayerActions")}&nbsp;&nbsp;${Oa()}`})}var Hc={hideSubLvlCreature:xn,hidePlayerActions:il,showCreatureInfo:gn,showHuntingBuffs:vn,showMonsterLog:yn,showTitanInfo:zi,showBuffInfo:ja};function Vc(e){let t=Hc[e.target.name];dt(t)&&(e.target.blur(),t(e))}function Dn(){let e=c({className:"fshCenter fshFten"}),t=Mc();C(t,Vc),G(t,"change",hn),a(e,t);let r=c();a(e,r);let o=i("worldContainerBelow").children[0];return Dt(e,o),r}function Nc(e,t){return e[t.name]=!0,e}function Gc(e,t,r){return e[ge(r)]||t.push(r),t}function Ic(e,t){w(`You are missing some ${dn} hunting buffs<br>(${t.join(", ")})`,e)}function fl(e){w("",e)}function $c(e,t){let r=t.b.reduce(Nc,{}),o=Jt.reduce(m(Gc,r),[]);o.length>0?Ic(e,o):fl(e)}function Rc(e,t,r){n.showBuffs?$c(e,r):fl(e)}function Pc(e,t,r){Jt&&Rc(e,t,r)}function kn(e){Xt();let t=m(Pc,e);$.subscribe(ut,t),n.showBuffs&&window.initialGameData&&t(null,{b:window.initialGameData.player.buffs})}var Zt=[{generalVariable:1.1053,hpVariable:1.1},{generalVariable:1.1,hpVariable:1.053},{generalVariable:1.053,hpVariable:1},{generalVariable:1.1053,hpVariable:1}];function Fc(e){return Zt[e]?Zt[e].generalVariable:1.1053}function _c(e){return Zt[e]?Zt[e].hpVariable:1.1}function wn(){n.combatEvaluatorBias=g("combatEvaluatorBias"),n.generalVariable=Fc(n.combatEvaluatorBias),n.hpVariable=_c(n.combatEvaluatorBias)}function Oc(e){return!e||!e.actions||e.actions.length===0}function Kc(e,t){return t.type===6?t.data.creature_type!==0||t.data.level>=e:!0}function qc(e){return e.realm&&e.realm.minlevel||GameData.realm().minlevel}function Wc(e){let t=Qn(e);return Oc(t)?e:(t.actions=t.actions.filter(m(Kc,qc(t))),JSON.stringify(t))}function Uc(e){return e.data&&e.data.d&&$a(e.data.d,T)}function zc(e,t){n.hideSubLvlCreature&&Uc(t)&&(e.dataFilter=Wc)}function En(){$.ajaxPrefilter("JSON",zc),n.hideSubLvlCreature&&GameData.fetch(T)}function jc(e){n[e[0]]=fr(e[1])}function Qc(){[["buffs","huntingBuffs"],["buffs2","huntingBuffs2"],["buffs3","huntingBuffs3"]].forEach(jc)}function Yc(e){n[e]=fr(e)}function Jc(){["doNotKillList"].forEach(Yc)}function Xc(){Qc(),Jc()}function Zc(e){n[e[0]]=g(e[1])}function ep(){[["buffsName","huntingBuffsName"],["buffs2Name","huntingBuffs2Name"],["buffs3Name","huntingBuffs3Name"],["showBuffs","showHuntingBuffs"]].forEach(Zc)}function tp(e){n[e]=g(e)}function rp(){["enabledHuntingMode","hideSubLvlCreature","showTitanInfo","showBuffInfo","showMonsterLog","showCreatureInfo"].forEach(tp)}function op(){ep(),rp()}function np(){Xc(),op()}function Cn(){wn(),np();let e=Dn();En(),kn(e),sl()}function ul(e){$(`#actionList li.creature-${e.toString()} a.create-group`).hide()}function ap(e){$.subscribe(he,m(ul,e))}var ip=["hideChampionsGroup","hideElitesGroup","hideSEGroup","hideTitanGroup","hideLegendaryGroup"];function lp(e,t){g(e)&&(ap(t+1),ul(t+1))}function sp(){ip.forEach(lp)}function fp(){a(document.body,oa(`#actionList .creature-1 {color: green;}
#actionList .creature-2 {color: yellow;}
#actionList .creature-3 {color: red;}`))}function up(){g("enableCreatureColoring")&&fp()}function mp(e,t){t==="ACT_REPAIR"&&GameData.fetch(On+q+ct+T)}function cp(){$.subscribe(Gn,mp)}function pp(){$("#messageCenter").worldMessageCenter({offset:"0 60"})}function dp(){qe("#mapTooltip")}function hp(e){qe(e.target)}function gp(){C(i("buffList"),hp)}var vp=[Cn,Qo,pn,sp,up,_r,Mo,cp,Pr,zo,Xo,Eo,pp,dp,Nr,za,gp,To,$r,Ur];function yp(){fa(vp),n.userIsDev&&zr()}export{yp as default};
//# sourceMappingURL=newMap-FB5SBYLB.js.map
