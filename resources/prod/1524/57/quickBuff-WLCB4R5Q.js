import{a as F,b as M}from"./chunk-2QQ7O2NB.js";import"./chunk-NMPXFIZD.js";import{a as B}from"./chunk-BQSOABMO.js";import"./chunk-3DYYRNW3.js";import{a as C}from"./chunk-Y7I5BIYR.js";import{a as k}from"./chunk-FETG66IQ.js";import"./chunk-KJ44SIHZ.js";import{a as y}from"./chunk-CXX3Y2X3.js";import{a as w}from"./chunk-NVJNPDX2.js";import{a as R}from"./chunk-ULU7TYOD.js";import"./chunk-E4AAPICA.js";import{a as b}from"./chunk-KDBFLGAI.js";import"./chunk-RIZE2L5G.js";import{a as Q}from"./chunk-547NZTJJ.js";import{a as $}from"./chunk-NGPV6SGF.js";import{a as h}from"./chunk-OUFH7AQR.js";import"./chunk-XXBN2L6Q.js";import{a as D}from"./chunk-WP75TXSA.js";import"./chunk-ZX6BQCBQ.js";import{a as l}from"./chunk-EFBDFKZE.js";import"./chunk-CNT3YB5M.js";import{a}from"./chunk-BY3VYB7D.js";import"./chunk-BW7Q2ZXG.js";import"./chunk-GJSAJ2I4.js";import"./chunk-2B6J3YUG.js";import"./chunk-XGZF3G52.js";import"./chunk-3ZXYCFKP.js";import{a as p}from"./chunk-LRUSX4KB.js";import"./chunk-7KF4EGG2.js";import"./chunk-WMSWBFUP.js";import"./chunk-QPWRUAE6.js";import"./chunk-UL2EF2NH.js";import"./chunk-JSZH6HFF.js";import"./chunk-A64OVPAW.js";import"./chunk-NIAUHSKU.js";import"./chunk-QLGZDBRM.js";import"./chunk-EC3YZH5E.js";import"./chunk-RDOAH55S.js";import"./chunk-TBCMWPFS.js";import"./chunk-63VZJNBW.js";import"./chunk-ATQ2IISL.js";import{a as f}from"./chunk-R7NI253Q.js";import{a as E}from"./chunk-WVMSJ4JS.js";import"./chunk-V2KRM43J.js";import{a as N}from"./chunk-2VODWHYJ.js";import"./chunk-AKOYB2MJ.js";import{a as n}from"./chunk-PCS24QV6.js";import"./chunk-LMAPCTSK.js";import"./chunk-ATT7QPUL.js";import"./chunk-OJFORZ5L.js";import{a as d}from"./chunk-OEMG4KI7.js";import"./chunk-IW5EBVFR.js";import"./chunk-7QMLZEL5.js";import{a as s}from"./chunk-25C4ZULH.js";import"./chunk-R37CWEF4.js";import"./chunk-DX6C6LKB.js";import"./chunk-VDAUATSB.js";import"./chunk-OPFEBT2F.js";import"./chunk-33VL7FGV.js";import{a as i}from"./chunk-7ZQZE7AG.js";function K(t){let e=a("span.fshLastActivity",t);if(!e){e=h({className:"fshLastActivity"});let r=p("h1",t)[0];B(e,r)}return e}function T(t){let e=a(`div.player[data-username="${t.username}"]`),r=K(e);f(`Last Activity: ${C(t.last_login)}<br>Stamina: ${t.current_stamina} / ${t.stamina} ( ${Math.floor(t.current_stamina/t.stamina*100)}% )`,r)}function m(t){return Number(s(t).replace(/\[|\]/g,""))}function V(t,e){if(!e){let r=h({className:"fshPlayer"});return B(r,t.nextElementSibling),r}return e}function W(t,e){return t>e?"fshRed":"fshGreen"}function X(t,e,r){if(!e){f("",r);return}let o=t.nextElementSibling.children[0].children[0],c=m(o),z=V(t,r),J=W(c,e);f(` <span class="${J}">[${e}]</span>`,z)}function Y(t,e){return e[0]===t}function Z(t,e){let r=e.getAttribute("data-name"),o=t.find(i(Y,r));if(o)return o[1]}function tt(t,e){let r=Z(t,e),o=e.nextElementSibling.nextElementSibling;(r||o)&&X(e,r,o)}function et(t){return t.split(/ \[|]/)}function rt(t){return b(s(t.parentNode.lastElementChild)).map(et)}function v(t){let e=t.target;if(e.tagName!=="H1")return;y(s(e)).then(T);let r=rt(e);d("#buff-outer input[name]").forEach(i(tt,r))}var _='<div id="helperQBheader"><table class="quickbuffTable"><thead><tr><th class="quickbuffTableHeader">Sustain</th><th class="quickbuffTableHeader">Fury Caster</th><th class="quickbuffTableHeader">Guild Buffer</th><th class="quickbuffTableHeader">Buff Master</th><th class="quickbuffTableHeader">Extend</th><th class="quickbuffTableHeader">Reinforce</th></tr></thead><tbody><tr><td id="fshSus" class="quickbuffTableDetail">&nbsp;</td><td id="fshFur" class="quickbuffTableDetail">&nbsp;</td><td id="fshGB"  class="quickbuffTableDetail">&nbsp;</td><td id="fshBM"  class="quickbuffTableDetail">&nbsp;</td><td id="fshExt" class="quickbuffTableDetail">&nbsp;</td><td id="fshRI"  class="quickbuffTableDetail">&nbsp;</td></tr></tbody></table></div>',j=[50,54,55,56,60,61,98,101];function nt(t,e){let r=e.dataset.tipped,{cost:o}=t.previousElementSibling.dataset;$(r.replace("</center>",`<br>Stamina Cost: ${o}$&`),e)}function ot(t,e){return!j.includes(Number(t.htmlFor.slice(6)))&&m(e.children[0])<125}function ft(t,e){ot(t,e)&&t.classList.add("fshDim")}function it(t){let e=t.children[0];nt(t,e),ft(t,e)}function S(){d('#buff-outer label[for^="skill-"]').forEach(it)}function st(t,e){return!t&&e}function G(t){let e=p("h1",n("players"))[0];if(st(e,t)){setTimeout(G,100,t-1);return}e&&Q(e)}function u(){n("targetPlayers").value&&G(9)}function at(t){let e=Math.floor(t/60),r=t%60,o=k(e,"m");return e>0&&r>0&&(o+=" "),o+=k(r,"s"),o}function mt(t){return`<span class="fshLime">On</span>&nbsp;<span class="fshBuffOn">(${at(t)})</span>`}function ut(t){let e=a(`#buff-outer input[data-name="${t}"]`);return e?`<span class="quickbuffActivate" data-buffid="${e.value}">Activate</span>`:'<span class="fshRed;">Off</span>'}function ct(t,e){let r=t[e]||0;return r?mt(r):ut(e)}function g(t,e,r){f(ct(t,e),r)}function lt(t,e){return t[e.name]=e.duration,t}function q(t){let e=t._skills.reduce(lt,{});g(e,"Guild Buffer",n("fshGB")),g(e,"Buff Master",n("fshBM")),g(e,"Extend",n("fshExt")),g(e,"Reinforce",n("fshRI"))}function pt(t,e){return e.name===t}function dt(t,e){let r=t.find(i(pt,e));return r&&r.value||0}function O(t,e,r){let o=dt(t,e),c="fshLime";o<100&&(c="fshRed"),f(`<span class="${c}">${o}%</span>`,r)}function x(t){let e=t._enhancements;O(e,"Sustain",n("fshSus")),O(e,"Fury Caster",n("fshFur"))}function A(t){x(t),q(t)}function ht(t){let e=n(`skill-${t}`);e&&(e.checked=!0)}function bt(t){t.split(";").forEach(ht)}function P(){let t=l("blist");t&&bt(t)}var L;function U(){L.length?(window.addPlayer(L.shift()),setTimeout(U,200)):setTimeout(u,200)}function H(){let t=l("players");t&&(L=b(t),U())}function yt(t,e){M(e)&&(t.className="fshLime",f("On",t))}async function I(t){let e=t.target;if(e.className!=="quickbuffActivate")return;N("quickbuff","quickActivate");let r=await F([window.self],[e.dataset.buffid]);yt(e,r)}function Bt(){E(n("helperQBheader"),I),E(n("players"),v)}function gt(){if(D())return;let t=n("quickbuff");!t||(y(window.self).then(A),w(t.children[0],_),R([S,P,H,Bt,u]))}export{gt as default};
//# sourceMappingURL=quickBuff-WLCB4R5Q.js.map
