import{a as I,b as M}from"./chunk-ZXKR4MCI.js";import{a as _}from"./chunk-MEJL244H.js";import{a as v}from"./chunk-I5CRYOOQ.js";import{a as A}from"./chunk-4OD45MKL.js";import{b as T}from"./chunk-FP5F2JHF.js";import{a as $}from"./chunk-X44FVIXL.js";import{a as j}from"./chunk-4CZDRAHN.js";import{a as S,b as H}from"./chunk-3UINQFXZ.js";import{a as s}from"./chunk-RXH6LX5Q.js";import{a as h}from"./chunk-JHQKE6SL.js";import"./chunk-RY2U7KPK.js";import{a as l}from"./chunk-XXBN2L6Q.js";import{a as L}from"./chunk-WP75TXSA.js";import"./chunk-ZX6BQCBQ.js";import"./chunk-6GHWLWMY.js";import{b as k}from"./chunk-4UVID5BY.js";import{a as d}from"./chunk-IX6WKHKP.js";import"./chunk-GJSAJ2I4.js";import"./chunk-2B6J3YUG.js";import"./chunk-XGZF3G52.js";import{a as i}from"./chunk-MKSWV7LK.js";import"./chunk-3ZXYCFKP.js";import{a as E}from"./chunk-LRUSX4KB.js";import"./chunk-ODHPFHKH.js";import"./chunk-WMSWBFUP.js";import{a as C}from"./chunk-6R2TD6BF.js";import{a as c}from"./chunk-QPWRUAE6.js";import"./chunk-UL2EF2NH.js";import"./chunk-63VZJNBW.js";import{a as x}from"./chunk-R7NI253Q.js";import{a as N}from"./chunk-WVMSJ4JS.js";import"./chunk-V2KRM43J.js";import"./chunk-AKOYB2MJ.js";import"./chunk-PCS24QV6.js";import"./chunk-LMAPCTSK.js";import"./chunk-ATT7QPUL.js";import{a as f}from"./chunk-OJFORZ5L.js";import{a as B}from"./chunk-7QMLZEL5.js";import{a as m}from"./chunk-25C4ZULH.js";import"./chunk-R37CWEF4.js";import"./chunk-DX6C6LKB.js";import"./chunk-VDAUATSB.js";import{V as p,sa as w}from"./chunk-OPFEBT2F.js";import"./chunk-33VL7FGV.js";import{a as u}from"./chunk-7ZQZE7AG.js";var Q=0,F=1,a=2,O=3;function D(t){return[t[0],t[1].cooldownText,t[1].coolTime,t[1].seen]}function U(t){return t[a]>l}function X(t,o){return t[a]-o[a]}function R(t){return`<tr><td class="fshCenter">${t[Q]}</td><td class="fshBold fshCenter fshCooldown">${t[F]}</td><td class="fshCenter">${t[O]}</td></tr>`}function V(t){return f(t).map(D).filter(U).sort(X).map(R).join("")}function q(t){let o=j({className:"fshTTracker"}),e=$({innerHTML:'<tr><td class="header fshCenter">Titan</td><td class="header fshCenter">Cooldown</td><td class="header fshCenter">Visible</td></tr>'});return c(o,e),i(e,V(t)),o}function g(t,o){if(t.rows.length>5){let e=q(o),r=t.insertRow(5).insertCell(-1);r.colSpan=3,c(r,e)}}function z(t){t.previousElementSibling&&h(m(t.previousElementSibling))}function G(t){return m(t.cells[0].children[0].children[0])}function J(t){let o=t.parentNode.parentNode.parentNode.parentNode,e=s(o.rows,3,0).map(G);h(e.join())}function K(t){let{target:o}=t;d("[b]",o)&&z(o),d("all",o)&&J(o)}function W(t){C("fshBl",t.target)&&K(t)}function Y(t){i(t.cells[0],' <button class="fshBl fshXSmall">[b]</button>')}function Z(t){s(t.rows,3,0).forEach(Y),i(t.rows[0].cells[0],' <button class="fshBl fshXSmall">all</button>')}function tt(t,o){return t.rows.length>1&&o>1}function ot(t){B(t).filter(tt).forEach(Z),N(t[1],W)}function b(t){t.length>2&&ot(t)}function P(t){return _(t.cells[0].children[0])}function et(t,o){let e=P(o).replace(" (Titan)","");if(!t[e]){let n=m(o.nextElementSibling.cells[0]),r=0;n.includes("until")&&(r=v(n.replace("Cooldown until: ",""))),t[e]={cooldownText:n,coolTime:r,seen:"yes"}}}function nt(t,o){t[o[0]]||o[1].coolTime<=l||(t[o[0]]={cooldownText:o[1].cooldownText,coolTime:o[1].coolTime,seen:"no"})}function rt(t,o){!t||f(t).forEach(u(nt,o))}function mt(t,o,e){return`<br><span class="fshBlue"> (${T(I(e-o,t),2)}% Current <br>${T(t*100/e,2)}% Total<br>${M(t,e,o)})`}function it(t,o){let e=o.split("/");i(t.cells[3],mt(Number(m(t.cells[3])),Number(e[0]),Number(e[1])))}function ct(t){let o=m(t.cells[2]);o.indexOf("-")===-1&&it(t,o)}function st(t){let o=encodeURIComponent(P(t)),e=t.cells[0].children[0],n=A({href:`${p}creatures&search_name=${o}`,target:"_blank"});c(n,e),c(t.cells[0],n);let r=t.cells[1],y=m(r);x(`<a href="${p}realms&search_name=${y}" target="_blank">${y}</a>`,r)}function lt(t,o){ct(o),et(t,o),st(o)}function ft(t,o){s(t.rows,4,0).forEach(u(lt,o))}function at(t){let o=E(w,k);b(o);let e=o[1],n={};ft(e,n),rt(t,n),g(o[0],n),H("fsh_titans",n)}function ut(){L()||S("fsh_titans").then(at)}export{ut as default};
//# sourceMappingURL=injectScouttower-XFZKQQCF.js.map
