import{a as fe}from"./chunk-4CH3YFKC.js";import{a as ae,b as pe,c as de,f as ue}from"./chunk-PKAHV45P.js";import"./chunk-KKGW5FFT.js";import"./chunk-KV44B2KZ.js";import"./chunk-XOSBDYFW.js";import"./chunk-XAKXF57Y.js";import{a as D}from"./chunk-VPACFVET.js";import"./chunk-7RQJQFDH.js";import"./chunk-X4SBWRRC.js";import{a as j}from"./chunk-IPNTY57C.js";import"./chunk-HNFWNEWO.js";import"./chunk-HXQJXZ35.js";import"./chunk-CRLMIFQA.js";import{A as re,D as M,E as ne,G as me,I as se,T as le,U as ce,a as S,b as $,d as ee,o as f,p as T,q as A,r as te,s as d,t as oe,u as x,w,y as g}from"./chunk-VERW2APC.js";import{a as ie}from"./chunk-TZP34NXY.js";import"./chunk-R2FCBVIS.js";import"./chunk-SLDMTUNW.js";import"./chunk-RIZE2L5G.js";import"./chunk-4MT32RNI.js";import{f as K}from"./chunk-P4CZYMSD.js";import"./chunk-3YUDKRQK.js";import"./chunk-EC4GIXGI.js";import{a as O}from"./chunk-WP75TXSA.js";import"./chunk-ZX6BQCBQ.js";import{a as G}from"./chunk-BY3VYB7D.js";import{a as z}from"./chunk-WFD7HHBD.js";import"./chunk-FZKWNJGZ.js";import"./chunk-4UVID5BY.js";import{a as U}from"./chunk-UJXB5RMO.js";import"./chunk-J3EQWWDK.js";import"./chunk-GJSAJ2I4.js";import"./chunk-2B6J3YUG.js";import"./chunk-XGZF3G52.js";import{a as L}from"./chunk-MKSWV7LK.js";import"./chunk-3ZXYCFKP.js";import"./chunk-OYKNGYQZ.js";import"./chunk-7KF4EGG2.js";import"./chunk-CEDQKI4T.js";import"./chunk-TMK7VANP.js";import"./chunk-Y52HR7PB.js";import"./chunk-ODHPFHKH.js";import"./chunk-WMSWBFUP.js";import"./chunk-6R2TD6BF.js";import{a as Z}from"./chunk-AXJYALSW.js";import"./chunk-NAL4MXBR.js";import"./chunk-RWQYBWLH.js";import"./chunk-P3CVZFX5.js";import{a as W}from"./chunk-JSZH6HFF.js";import{a as Y}from"./chunk-A64OVPAW.js";import"./chunk-NIAUHSKU.js";import"./chunk-FNXPVOD7.js";import"./chunk-QLGZDBRM.js";import"./chunk-EC3YZH5E.js";import"./chunk-RDOAH55S.js";import"./chunk-TBCMWPFS.js";import"./chunk-63VZJNBW.js";import"./chunk-ATQ2IISL.js";import"./chunk-WVMSJ4JS.js";import{a as E}from"./chunk-V2KRM43J.js";import{a as C}from"./chunk-2VODWHYJ.js";import"./chunk-AKOYB2MJ.js";import"./chunk-PCS24QV6.js";import"./chunk-LMAPCTSK.js";import"./chunk-ATT7QPUL.js";import"./chunk-OJFORZ5L.js";import{a as b}from"./chunk-OEMG4KI7.js";import"./chunk-IW5EBVFR.js";import"./chunk-7QMLZEL5.js";import{a as X}from"./chunk-25C4ZULH.js";import{b as J}from"./chunk-R37CWEF4.js";import"./chunk-DX6C6LKB.js";import"./chunk-VDAUATSB.js";import"./chunk-OPFEBT2F.js";import"./chunk-33VL7FGV.js";import{a as Q}from"./chunk-7ZQZE7AG.js";function he(e,t,o){let s=e.slice();return s[7]=t[o],s}function ve(e){let t,o=e[3](e[7])+"",s,c;return{c(){t=d("option"),s=oe(o),t.__value=c=e[2](e[7]),t.value=t.__value},m(r,i){T(r,t,i),f(t,s)},p(r,i){i&1&&o!==(o=r[3](r[7])+"")&&re(s,o),i&1&&c!==(c=r[2](r[7]))&&(t.__value=c,t.value=t.__value)},d(r){r&&A(t)}}}function ye(e){let t,o,s,c,r,i,h,I,p,a,B,u=e[0],l=[];for(let n=0;n<u.length;n+=1)l[n]=ve(he(e,u,n));return{c(){t=d("tr"),o=d("td"),s=d("span"),s.textContent="Move selected items to:",c=x(),r=d("select");for(let n=0;n<l.length;n+=1)l[n].c();i=x(),h=d("span"),h.textContent="\xA0",I=x(),p=d("button"),p.textContent="Move",g(r,"class","customselect"),e[1]===void 0&&se(()=>e[5].call(r)),g(p,"class","custombutton"),g(p,"type","button"),g(o,"class","fshCenter")},m(n,v){T(n,t,v),f(t,o),f(o,s),f(o,c),f(o,r);for(let m=0;m<l.length;m+=1)l[m].m(r,null);M(r,e[1]),f(o,i),f(o,h),f(o,I),f(o,p),a||(B=[w(r,"change",e[5]),w(p,"click",e[4])],a=!0)},p(n,[v]){if(v&13){u=n[0];let m;for(m=0;m<u.length;m+=1){let H=he(n,u,m);l[m]?l[m].p(H,v):(l[m]=ve(H),l[m].c(),l[m].m(r,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=u.length}v&7&&M(r,n[1])},i:S,o:S,d(n){n&&A(t),te(l,n),a=!1,$(B)}}}function ke(e,t,o){let s=me(),{folders:c}=t,r,i=a=>a.parentNode.href.match(/&folder_id=(-?\d+)/i)[1],h=a=>X(a.parentNode.parentNode);function I(){C("dropitems","Move to Folder"),s("move",r)}function p(){r=ne(this),o(1,r),o(2,i),o(0,c)}return e.$$set=a=>{"folders"in a&&o(0,c=a.folders)},[c,r,i,h,I,p]}var ge=class extends ce{constructor(t){super();le(this,t,ke,ye,ee,{folders:0})}},_e=ge;function N(e,t){return fe(t,e).then(()=>({r:t}))}function F(e,t){return Y({cmd:"profile",subcmd:"sendtofolder",folder_id:e,folderItem:t})}function q(e,t){return W(F,N,e,t)}function _(){return b('[name="removeIndex[]"]:checked')}function y(e){let t=D(e);t.nextElementSibling.remove(),t.remove()}async function Ie(e,t){(await q(e,t.map(s=>s.value))).s&&t.forEach(y)}function be(e){j(30,_()).forEach(Q(Ie,e.detail))}function P(){let e=b('#pCC img[src$="/folder.png"]');if(e.length===0)return;let t=D(U(e[0]));new _e({anchor:t.nextElementSibling,props:{folders:e},target:t.parentNode}).$on("move",be)}function Ce(e){de().forEach(t=>{t.checked=Boolean(e)})}var R="ajaxifyDestroy",k,xe=e=>{pe(e.map(t=>t.value)).then(Z).then(t=>{!t.s||e.forEach(y)})},je=e=>{!e.returnValue||!k||(e.preventDefault(),j(30,_()).forEach(xe),C("dropitems","Destroy by AJAX"))};function De(){k=!k,z(R,k)}var Ee=()=>{let e=G('input[type="submit"]');L(e.parentNode,`&nbsp;&nbsp;${K(R)}`),E(e.parentNode,"change",De)};function V(){Ee(),k=J(R),E(document.forms[0],"submit",je),window.check=Ce}var Se=[P,ue,V];function Te(){O()||!ae()||ie(Se)}export{Te as default};
//# sourceMappingURL=injectProfileDropItems-2AJ3M74J.js.map
