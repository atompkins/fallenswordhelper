import{a as P}from"./chunk-XQUE3LKQ.js";import{a as _,b as v}from"./chunk-IAM27DRK.js";import{a as A}from"./chunk-LRAQVXR4.js";import{b as g}from"./chunk-3VTD7Y7G.js";import{a as s}from"./chunk-TQMWKADP.js";import{a as L}from"./chunk-KXK5PPXV.js";import{a as I}from"./chunk-TBU6D42U.js";import{a as T}from"./chunk-OCGB7BD5.js";import{a as h}from"./chunk-QZPX5STO.js";import"./chunk-QR6TWWSY.js";import{a as j}from"./chunk-SCAM4Q4W.js";import"./chunk-N53U3X6N.js";import{a as m}from"./chunk-DJH7MW43.js";import"./chunk-W5RHDDBD.js";import"./chunk-NRF5E4NM.js";import{a as i}from"./chunk-EERRLM6T.js";import{a as p}from"./chunk-YIRNRVOQ.js";import"./chunk-VSJWDJAE.js";import"./chunk-N35L4X3I.js";import"./chunk-M74LU33Y.js";import{a as E}from"./chunk-3A25HTZJ.js";import{a as l}from"./chunk-QICZDMHT.js";import{a as c}from"./chunk-SRR4B7GE.js";import"./chunk-RZ3TV2NA.js";import"./chunk-QCFSLNAO.js";import{a as N}from"./chunk-CDBYAPQM.js";import{a as C}from"./chunk-ISMAARKL.js";import{b as w}from"./chunk-ZTLAKSAF.js";import{a as x}from"./chunk-BRIPXERW.js";import"./chunk-A5UFVDS4.js";import"./chunk-TBHB36S6.js";import{a as f}from"./chunk-L35RWJ6D.js";import{a as u}from"./chunk-3XARJZUK.js";import{a as H,b as $}from"./chunk-CR4XFS65.js";import"./chunk-C4AGMBCS.js";import"./chunk-B5WSSBSP.js";import"./chunk-MWD4X6Z5.js";import"./chunk-RC6Y3VA2.js";import"./chunk-ILE2VADS.js";import{a as S}from"./chunk-DOJ57NAO.js";import"./chunk-KZTI7NFS.js";import"./chunk-L2KXS2FW.js";import"./chunk-GWVOQB64.js";import{a as B}from"./chunk-A2JPUMZD.js";import{X as d,ua as k}from"./chunk-I67LU25W.js";import"./chunk-PH4INCXG.js";var M=0,Q=1,a=2,F=3;function D(t){return[t[0],t[1].cooldownText,t[1].coolTime,t[1].seen]}function U(t){return t[a]>l}function X(t,o){return t[a]-o[a]}function V(t){return`<tr><td class="fshCenter">${t[M]}</td><td class="fshBold fshCenter fshCooldown">${t[Q]}</td><td class="fshCenter">${t[F]}</td></tr>`}function q(t){return f(t).map(D).filter(U).sort(X).map(V).join("")}function z(t){let o=I({className:"fshTTracker"}),e=L({innerHTML:'<tr><td class="header fshCenter">Titan</td><td class="header fshCenter">Cooldown</td><td class="header fshCenter">Visible</td></tr>'});return i(o,e),m(e,q(t)),o}function y(t,o){if(t.rows.length>5){let e=z(o),r=t.insertRow(5).insertCell(-1);r.colSpan=3,i(r,e)}}function G(t){t.previousElementSibling&&h(T(t.previousElementSibling.href))}var J=t=>T(t.cells[0].children[0].href);function K(t){let o=t.parentNode.parentNode.parentNode.parentNode,e=s(o.rows,3,0).map(J).join();h(e)}function R(t){let{target:o}=t;p("[b]",o)&&G(o),p("all",o)&&K(o)}function W(t){C("fshBl",t.target)&&R(t)}function Y(t){m(t.cells[0],' <button class="fshBl fshXSmall">[b]</button>')}function Z(t){s(t.rows,3,0).forEach(Y),m(t.rows[0].cells[0],' <button class="fshBl fshXSmall">all</button>')}function tt(t,o){return t.rows.length>1&&o>1}function ot(t){B(t).filter(tt).forEach(Z),S(t[1],W)}function b(t){t.length>2&&ot(t)}function O(t){return P(t.cells[0].children[0])}function et(t,o){let e=O(o).replace(" (Titan)","");if(!t[e]){let n=c(o.nextElementSibling.cells[0]),r=0;n.includes("until")&&(r=A(n.replace("Cooldown until: ",""))),t[e]={cooldownText:n,coolTime:r,seen:"yes"}}}function nt(t,o){t[o[0]]||o[1].coolTime<=l||(t[o[0]]={cooldownText:o[1].cooldownText,coolTime:o[1].coolTime,seen:"no"})}function rt(t,o){!t||f(t).forEach(u(nt,o))}function mt(t,o,e){return`<br><span class="fshBlue"> (${g(_(e-o,t),2)}% Current <br>${g(t*100/e,2)}% Total<br>${v(t,e,o)})`}function it(t,o){let e=o.split("/");m(t.cells[3],mt(Number(c(t.cells[3])),Number(e[0]),Number(e[1])))}function ct(t){let o=c(t.cells[2]);o.indexOf("-")===-1&&it(t,o)}function st(t,o){let e=encodeURIComponent(o),n=t.cells[0].children[0],r=j({href:`${d}creatures&search_name=${e}`,target:"_blank"});i(r,n),i(t.cells[0],r)}function lt(t){let o=t.cells[1],e=c(o);x(`<a href="${d}realms&search_name=${e}" target="_blank">${e}</a>`,o)}function ft(t){let o=O(t);st(t,o),m(t.cells[0],o.replace(" (Titan)","")),lt(t)}function at(t,o){ct(o),et(t,o),ft(o)}function ut(t,o){s(t.rows,4,0).forEach(u(at,o))}function dt(t){let o=E(k,w);b(o);let e=o[1],n={};ut(e,n),rt(t,n),y(o[0],n),$("fsh_titans",n)}function pt(){N()||H("fsh_titans").then(dt)}export{pt as default};
//# sourceMappingURL=injectScouttower-NCUV4PAO.js.map
