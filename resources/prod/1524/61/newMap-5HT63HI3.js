import{a as _a,b as Oa}from"./chunk-OPRDDRSD.js";import{a as Ka}from"./chunk-2F47JQ56.js";import"./chunk-HQTY6WII.js";import{a as Fa}from"./chunk-5FRTHRAG.js";import"./chunk-KF2SJX32.js";import{a as $a}from"./chunk-CVPBJ4TM.js";import{a as Lt}from"./chunk-2Z3HBU7T.js";import{a as Ra,b as Pa}from"./chunk-IAM27DRK.js";import{a as Ha,b as Na}from"./chunk-KTPUEEPQ.js";import{a as Ma}from"./chunk-HFYMBZJ6.js";import{a as Ga}from"./chunk-4NSETWW5.js";import{a as Va}from"./chunk-CFYAWXQ6.js";import{a as Ia}from"./chunk-S25ADXRU.js";import{a as j}from"./chunk-RIODCMIA.js";import{b as ba}from"./chunk-BWLHR6LP.js";import{a as La}from"./chunk-HVBMBJMO.js";import{a as Ta}from"./chunk-SXK7GCZM.js";import{a as R}from"./chunk-GYLDBTBA.js";import{a as Ee,b as bt}from"./chunk-3VTD7Y7G.js";import"./chunk-KMGCVVVJ.js";import"./chunk-5PJCK7DH.js";import{a as wa,b as Ea}from"./chunk-FEFNEE35.js";import{A as At,C as ya,O as mr,P as xa,T as Da,U as ka,a as Bt,d as ha,e as ur,o as k,p as ie,q as le,r as ga,s as S,t as ke,u as we,v as va,y as A}from"./chunk-M73AAOSC.js";import"./chunk-4NGCIKP6.js";import"./chunk-ZADLNAUM.js";import{a as Ca}from"./chunk-TQMWKADP.js";import{a as St}from"./chunk-DFDY7R4S.js";import{a as Ct}from"./chunk-Y6WQRSAL.js";import{a as pa}from"./chunk-ZCEF5B3Y.js";import{a as da}from"./chunk-WUJ4CDSE.js";import{a as ua}from"./chunk-C4GZT5QX.js";import"./chunk-US6XGAYN.js";import{a as fa}from"./chunk-H27FGTJ7.js";import{a as kt}from"./chunk-ONHZNTGL.js";import{a as h}from"./chunk-JC6CEICR.js";import"./chunk-TTD5PL7C.js";import{a as aa}from"./chunk-TBU6D42U.js";import{a as ma}from"./chunk-Z6S25FGQ.js";import{a as fr}from"./chunk-GVGQ2EBN.js";import{a as ca}from"./chunk-QZPX5STO.js";import"./chunk-QR6TWWSY.js";import{a as d}from"./chunk-2W33ZJXK.js";import{a as sr}from"./chunk-RLZKHCNR.js";import{a as Et}from"./chunk-RQF33MH3.js";import{a as wt}from"./chunk-RRDFH4PK.js";import{a as Ba,b as Aa,c as Sa}from"./chunk-T7FDHGGZ.js";import"./chunk-E7VQ3WT4.js";import{a as Ke}from"./chunk-QWESRETT.js";import{a as Sn}from"./chunk-M6IOPEYN.js";import"./chunk-F5WXPBTY.js";import"./chunk-DTPR5VRM.js";import{a as sa}from"./chunk-G5SHUQL4.js";import"./chunk-UHRCPRA2.js";import{a as Yn}from"./chunk-PPAXQEYD.js";import{a as la}from"./chunk-H6ROHLJQ.js";import{a as De}from"./chunk-K32J6RS5.js";import"./chunk-N53U3X6N.js";import{a as re}from"./chunk-DJH7MW43.js";import{a as xe}from"./chunk-633OWGHO.js";import{a as ia}from"./chunk-W42R6TEG.js";import"./chunk-W5RHDDBD.js";import{a as s}from"./chunk-O7GK7I6I.js";import{a as c}from"./chunk-4JAOIN2Q.js";import"./chunk-NRF5E4NM.js";import{a}from"./chunk-EERRLM6T.js";import{a as lr}from"./chunk-K5RWRCBP.js";import{a as I}from"./chunk-YW32WFOO.js";import"./chunk-67T22IOS.js";import{a as Qn}from"./chunk-OCTQIOIH.js";import"./chunk-YEYRDCHL.js";import{f as ae}from"./chunk-TKSMPJMZ.js";import{a as Dt}from"./chunk-EFF7KNX2.js";import"./chunk-WMNBZAKD.js";import{a as ye}from"./chunk-AMBECJSA.js";import{a as gt}from"./chunk-SVOLGRZA.js";import{a as Xn}from"./chunk-AMLNDKL6.js";import{a as oe}from"./chunk-VSJWDJAE.js";import{a as ge}from"./chunk-N35L4X3I.js";import"./chunk-NMZMDT4C.js";import{a as ra}from"./chunk-M74LU33Y.js";import{a as ta}from"./chunk-I4XIXMAY.js";import"./chunk-BYVXHJ5E.js";import{a as oa}from"./chunk-G3X3JRPI.js";import"./chunk-5SB6JHBH.js";import"./chunk-P32LYIQC.js";import"./chunk-3A25HTZJ.js";import{a as U}from"./chunk-TJ6L7XVK.js";import{a as ne}from"./chunk-W5YL3QSG.js";import{a as dt,b as ir}from"./chunk-QICZDMHT.js";import"./chunk-LGGDA375.js";import{a as Zn}from"./chunk-YLV5UIKA.js";import{a as Jn}from"./chunk-SRR4B7GE.js";import"./chunk-RZ3TV2NA.js";import{a as y}from"./chunk-GN5NA7YF.js";import"./chunk-Y4CNOL4E.js";import"./chunk-QCFSLNAO.js";import{a as z}from"./chunk-UHCYU2AF.js";import{a as Oe}from"./chunk-ISMAARKL.js";import{a as na}from"./chunk-MXS7SZ5M.js";import{a as w}from"./chunk-BRIPXERW.js";import{a as i}from"./chunk-A5UFVDS4.js";import{a as ea}from"./chunk-W4SU7VMV.js";import{a as W}from"./chunk-LWP4UM2N.js";import"./chunk-TBHB36S6.js";import"./chunk-L35RWJ6D.js";import{a as u}from"./chunk-3XARJZUK.js";import{a as yt,b as xt}from"./chunk-CR4XFS65.js";import"./chunk-C4AGMBCS.js";import{a as pt}from"./chunk-MWD4X6Z5.js";import"./chunk-RC6Y3VA2.js";import"./chunk-ILE2VADS.js";import{a as vt}from"./chunk-3IL5APLJ.js";import{a as C}from"./chunk-DOJ57NAO.js";import{b as g}from"./chunk-KZTI7NFS.js";import{a as jn}from"./chunk-L2KXS2FW.js";import{a as G}from"./chunk-GWVOQB64.js";import{a as ve}from"./chunk-VMJOI624.js";import{a as ht}from"./chunk-A2JPUMZD.js";import{$ as Hn,Aa as Kn,Ba as qn,Ca as Wn,Da as Un,Ea as zn,K as nr,N as Ln,Na as ct,P as ar,X as Tn,Y as he,Z as ft,_ as Mn,aa as Vn,b as te,ba as Nn,ca as Gn,da as In,e as st,ea as $n,fa as Rn,ga as ut,ha as Pn,ia as Fn,ja as _n,k as de,la as On,ma as q,na as mt,oa as L,p as or,x as bn}from"./chunk-I67LU25W.js";import{a as n}from"./chunk-PH4INCXG.js";var se;function cl(e){return e}function pl(e){return n.showBuffInfo&&e.some(cl)}function dl(){if(se)h(se,!1);else{se=c({className:"fshActionBox",innerHTML:"<div></div><div></div><div></div><div></div><div></div><div></div>"});let e=i("actionContainer");da(se,e.children[2])}return se}function hl(){se&&h(se,!0)}function cr(e){if(pl(e))return dl();hl()}var P,pr;function gl(e){P=e.children[3],P.className="fshBlue",s("CA ",P),pr=d(),a(P,pr),R(P," active")}function vl(e,t){P?h(P,!1):gl(e),s(t.level,pr)}function yl(){P&&h(P,!0)}function dr(e,t){t?vl(e,t):yl()}var F,hr;function xl(e){F=e.children[4],F.className="fshRed",s("Doubler ",F),hr=d(),a(F,hr),R(F," active")}function Dl(e,t){F?h(F,!1):xl(e),s(t.level,hr)}function kl(){F&&h(F,!0)}function gr(e,t){t?Dl(e,t):kl()}var Q,vr;function wl(e){Q=e.children[2],s("Damage bonus: ",Q),vr=d(),a(Q,vr),R(Q,"%")}function El(e,t){if(e){let r=Math.min(Math.round(Math.floor(t/5)*Number(e.level))*.01,20);return Ee(r,2).toString()}return"0"}function Cl(e,t,r){Q?h(Q,!1):wl(e),s(El(t,Number(r)),vr)}function Bl(){Q&&h(Q,!0)}function yr(e,t,r){t?Cl(e,t,r):Bl()}function p(e,t){s(z(e),t)}var fe,xr;function Al(e){fe=e.children[1],s("Kill Streak: ",fe),xr=d(),a(fe,xr)}function Sl(e,t){fe?h(fe,!1):Al(e),p(t,xr)}function bl(){fe&&h(fe,!0)}function Dr(e,t,r,o){t||r?Sl(e,o):bl()}function Ll(e,t){return t.name===e}function Y(e){let{buffs:t}=GameData.player();if(t)return t.find(u(Ll,e))}function kr(){let e=GameData.player().teleportCooldown;return e>1&&e}var Tl=["red","orange","yellow"];function wr(){let e=$("#actionlist-shield-imp");e.length===1&&e.css("background-color",Tl[e.text()]||"#ad8043")}var H,Er;function Ml(e){Oa(e)&&GameData.fetch(q)}function Hl(){Y("Summon Shield Imp")||_a([Dt()],[55]).then(Ml)}function Vl(e){return e?Number(e.stack):0}var Nl=["imp-0","imp-1","imp-1"];function Gl(e){return Nl[e]||"fshGreen"}function Il(e){H=e.children[0],s("Shield Imps Remaining: ",H),Er=d(),a(H,Er),re(H,"&nbsp;");let t=d({className:"xSmallLink",textContent:"Recast"});a(H,t),C(t,Hl)}function $l(e,t){H?h(H,!1):Il(e);let r=Vl(t);H.className=Gl(r),s(r,Er)}function Rl(){H&&h(H,!0)}function Cr(e,t,r){t||r?$l(e,t):Rl()}function Pl(e){return e.type===0}function Br(){let{dynamic:e}=GameData.realm();return I(e)&&e.some(Pl)}function D(e){return d({textContent:e})}var ue,Tt,qa;function Fl(e,t){ue=e.children[5],s("Teleport Cooldown: ",ue),Tt=D(t.toString()),a(ue,Tt)}function _l(e,t){ue?h(ue,!1):Fl(e,t)}function Ol(){ue&&h(ue,!0)}function Wa(){let e=Math.max(Math.ceil((qa-Date.now())/1e3),0);s(e,Tt),e>0&&setTimeout(Wa,500)}function Ua(e){Tt&&(qa=Date.now()+e*1e3,Wa())}function za(e,t){t?_l(e,t):Ol()}var qe,Ar,Sr,br,Lr,Tr,Mr;function Kl(){qe=Y("Death Dealer"),Ar=Y("Doubler"),Sr=Y("Counter Attack"),br=Y("Summon Shield Imp"),Lr=kr(),Tr=Br(),Mr=GameData.player().killStreak}function Hr(){wr(),Kl();let e=cr([qe,Ar,Sr,br,Lr,Tr]);e&&(Cr(e,br,qe),Dr(e,qe,Tr,Mr),yr(e,qe,Mr),dr(e,Sr),gr(e,Ar),za(e,Lr))}function ql(e,t){Ua(t.player.teleportCooldown)}function ja(){Hr(),$.subscribe(`${ft} ${Mn}`,Hr),$.subscribe(_n,ql)}function Qa(){n.showBuffInfo=!n.showBuffInfo,y("showBuffInfo",n.showBuffInfo),Hr()}function Wl(){return window.GameController&&GameController.Realm&&!GameController.Realm.footprintTileList}function Vr(){Wl()&&(GameController.Realm.footprintTileList=[])}function Ya(e,t,r){return fa({className:`fshCurveEle fshCurveLbl fshPoint tip-static ${e}`,dataset:{tipped:t},htmlFor:r})}function Mt(e){let t=c({className:"fshToggle"}),r=kt({checked:e.prefVal,id:e.checkId,type:"checkbox"});a(t,r);let o=Ya(e.onClass,e.onTip,e.checkId);a(t,o);let l=Ya(e.offClass,e.offTip,e.checkId);return a(t,l),a(e.worldName,t),r}var J,Ht,Vt,Ja,Xa,Za,ei,ti,ri;function Ul(e){Ke(e),GameData.doAction(12,401,{},0)}function zl(){ca(sa())}function jl(){window.open(`${Ln+or}map`,"fsMap")}function Ql(){let e=GameData.realm();window.open(`${Tn}realms${or}view&realm_id=${e.id}`,"mapUfsg")}function Yl(){y("playNewMessageSound",!g("playNewMessageSound"))}function Jl(){n.huntingMode=!n.huntingMode,y("huntingMode",n.huntingMode)}function Xl(){return c({className:"fshCurveContainer",id:"fshWorldButtonContainer"})}function oi(e){return e?e.toString():"?"}function Zl(){let e=c({textContent:"Min Lvl: "});return Ht=D(oi(GameData.realm().minlevel)),a(e,Ht),e}function es(){let e=c({textContent:"Your Lvl: "});return Vt=D(oi(GameData.player().level)),a(e,Vt),e}function ts(e){let t=c({className:"fshFsty"});a(t,Zl()),a(t,es()),a(e,t)}function Nt(e,t,r){let o=j({className:`fshCurveEle fshCurveBtn fshPoint tip-static ${e}`,dataset:{tipped:t}});return a(r,o),o}function rs(e){ts(e),Ja=Nt("fshFormGroup","Quick Create Attack Group",e),Xa=Nt("fshQuickBuff","Open Quick Buff Popup",e),Za=Nt("fshRealmMap","Open Realm Map",e),ei=Nt("fshTempleOne","Search map in Ultimate FSG",e)}function os(e){if(g("showSpeakerOnWorld")){let t=g("playNewMessageSound");ti=Mt({prefVal:t,checkId:"fshSoundCheck",onClass:"soundOn",onTip:"Turn Off Sound when you have a new log message",offClass:"soundOff",offTip:"Turn On Sound when you have a new log message",worldName:e})}}function ns(e){let t=n.huntingMode;ri=Mt({prefVal:t,checkId:"fshHuntCheck",onClass:"huntOn",onTip:"Hunting mode is ON",offClass:"huntOff",offTip:"Hunting mode is OFF",worldName:e})}function as(){rs(J),os(J),ns(J)}var is=[[e=>e===ti,Yl],[e=>e===ri,Jl]],ls=[[e=>e===Ja,Ul],[e=>e===Xa,zl],[e=>e===Za,jl],[e=>e===ei,Ql]];function ss(){C(J,lr(ls)),G(J,"change",lr(is))}function fs(){J||(J=Xl(),as(),ss(),Et(J,i("worldCoord")))}function us(e,t){Ht&&t.b.minlevel&&(Vr(),s(t.b.minlevel,Ht))}function ms(e,t){Vt&&s(t.b,Vt)}function Nr(){fs(),$.subscribe(In,us),$.subscribe(Hn,ms)}var cs=["NORMAL","CHAMPION","ELITE","SUPER ELITE","TITAN","LEGENDARY"],ps=`url("${te}ui/world/icon_action_attack_`,Gt=!1;function Gr(e){return ye(".verb.attack",e)}function Ir(e){let t=cs.indexOf(e.toUpperCase());return gt(`#actionList .actionListItem.creature.creature-${t}`)}function ds(e){e.classList.remove("attack-1","attack-2","attack-3","attack-4","attack-5","attack-6","attack-7","attack-8"),e.style.backgroundImage=""}function hs(e,t){e!==null&&(e.classList.add(`attack-${t+1}`),e.style.backgroundImage=`${ps}${t+1}.png")`)}function ni(e){let t=["LEGENDARY","NORMAL"].flatMap(Ir),r=Ir("CHAMPION"),[o,l]=e?[t,r]:[r,t];o.map(Gr).filter(f=>f!==null).forEach(ds),l.slice(0,8).map(Gr).forEach(hs)}function gs(e){if(!e.altKey||!e.shiftKey||e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||(Gt||ni(!0),Gt=!0,!e.code.match(/(Digit|Numpad)[1-8]/)))return;let t=Ir("CHAMPION"),r=parseInt(e.code.slice(-1),10)-1;if(r<t.length){let o=Gr(t[r]);o!==null&&(De("world","ChampionAttack"),o.click())}}function vs(e){Gt&&(!e.ctrlKey||!e.shiftKey)&&(Gt=!1,ni(!1))}function $r(){let{body:e}=document;G(e,"keydown",gs),G(e,"keyup",vs)}var ys=["Breaker","Protection","Master Thief","Protect Gold","Disarm","Duelist","Thievery","Master Blacksmith","Master Crafter","Fury Caster","Master Inventor","Sustain"],Rr=[],b;function xs(e){(e.id===54||e.id===26)&&(b.player.buffs[e.id]=parseInt(e.level,10))}function Ds(e){ys.indexOf(e.name)===-1&&(b.player.enhancements[e.name]=e.value)}function ks(e){e.player.buffs&&e.player.buffs.forEach(xs)}function ws(e){e.player.enhancements&&e.player.enhancements.forEach(Ds)}function Es(e,t){b={},b.combat=t.response.data,b.combat.inventory_id&&(b.combat.drop=b.combat.item.id),b.player={},b.player.buffs={},b.player.enhancements={},ks(t),ws(t),b.time=t.time,Rr.push(b),xt("fsh_combatLog",Rr)}function Cs(e,t){t.response.response===0&&Es(e,t)}function Bs(e){e&&(Rr=e),$.subscribe(ut,Cs)}function Pr(){g("keepLogs")&&yt("fsh_combatLog").then(Bs)}function me(e){return n.doNotKillList.includes(ge(e))}function As(e){e.classList.toggle("fshBlue",me(Jn(e)))}function Ce(){let e=i("actionList");vt("creature",e).forEach(As)}function Ss(e,t){if(me(e))return i("actionList").children[t].children[0].children[1].classList.remove("loading"),!0}function bs(e){let t=GameData.actions()[e];if(t)return Ss(t.data.name,e)}function Ls(e){return function(r,o,l,f){bs(l.passback)||e(r,o,l,f)}}var Ts={2:Ls};function Ms(e){return jn(e)||e===0}function Hs(e){return e&&pt(e)}function Vs(e){return function(r,o,l,f){let m=Ts[r];Hs(m)&&Ms(f)?m(e)(r,o,l,f):e(r,o,l,f)}}function Fr(){let e=GameData.doAction;GameData.doAction=Vs(e)}function _r(){$.subscribe(he,Ce),Ce(),Fr()}function ai(e){e[1]=e[2].r.list}function ii(e,t,r){let o=e.slice();return o[3]=t[r],o[5]=r,o}function Ns(e){let t,r=e[6].message+"",o;return{c(){t=S("p"),o=ke(r),ya(t,"color","red")},m(l,f){ie(l,t,f),k(t,o)},p(l,f){f&1&&r!==(r=l[6].message+"")&&At(o,r)},d(l){l&&le(t)}}}function Gs(e){ai(e);let t,r,o,l=e[1],f=[];for(let m=0;m<l.length;m+=1)f[m]=si(ii(e,l,m));return{c(){t=S("table"),r=S("tr"),r.innerHTML=`<td class="header"></td> 
      <td class="header"></td> 
      <td class="header">Username</td> 
      <td class="header">Kills</td>`,o=we();for(let m=0;m<f.length;m+=1)f[m].c();A(r,"class","svelte-1p6satm"),A(t,"id","world-event-contrib-table"),A(t,"class","svelte-1p6satm")},m(m,N){ie(m,t,N),k(t,r),k(t,o);for(let x=0;x<f.length;x+=1)f[x].m(t,null)},p(m,N){if(ai(m),N&1){l=m[1];let x;for(x=0;x<l.length;x+=1){let K=ii(m,l,x);f[x]?f[x].p(K,N):(f[x]=si(K),f[x].c(),f[x].m(t,null))}for(;x<f.length;x+=1)f[x].d(1);f.length=l.length}},d(m){m&&le(t),ga(f,m)}}}function li(e){let t,r,o,l;return{c(){t=S("a"),r=S("img"),ur(r.src,o=""+(te+"guilds/"+e[3].guild.id+"_mini.png"))||A(r,"src",o),A(r,"alt","guild logo"),A(r,"class","svelte-1p6satm"),A(t,"href",l=""+(nr+e[3].guild.id))},m(f,m){ie(f,t,m),k(t,r)},p(f,m){m&1&&!ur(r.src,o=""+(te+"guilds/"+f[3].guild.id+"_mini.png"))&&A(r,"src",o),m&1&&l!==(l=""+(nr+f[3].guild.id))&&A(t,"href",l)},d(f){f&&le(t)}}}function si(e){let t,r,o=e[5]+1+"",l,f,m,N,x,K,at=e[3].player.name+"",er,it,Bn,tr,lt=e[3].value+"",rr,An,E=e[3].guild&&li(e);return{c(){t=S("tr"),r=S("td"),l=ke(o),f=we(),m=S("td"),E&&E.c(),N=we(),x=S("td"),K=S("a"),er=ke(at),Bn=we(),tr=S("td"),rr=ke(lt),An=we(),A(K,"href",it=""+(ar+e[3].player.name)),A(t,"class","svelte-1p6satm")},m(M,pe){ie(M,t,pe),k(t,r),k(r,l),k(t,f),k(t,m),E&&E.m(m,null),k(t,N),k(t,x),k(x,K),k(K,er),k(t,Bn),k(t,tr),k(tr,rr),k(t,An)},p(M,pe){M[3].guild?E?E.p(M,pe):(E=li(M),E.c(),E.m(m,null)):E&&(E.d(1),E=null),pe&1&&at!==(at=M[3].player.name+"")&&At(er,at),pe&1&&it!==(it=""+(ar+M[3].player.name))&&A(K,"href",it),pe&1&&lt!==(lt=M[3].value+"")&&At(rr,lt)},d(M){M&&le(t),E&&E.d()}}}function Is(e){let t;return{c(){t=ke("Loading...")},m(r,o){ie(r,t,o)},p:Bt,d(r){r&&le(t)}}}function $s(e){let t,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:Is,then:Gs,catch:Ns,value:2,error:6};return mr(r=e[0],o),{c(){t=va(),o.block.c()},m(l,f){ie(l,t,f),o.block.m(l,o.anchor=f),o.mount=()=>t.parentNode,o.anchor=t},p(l,[f]){e=l,o.ctx=e,f&1&&r!==(r=e[0])&&mr(r,o)||xa(o,e,f)},i:Bt,o:Bt,d(l){l&&le(t),o.block.d(l),o.token=null,o=null}}}function Rs(e,t,r){let{promise:o}=t;return e.$$set=l=>{"promise"in l&&r(0,o=l.promise)},[o]}var fi=class extends ka{constructor(t){super();Da(this,t,Rs,$s,ha,{promise:0})}},ui=fi;function Or(e){return ia({cmd:"toprated",subcmd:e})}var Ps=({username:e,value:t})=>({player:{name:e},value:t});async function Kr(e){if(e==="globalquest")return{r:{list:(await la({cmd:"toprated",subcmd:"eventcontrib"})).map(Ps)}}}function qr(e){return xe(Or,Kr,e)}var Wr,mi=()=>({promise:qr("globalquest")});function Fs(e){Wr?Wr.$set(mi()):Wr=new ui({props:mi(),target:e})}function _s(){let e=i("world-event-contrib");Fs(e),$(e).dialog({title:"Top 100 Event Contributers",minWidth:300,height:300,zIndex:9999})}function Ur(){let e=$("#world-event-badge");!e.length||(e.off(),C(e[0],_s))}function Os(e){return e.response&&e.response.msg&&e.response.msg.startsWith("Creature did not exist at that location")}function Ks(e){Os(e)&&GameData.fetch(mt+L)}function qs(e){e.remove()}function Ws(e,t){Ks(t),gt(".creature-4 > .quickCombat > .verbs").forEach(qs)}function zr(){$.subscribe(ut,Ws)}function _(e){return!e||!e.response||!e.response.data}var ci='<table class="relicT relicS"><thead><tr><th colspan="2">Adjusted defense values</th></tr></thead><tbody><tr><td>DC225:</td><td id="DC225">0</td></tr><tr><td>DC175:</td><td id="DC175">0</td></tr><tr><td colspan="2">&nbsp;</td></tr></tbody><thead><tr><th colspan="2">Attacking Group Stats</th></tr></thead><tbody><tr><td>Raw Group Attack:</td><td class="fshGrey" id="GroupAttack"></td></tr><tr><td>Group Attack w/ buffs:</td><td id="GroupAttackBuffed"></td></tr><tr><td>Raw Group Defense:</td><td class="fshGrey" id="GroupDefense"></td></tr><tr><td>Group Defense w/ buffs:</td><td id="GroupDefenseBuffed"></td></tr><tr><td>Raw Group Armor:</td><td class="fshGrey" id="GroupArmor"></td></tr><tr><td>Group Armor w/ buffs:</td><td id="GroupArmorBuffed"></td></tr><tr><td>Raw Group Damage:</td><td class="fshGrey" id="GroupDamage"></td></tr><tr><td>Group Damage w/ buffs:</td><td id="GroupDamageBuffed"></td></tr><tr><td>Raw Group HP:</td><td class="fshGrey" id="GroupHP"></td></tr><tr><td>Group HP w/ buffs:</td><td id="GroupHPBuffed"></td></tr></tbody></table>',pi='<table class="relicT relicS"><thead><tr><th colspan="2">Defending Guild Stats</th></tr></thead><tbody><tr><td>Relic Count:</td><td id="relicCount">0</td></tr><tr><td>Lead Defender Bonus:</td><td id="LDPercentage">0</td></tr><tr><td>Lead Defender Cloaked:</td><td id="LDCloaked">No</td></tr></tbody><thead><tr><th colspan="2">Other Defender Stats</th></tr></thead><tbody><tr><td>Raw Attack:</td><td class="fshGrey" id="attackValue">0</td></tr><tr><td>Attack w/ buffs:</td><td id="attackValueBuffed">0</td></tr><tr><td>Raw Defense:</td><td class="fshGrey" id="defenseValue">0</td></tr><tr><td>Defense w/buffs:</td><td id="defenseValueBuffed">0</td></tr><tr><td>Raw Armor:</td><td class="fshGrey" id="armorValue">0</td></tr><tr><td>Armor w/ buffs:</td><td id="armorValueBuffed">0</td></tr><tr><td>Raw Damage:</td><td class="fshGrey" id="damageValue">0</td></tr><tr><td>Damage w/ buffs:</td><td id="damageValueBuffed">0</td></tr><tr><td>Raw HP:</td><td class="fshGrey" id="hpValue">0</td></tr><tr><td>HP w/ buffs:</td><td id="hpValueBuffed">0</td></tr><tr><td>Cloaked:</td><td id="defendersCloaked">0</td></tr><tr><td>Processed:</td><td id="defendersProcessed">0</td></tr></tbody></table>',di='<table class="relicT"><thead><tr><th colspan="2">Processing</th></tr></thead><tbody><tr><td class="fshGreen" colspan="2" id="ProcessingStatus">Parsing defending guild stats ...</td></tr></tbody><thead><tr><th colspan="2">Assumptions</th></tr></thead><tbody><tr><td colspan="2" class="fshGrey">Above calculations include Constitution, Fortitude, Nightmare Visage, Chi Strike, Sanctuary, Terrorize and Flinch bonus calculations (in that order) on both the defending group and attacking group.</td></tr></tbody></table>';var O,Be,Ae,Se;function Us(e){return e.player_name}function zs(e){Se=e.defenders.map(Us)}function js(){O?w("",O):O=c({className:"body"})}function Qs(e){Be=c({className:"fshFloatLeft fshRelicLeftDiv"}),a(O,Be),e.is_owner&&a(Be,Ha(Se)),Ae=j({className:"custombutton",textContent:"Fetch Stats"}),a(Be,Ae)}function hi(e){zs(e),js(),Qs(e);let t=i("dialog-relic");a(t,O)}var V,gi,vi,jr,Qr,Yr,Jr,It,Xr,Zr,eo,to,ro,oo,no,ao,io,lo,so,fo,uo,mo,co,po,ho,go,vo,yo,xo,Do,X,Ys=[e=>e!=="lastUpdate",e=>!Se.includes(e),e=>V[e].last_login,e=>Number(V[e].last_login)<gi,e=>Number(V[e].last_login)>vi,e=>V[e].level<400||V[e].level>421,e=>V[e].level<441||V[e].level>450];function Js(e,t){return t(e)}function Xs(e){return Ys.every(u(Js,e))}function Zs(e){return`<a href="${bn}${V[e].id}">${e}</a>`}function ef(e){V=e,gi=ir-120,vi=ir-604800;let t=ea(V).filter(Xs).map(Zs);re(O,`<div class="fshFloatLeft fshRelicLowDiv"><table class="relicT"><thead><tr><th>${t.length.toString()} Offline guild members not at relic:</th></tr></thead><tbody><tr><td>${t.join(" ")}</td></tr></tbody></table></div>`)}function tf(){jr=i("relicCount"),Qr=i("LDPercentage"),Yr=i("LDCloaked"),Jr=i("attackValue"),It=i("attackValueBuffed"),Xr=i("defenseValue"),Zr=i("defenseValueBuffed"),eo=i("armorValue"),to=i("armorValueBuffed"),ro=i("damageValue"),oo=i("damageValueBuffed"),no=i("hpValue"),ao=i("hpValueBuffed"),io=i("defendersCloaked"),lo=i("defendersProcessed")}function rf(){so=i("DC225"),fo=i("DC175"),uo=i("GroupAttack"),mo=i("GroupAttackBuffed"),co=i("GroupDefense"),po=i("GroupDefenseBuffed"),ho=i("GroupArmor"),go=i("GroupArmorBuffed"),vo=i("GroupDamage"),yo=i("GroupDamageBuffed"),xo=i("GroupHP"),Do=i("GroupHPBuffed")}function yi(e){wt(Ae);let t=g("hideRelicOffline");e.is_owner&&!t&&La(!0).then(ef),re(Be,di),X=i("ProcessingStatus");let r=c({className:"fshFloatLeft fshRelicMidDiv",innerHTML:pi});a(O,r),tf();let o=c({className:"fshFloatLeft fshRelicRightDiv",innerHTML:ci});a(O,o),rf()}var $t;function of(e){return e===1?1.5:Ee(1-e/10,2)}function xi(e){let t=U(e),o=Xn('#pCC img[src*="/relics/"]',t).length;s(o,jr),$t=of(o),s(`${String($t*100)}%`,Qr)}function Rt(e,t){return e>t*10||e<t?e:t*10}function nf(e){e.attackValue=Rt(e.attackBonus,e.levelValue),e.defenseValue=Rt(e.defenseBonus,e.levelValue),e.armorValue=Rt(e.armorBonus,e.levelValue),e.damageValue=Rt(e.damageBonus,e.levelValue),e.hpValue=e.hpBonus}var af=[["levelValue","level"],["attackValue","attack"],["attackBonus","bonus_attack"],["defenseValue","defense"],["defenseBonus","bonus_defense"],["armorValue","armor"],["armorBonus","bonus_armor"],["damageValue","damage"],["damageBonus","bonus_damage"],["hpValue","hp"],["hpBonus","bonus_hp"],["killStreakValue","killstreak"]];function lf(e,t,r){e[r[0]]=Number(t[r[1]])}function sf(e,t){af.forEach(u(lf,e,t))}var ff=[["counterAttackLevel","Counter Attack"],["doublerLevel","Doubler"],["deathDealerLevel","Death Dealer"],["darkCurseLevel","Dark Curse"],["holyFlameLevel","Holy Flame"],["constitutionLevel","Constitution"],["sanctuaryLevel","Sanctuary"],["flinchLevel","Flinch"],["nightmareVisageLevel","Nightmare Visage"],["superEliteSlayerLevel","Super Elite Slayer"],["fortitudeLevel","Fortitude"],["chiStrikeLevel","Chi Strike"],["terrorizeLevel","Terrorize"],["barricadeLevel","Barricade"],["reignOfTerrorLevel","Reign Of Terror"],["anchoredLevel","Anchored"],["severeConditionLevel","Severe Condition"],["entrenchLevel","Entrench"],["cloakLevel","Cloak"]];function uf(e,t,r){e[r[0]]=t[r[1]]||0}function mf(e,t){ff.forEach(u(uf,e,t))}function be(e){if(!e)return;let t=Lt(e._skills),r={};return sf(r,e),mf(r,t),r.superEliteSlayerMultiplier=Ee(.002*r.superEliteSlayerLevel,2),ra(r.armorValue)&&nf(r),r}var Le,Pt,We,Te,Ue,Ft,ze,ko,wo,B,v,ce;function cf(){v.attack-=ce.attack,v.defense-=ce.defense,v.armor-=ce.armor,v.damage-=ce.damage,v.hp-=ce.hp}function je(e){return Math.round(e*$t)}function pf(){Le+=je(B.attackValue),We+=je(B.defenseValue),Te+=je(B.armorValue),Ue+=je(B.damageValue),ze+=je(B.hpValue)}function Di(){p(Le,Jr),p(We,Xr),p(Te,eo),p(Ue,ro),p(ze,no),s(ko,io),wo+=1,s(wo,lo)}function df(){p(v.attack,uo),p(v.defense,co),p(v.armor,ho),p(v.damage,vo),p(v.hp,xo)}function hf(e){return Math.ceil(v.attack*(W(e["Nightmare Visage"],0)*.0025))}function gf(){let e=Math.ceil(v.attack*B.flinchLevel*.001);p(v.attack-e,mo)}function vf(e){return Math.ceil(v.defense*(1+W(e.Constitution,0)*.001))}function yf(e,t){p(t+e,po)}function xf(e){p(v.armor+Math.floor(v.armor*W(e.Sanctuary,0)*.001),go)}function Df(e,t){return Math.ceil(t*W(e.Fortitude,0)*.001)}function kf(e){p(v.hp+e,Do)}function wf(e,t){let r=Math.ceil((v.hp+t)*W(e["Chi Strike"],0)*.001),o=Math.ceil(v.damage*B.terrorizeLevel*.001);p(v.damage+r-o,yo)}function Ef(e){let t=hf(e);v.attack-=t,gf();let r=vf(e);yf(t,r),xf(e);let o=Df(e,r);kf(o),wf(e,o)}function Cf(e){let t=Math.ceil(Pt*W(e.Flinch,0)*.001);p(Pt-t,It)}function Bf(e){let t=Math.ceil(Ft*W(e.Terrorize,0)*.001);p(Ft-t,oo)}function Af(){s("Processing attacking group stats ... ",X),ce&&cf(),df();let e=Lt(GameData.player().buffs);Ef(e),Cf(e),Bf(e),s("Done.",X)}function Sf(){return Math.ceil(Le*(B.nightmareVisageLevel*.0025))}function bf(){return Math.ceil(We*(1+B.constitutionLevel*.001))}function Lf(e){Pt=Le-e,p(Pt,It)}function ki(e){return 1-e*ct}function Tf(e,t){let r=t+e;p(r,Zr),p(Math.ceil(r*ki(225)),so),p(Math.ceil(r*ki(175)),fo)}function Mf(){p(Te+Math.floor(Te*B.sanctuaryLevel*.001),to)}function Hf(e){return Math.ceil(e*B.fortitudeLevel*.001)}function Vf(e){Ft=Ue+Math.ceil(e*B.chiStrikeLevel*.001),p(Ft)}function Nf(){B.cloakLevel!==0&&s("Yes",Yr)}function wi(){s("Processing defending guild stats ... ",X),pf(),Di();let e=Sf();Lf(e);let t=bf();Tf(e,t),Mf();let r=ze+Hf(t);p(r,ao),Vf(r),Nf(),GameData.player().hasGroup&&v?Af():s("Done.",X)}function Ei(e){let t=be(e);Le+=Math.round(t.attackValue*de),We+=Math.round(t.defenseValue*de),Te+=Math.round(t.armorValue*de),Ue+=Math.round(t.damageValue*de),ze+=Math.round(t.hpValue*de),t.cloakLevel!==0&&(ko+=1),Di()}function Ci(e){B=be(e)}function Bi(e){v=e}function Ai(e){ce=e}function Si(){Le=0,We=0,Te=0,Ue=0,ze=0,ko=0,wo=0}var Qe;function Gf(e){s(e.message,X)}function If(e){return e.parentNode.parentNode.previousElementSibling.previousElementSibling.innerHTML.indexOf('"#000099"')!==-1}function $f(e){let t=e.previousElementSibling.href,r=[Na(t).then(Bi)];return If(e)&&r.push(Ga().then(Ai)),r}function Rf(e){let t=U(e),r=ye('#pCC a[href*="confirmDisband"]',t);if(!r)return;let o=$f(r);return oa(o)}function Pf(){return ne({cmd:"guild",subcmd:"groups"}).then(Rf)}function Ff(){return ne({cmd:"guild",subcmd:"view",guild_id:Qe.controlled_by.guild_id}).then(xi)}function _f(e,t){return t===0?fr(e).then(Ci):fr(e).then(Ei).catch(Gf)}function Of(){return Se.map(_f)}function Kf(){let e=[Ff()];return GameData.player().hasGroup&&e.push(Pf()),e=e.concat(Of()),e}function qf(){yi(Qe),Si();let e=Kf();Ct(e,wi)}function Wf(e,t){_(t)||(Qe=t.response.data,Qe.defenders.length>0&&(hi(Qe),Sn(Ae,"click",qf)))}function Eo(){$.subscribe(Pn,Wf)}function Ye(e){return Zn({cache:!1,url:"fetchdata.php",data:na(e,{fshrnd:ba()}),dataType:"json"})}var bi=[];function Uf(e){return _(e)||bi.push(e),e}function zf(e,t){return e===Number(t.response.data.id)}function jf(e,t){e(t)}function Qf(e){return new Promise(t=>{Yn(3,jf,[t,e])})}function Je(e,t){let r=bi.find(u(zf,e));return r?Qf(r):Ye({a:1,id:e,passback:t}).then(Uf)}var _t,Co,Bo,Ao,So,bo;function Xe(e,t){return ta(ve(t,e))}function Yf(e){Bo=Xe(e,qn),Co=Xe(e,Kn),So=Xe(e,Un),Ao=Xe(e,Wn),bo=Xe(e,zn)}function Li(){_t=GameData.player().level,Yf(i("statbar-character-tooltip-stats"))}function Jf(e){return`<table><tr><td><img src="${te}creatures/${e.image_id}.png" height="200" width="200"></td><td rowspan="2"><table width="400"><tr><td class="header" colspan="4" class="fshCenter">Statistics</td></tr>`}function Xf(e,t){return`<tr><td>Class:&nbsp;</td><td width="40%">${e.creature_class}</td><td>Level:&nbsp;</td><td width="40%">${e.level} (your level:<span class="${t}">${_t}</span>)</td></tr>`}function Zf(e){return`<tr><td>Attack:&nbsp;</td><td width="40%">${e.attack} (your defense:<span class="fshYellow">${Co}</span>)</td><td>Defense:&nbsp;</td><td width="40%">${e.defense} (your attack:<span class="fshYellow">${Bo}</span>)</td></tr>`}function eu(e){return`<tr><td>Armor:&nbsp;</td><td width="40%">${e.armor} (your damage:<span class="fshYellow">${Ao}</span>)</td><td>Damage:&nbsp;</td><td width="40%">${e.damage} (your armor:<span class="fshYellow">${So}</span>)</td></tr>`}function tu(e,t){return`<tr><td>HP:&nbsp;</td><td width="40%">${e.hp} (your HP:<span class="fshYellow">${bo}</span>)(1H: <span class="fshRed">${t}</span>)</td><td>Gold:&nbsp;</td><td width="40%">${e.gold}</td></tr>`}var ru='<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Enhancements</td></tr>';function ou(e){return`<tr><td colspan="2">${e.name}:</td><td colspan="2">${e.value}</td></tr>`}function nu(e){return e.enhancements.length===0?'<tr><td colspan="4">[no enhancements]</td></tr>':e.enhancements.map(ou).join("")}function au(e){return`<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Description</td></tr><tr><td colspan="4">${e.description}</td></tr><tr><td colspan="4" height="5"></td></tr></table></td></tr><tr><td class="fshCenter"><b>${e.name}</b></td></tr></table>`}function iu(e,t,r){return Jf(e)+Xf(e,r)+Zf(e)+eu(e)+tu(e,t)+ru+nu(e)+au(e)}function lu(e){let t=Math.ceil(e.hp*n.hpVariable+e.armor*n.generalVariable),r="fshYellow";return Li(),_t>e.level&&(r="fshRed"),iu(e,t,r)}function Lo(e){if(!_(e))return lu(e.response.data)}var su=["verb","view","tip-static"];function fu(e,t){$(e).qtip({overwrite:!0,show:{event:"mouseover",ready:!0},style:{classes:"qtip-tipsy qtip-custom"},position:{my:"center right",at:"center left",effect:!1,viewport:$(window)},content:{text:t},hide:{effect:!1}})}function uu(e){return ht(e.parentNode.children).indexOf(e)}function mu(e,t){let r=Lo(t);e.set("content.text",r)}function cu(e,t,r){return Je(GameData.actions()[e].data.id,e).then(u(mu,r)),"Loading..."}function pu(e,t){De("NewMap","CreatureInfo");let r=uu(t);e.classList.add("fshTip"),fu(e,u(cu,r))}function du(e,t){return ua(su,e)&&!Oe("fshTip",e)&&Oe("creature",t)}function hu(e){if(!n.showCreatureInfo)return;let{target:t}=e,r=t.parentNode.parentNode.parentNode;du(t,r)&&pu(t,r)}function To(){G(i("actionList"),"mouseover",hu)}var T;function gu(e,t){t.creature_class=e.creature_class,t.image_id=e.image_id,t.level=Number(e.level),t.type=e.type}function vu(e){T[e.name]?T[e.name].seen&&(T[e.name].seen+=1):(T[e.name]={seen:1},gu(e,T[e.name]))}function Ti(e,t,r){return t?e(t,r):r}function Mi(e,t){let r=e||{};return r.min=Ti(Math.min,r.min,t),r.max=Ti(Math.max,r.max,t),r}var yu=["attack","armor","damage","defense","hp"];function xu(e,t){return!e||e.min!==t.min||e.max!==t.max}function Du(e,t,r){let o=Mi(t[r],Number(e[r]));xu(t[r],o)&&(t[r]=o)}function ku(e,t){yu.forEach(u(Du,e,t))}function wu(e){return e.enhancements&&e.enhancements.length>0}function Eu(e,t){e[t.name]=Mi(e[t.name],Number(t.value))}function Cu(e,t){wu(e)&&(t.enhancements=t.enhancements||{},e.enhancements.forEach(u(Eu,t.enhancements)))}function Bu(e){T||(T={}),vu(e),ku(e,T[e.name]),Cu(e,T[e.name]),xt("fsh_monsterLog",T)}function Hi(e){n.showMonsterLog&&Bu(e)}function Au(e){T=e||{}}function Vi(){yt("fsh_monsterLog").then(Au)}var Ni=[];function Su(e){_(e)||(De("NewMap","MonsterLog"),Hi(e.response.data))}function bu(e,t){return e.id===t.id}function Lu(e){if(Ni.find(u(bu,e.data)))return!0;Ni.push(e.data)}function Tu(e,t){e.type!==6||Lu(e)||Je(e.data.id,t).then(Su)}function Gi(){n.showMonsterLog&&GameData.actions().forEach(Tu)}function Mo(){Vi(),$.subscribe("-1-success.action-response 4-success.action-response 5-success.action-response 25-success.action-response",Gi),Gi()}function Ho(){return pa({subcmd:"scouttower"})}function Mu(e){let t=e.split(/[: /[]/);return new Date(Number(t[4]),st.indexOf(t[3]),Number(t[2]),Number(t[0]),Number(t[1]))}function Hu(e){let t=oe(e[1]);return t==="No active cooldown"?0:Math.ceil((Mu(t.slice(16))-dt)/1e3)}function Vu(e){let t=e[0].cells[0].children[0];return{base_id:Number(t.src.match(/s\/(\w+)\.p/)[1].slice(0,-32)),name:t.title}}function Nu(e){return{cooldown:Hu(e),creature:Vu(e),kills:Number(oe(e[0].cells[3]))}}function Gu(e){let t=oe(e[0].cells[1]);if(t!=="n/a"){let r=oe(e[0].cells[2]).split("/");return{realm:t,current_hp:Number(r[0]),max_hp:Number(r[1])}}}function Iu(e){let t=e[2].cells[0].children;if(t.length===1)return{contributors:Ca(t[0].rows,3,0).map(o=>({kills:Number(oe(o.cells[1])),player:{name:oe(o.cells[0])}}))}}function $u(e){return{...Nu(e),...Gu(e),...Iu(e)}}function Ru(e){let t=U(e),r=ye('table[width="500"]',t);if(!r)return{s:!1};let o=ht(r.rows).filter((f,m,N)=>m!==0&&m<N.length-1&&(m-1)%6<3);return{r:Ma(3,o).map($u),s:!0}}function Vo(){return ne({cmd:"guild",subcmd:"scouttower"}).then(Ru)}function No(){return xe(Ho,Vo)}function Pu(e,[t,r,o]){let l=e.insertCell(-1);return l.colSpan=t,o&&(l.className="header"),a(l,r),l}function Fu(e,t){t.forEach(u(Pu,e))}function _u(e,t,r){let o=e.insertRow(-1);return r&&(o.className="fshBlue"),Fu(o,t),o}function Ou(e,t){_u(e,t[0],t[1])}function Ze(e,t){t.forEach(u(Ou,e))}var Go;function Ii(e){Go=e}var Io,$o,Ro,Po,Fo,_o,Oo,Ko;function Ku(){Io=D("Current"),$o=D("Kills"),Ro=D("Member"),Po=D("% of Total")}function qu(){Fo=D("Status"),_o=D("Titan HP"),Oo=D("Total"),Ko=D("Your Guild")}function $i(){Ku(),qu()}var Me,He,Ve,Ne,Ge,Ie,$e,Re,Pe;function Wu(){Me=d({innerHTML:"&nbsp;"}),He=d({innerHTML:"&nbsp;"}),Ve=d(),Ne=d()}function Uu(){Ge=d(),Ie=d(),$e=d(),Re=d(),Pe=d()}function Ri(){Wu(),Uu()}function Pi(){w("&nbsp;",Me),w("&nbsp;",He),s("",Ve),s("",Ne),s("",Ge),s("",Ie),s("",$e),w("",Re),w("",Pe)}var Z;function Ot(){for(;Z.rows.length>8;)Z.deleteRow(8)}function zu(){let e=d();return a(e,Ve),R(e,"/"),a(e,Ne),e}function Fi(e){let t=d();return a(t,e),R(t,"%"),t}function _i(){Z=aa({className:"fshCenter"}),$i(),Ze(Z,[[[[5,Me,!0],[1,He,!0]]],[[[2,_o,!0],[4,Ko,!0]]],[[[2,zu()],[4,Ge]]],[[[2,Io,!0],[4,Fi(Ie)]],!0],[[[2,Oo,!0],[4,Fi($e)]],!0],[[[2,Fo,!0],[4,Re]],!0],[[[6,Pe]]],[[[2,Ro,!0],[2,$o,!0],[2,Po,!0]]]])}var ee,Kt,qo;function Wo(){Kt=null,ee&&!Oe("fshHide",ee)&&(h(ee,!0),Pi(),Ot())}function Oi(e){return e.type===0?(Kt=e.base_creature_id,qo=`(${e.x},${e.y})`,!0):!1}function Ki(){if(ee)h(ee,!1);else{let e=i("actionContainer");ee=c({className:"fshActionBox titanInfo"}),Ri(),_i(),a(ee,Z),a(e,ee)}}function ju(e){let t=new Date(dt+e*1e3);return`${St(t.getHours())}:${St(t.getMinutes())} ${St(t.getDate())}/${st[t.getMonth()]}/${t.getFullYear()}`}function Qu(e){return e<=0?'<span class="fshGreen cooldown">No active cooldown</span>':`<span class="fshMaroon cooldown">Cooldown until: ${ju(e)}</span>`}function Yu(e){return bt(Ra(e.max_hp-e.current_hp,e.kills),2)}function Ju(e){return bt(e.kills*100/e.max_hp,2)}function Xu(e){return Pa(e.kills,e.max_hp,e.current_hp)}function Zu(e){e.forEach(([t,r])=>{s(t,r)})}function em(e){Zu([[e.creature.name.replace(" (Titan)",""),Me],[qo,He],[e.current_hp,Ve],[e.max_hp,Ne],[e.kills,Ge],[Yu(e),Ie],[Ju(e),$e]]),w(Xu(e),Re),w(Qu(e.cooldown),Pe)}function tm(e,t){return[[[2,D(t.player.name)],[2,D(t.kills.toString())],[2,D(`${bt(t.kills*100/e.kills,2)}%`)]]]}function rm(e){if(Ot(),!e.contributors)return;let t=e.contributors.map(u(tm,e));Ze(Z,t)}function om(e){return e.realm&&e.creature.base_id===Kt&&e.realm===Go}function Uo(e){let t=e.find(om);t&&(em(t),rm(t))}var qt;function nm(){qt&&(window.clearTimeout(qt),qt=null)}function am(e){return e&&e.s&&I(e.r)}function qi(e){return n.showTitanInfo&&I(e)&&e.some(Oi)}function im(e,t){!am(t)||(Uo(t.r),qi(GameData.realm().dynamic)?qt=window.setTimeout(e,3e4):Wo())}function Wi(){No().then(u(im,Wi))}function Ui(e){nm(),qi(e)?(Ki(),Wi()):Wo()}function zi(e){e.dynamic&&(Ii(e.name),Ui(e.dynamic))}function ji(){n.showTitanInfo=!n.showTitanInfo,y("showTitanInfo",n.showTitanInfo),Ui(GameData.realm().dynamic)}function lm(e){return e.realm&&e.realm.name}function Qi(e,t){lm(t)&&zi(t.realm)}function zo(){window.initialGameData&&Qi(null,window.initialGameData),$.subscribe(`${$n} ${Fn}`,Qi)}var jo;function Yi(e){$("#statbar-gold").css("background-color",e)}function Ji(){$("#HelperSendTotal").html(z(g("currentGoldSentTotal"))),Number(GameData.player().gold)>jo?Yi("red"):Yi("inherit")}function sm(){return`<dt class="stat-gold-sendTo">Send To:</dt><dd id="HelperSendTo">${g("goldRecipient")}</dd><dt class="stat-gold-sendAmt">Amount:</dt><dd id="HelperSendAmt">${z(jo)}</dd><dt class="stat-gold-sendTo">Send?</dt><dd><input id="HelperSendGold" value="Send!" class="custombutton" type="submit"><input type="hidden" id="xc" value=""</dd><dt class="stat-gold-sendTotal">Total Sent:</dt><dd id="HelperSendTotal">${z(g("currentGoldSentTotal"))}</dd>`}function fm(){jo=g("goldAmount"),$("#statbar-gold-tooltip-general").append(sm()),$("#HelperSendGold").on("click",Sa),Ji(),$.subscribe(Vn,Ji)}function Qo(){Aa(),Ba&&fm()}var et,tt,Wt,Fe,Yo,Jo,Ut;function um(){return Ye({a:14,d:0,id:et.id,item_id:et.itemId})}function mm(e){let t=e.response.response,r=e.response.msg,o;if(t!==0){let l=r.indexOf("<");l!==-1?o=r.substring(0,l):o=r}else o=`You purchased ${e.response.data.name} for ${z(e.response.data.cost)} gold.`;re(Ut,`${o}<br>`)}function cm(){GameData.doAction(14,3,{id:et.id,item_id:et.itemId},0),Wt.close()}function pm(){let e=Ta(Yo.value);if(!e)return;let t=[];for(let r=1;r<e;r+=1)t.push(um().then(mm));Ct(t,cm)}function dm(){Fe=c({className:"fshClear",textContent:"Select how many to quick-buy:"}),Yo=kt({id:"buyAmount",className:"fshNumberInput",min:1,max:99,value:1,type:"number"}),a(Fe,Yo),Jo=j({textContent:"Quick-buy"}),C(Jo,pm),a(Fe,Jo),Ut=c(),a(Fe,Ut),a(tt,Fe)}function hm(){return tt||i("shopDialogConfirm")}function gm(){return Wt||$(tt).data("hcsWorldDialogShopConfirm")}function vm(){Fe?s("",Ut):dm()}function ym(e,t){et=t,tt=hm(),!!tt&&(Wt=gm(),Wt&&vm())}function Xo(){$.subscribe(Nn,ym)}function xm(e){let t=U(e),r=Va(t);return{r:{attributes:[{value:r.attack},{value:r.defense},{value:r.armor},{value:r.damage},{value:r.hp}]}}}function Zo(e){return ne({cmd:"guild",subcmd:"groups",subcmd2:"viewstats",group_id:e}).then(xm)}function en(e){return wa({subcmd2:"viewstats",group_id:e})}function tn(e){return xe(en,Zo,e)}function Xi(e){return e.numberOfCreatureHitsTillDead-e.numberOfHitsRequired<=1?", dies on miss":", survives a miss"}function Dm(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired>e.numberOfCreatureHitsTillDead}function km(e){return e.numberOfCreatureHitsTillDead==="-"?e.numberOfHitsRequired:Dm(e)?"-":e.numberOfHitsRequired}function wm(e){return e.numberOfCreatureHitsTillDead==="-"||e.numberOfCreatureHitsTillDead>e.numberOfHitsRequired}function Em(e){return e.numberOfHitsRequired==="-"?e.numberOfCreatureHitsTillDead:wm(e)?"-":e.numberOfCreatureHitsTillDead}var Cm=[[e=>e.playerHits==="-"&&e.creatureHits==="-",()=>"Unresolved"],[e=>e.playerHits==="-",()=>"Player dies"],[e=>e.playerHits===1,e=>`Player 1 hits${Xi(e)}`],[e=>e.playerHits>1,e=>`Player > 1 hits${Xi(e)}`]];function Bm(e,t){return t[0](e)}function Am(e){let t=Cm.find(u(Bm,e));return t?t[1](e):"Unknown"}function rn(e){e.playerHits=km(e),e.creatureHits=Em(e),e.fightStatus=Am(e)}function Sm(e){return e.callback.groupExists?e.callback.groupArmorValue:e.player.armorValue}function bm(e){let t=Sm(e);e.overallArmorValue=t+Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}function Lm(e){e.player.sanctuaryLevel>0&&(e.extraNotes+=`Sanc Bonus Armor = ${Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}<br>`)}function Tm(e){e.terrorizeEffect=Math.floor(e.creature.damage*e.player.terrorizeLevel*.001)}function Mm(e){e.player.terrorizeLevel>0&&(e.extraNotes+=`Terrorize Creature Damage Effect = ${e.terrorizeEffect*-1}<br>`)}function Hm(e){e.creatureDamageDone=Math.ceil(e.generalVariable*e.creature.damage-e.overallArmorValue+e.overallHPValue)}function Vm(e){let t=e.generalVariable*e.creature.damage;t<e.overallArmorValue?e.numberOfCreatureHitsTillDead=e.overallHPValue:e.numberOfCreatureHitsTillDead=Math.ceil(e.overallHPValue/(t-e.overallArmorValue))}function Nm(e){e.creatureHitByHowMuch>=0?Vm(e):e.numberOfCreatureHitsTillDead="-"}function on(e){bm(e),Lm(e),Tm(e),Mm(e),e.creature.damage-=e.terrorizeEffect,Hm(e),Nm(e)}function Gm(e){return e.callback.groupExists?e.callback.groupAttackValue:e.player.attackValue}function Zi(e){return Math.floor(e.creature.defense*e.player.darkCurseLevel*ct)}function Im(e){let t=e.creature.defense-Zi(e);return e.combatEvaluatorBias===3?e.overallAttackValue-Math.ceil(t)-50:e.overallAttackValue-Math.ceil(e.attackVariable*t)}function nn(e){let t=Gm(e);e.player.darkCurseLevel>0&&(e.extraNotes+=`DC Bonus Attack = ${Zi(e)}<br>`),e.nightmareVisageAttackMovedToDefense=Math.floor((t+e.counterAttackBonusAttack)*e.player.nightmareVisageLevel*.0025),e.player.nightmareVisageLevel>0&&(e.extraNotes+=`NMV Attack moved to Defense = ${e.nightmareVisageAttackMovedToDefense}<br>`),e.overallAttackValue=t+e.counterAttackBonusAttack-e.nightmareVisageAttackMovedToDefense,e.hitByHowMuch=Im(e)}function $m(e){return e.player.counterAttackLevel>0&&e.numberOfHitsRequired===1}function el(e){e.lowestCALevelToStillHit=Math.max(Math.ceil((e.counterAttackBonusAttack-e.hitByHowMuch+1)/e.player.attackValue/.0025),0),e.lowestCALevelToStillKill=Math.max(Math.ceil((e.counterAttackBonusDamage-e.damageDone+1)/e.player.damageValue/.0025),0)}function Rm(e){return e.player.counterAttackLevel>0?Math.ceil((1+e.player.doublerLevel/50)*.0025*e.lowestFeasibleCALevel):0}function Pm(e){e.extraAttackAtLowestFeasibleCALevel=Math.floor(e.player.attackValue*.0025*e.lowestFeasibleCALevel),e.extraDamageAtLowestFeasibleCALevel=Math.floor(e.player.damageValue*.0025*e.lowestFeasibleCALevel),e.extraNotes+=`Extra CA Att/Dam at this lowered CA level = ${e.extraAttackAtLowestFeasibleCALevel} / ${e.extraDamageAtLowestFeasibleCALevel}<br>`}function Fm(e){el(e),e.lowestFeasibleCALevel=Math.max(e.lowestCALevelToStillHit,e.lowestCALevelToStillKill),e.extraNotes+=`Lowest CA to still 1-hit this creature = ${e.lowestFeasibleCALevel}<br>`,e.lowestFeasibleCALevel!==0&&Pm(e),e.extraStaminaPerHitAtLowestFeasibleCALevel=Rm(e),e.extraStaminaPerHitAtLowestFeasibleCALevel<e.extraStaminaPerHit?e.extraNotes+=`Extra Stam Used at this lowered CA level = ${e.extraStaminaPerHitAtLowestFeasibleCALevel}<br>`:e.extraNotes+="No reduction of stam used at the lower CA level<br>"}function _m(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired!==1}function Om(e){e.lowestCALevelToStillHit>175?e.extraNotes+="Even with CA175 you cannot hit this creature<br>":e.lowestCALevelToStillHit!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillHit} to hit this creature<br>`)}function Km(e){e.lowestCALevelToStillKill>175?e.extraNotes+="Even with CA175 you cannot 1-hit kill this creature<br>":e.lowestCALevelToStillKill!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillKill} to 1-hit kill this creature<br>`)}function qm(e){el(e),Om(e),Km(e)}function an(e){$m(e)&&Fm(e),_m(e)&&qm(e)}function Wm(e){return e.callback.groupExists?e.callback.groupHPValue:e.player.hpValue}function Um(e){return e.callback.groupExists?e.callback.groupDamageValue:e.player.damageValue}function zm(e){let t=Wm(e),{fortitudeLevel:r}=e.player;e.fortitudeExtraHPs=Math.floor(t*r*.001),r>0&&(e.extraNotes+=`Fortitude Bonus HP = ${e.fortitudeExtraHPs}<br>`),e.overallHPValue=t+e.fortitudeExtraHPs}function jm(e){let{chiStrikeLevel:t}=e.player;e.chiStrikeExtraDamage=Math.floor(e.overallHPValue*t*.001),t>0&&(e.extraNotes+=`Chi Strike Bonus Damage = ${e.chiStrikeExtraDamage}<br>`)}function ln(e){zm(e),jm(e);let t=Um(e);if(e.overallDamageValue=t+e.deathDealerBonusDamage+e.counterAttackBonusDamage+e.holyFlameBonusDamage+e.chiStrikeExtraDamage,e.damageDone=Math.floor(e.overallDamageValue-(e.generalVariable*e.creature.armor+e.hpVariable*e.creature.hp)),e.hitByHowMuch>0){let r=1;e.overallDamageValue>=e.generalVariable*e.creature.armor&&(r=e.overallDamageValue-e.generalVariable*e.creature.armor),e.numberOfHitsRequired=Math.ceil(e.hpVariable*e.creature.hp/r)}else e.numberOfHitsRequired="-"}function sn(e){return e.callback.groupExists?e.callback.groupDefenseValue:e.player.defenseValue}function Qm(e){e.player.constitutionLevel>0&&(e.extraNotes+=`Constitution Bonus Defense = ${Math.floor(sn(e)*e.player.constitutionLevel*.001)}<br>`)}function Ym(e){e.player.flinchLevel>0&&(e.extraNotes+=`Flinch Bonus Attack Reduction = ${Math.floor(e.creature.attack*e.player.flinchLevel*.001)}<br>`)}function fn(e){e.overallDefenseValue=sn(e)+Math.floor(sn(e)*e.player.constitutionLevel*.001)+e.nightmareVisageAttackMovedToDefense,Qm(e),Ym(e),e.creatureHitByHowMuch=Math.floor(e.attackVariable*e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue),e.combatEvaluatorBias===3&&(e.creatureHitByHowMuch=Math.floor(e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue-50))}function Jm(e){e.player.superEliteSlayerLevel>0&&(e.extraNotes+=`SES Stat Reduction Multiplier = ${e.player.superEliteSlayerMultiplier}<br>`)}function Xm(e){e.holyFlameBonusDamage=0,e.creature.class==="Undead"&&(e.holyFlameBonusDamage=Math.max(Math.floor((e.player.damageValue-e.creature.armor)*e.player.holyFlameLevel*.002),0),e.player.holyFlameLevel>0&&(e.extraNotes+=`HF Bonus Damage = ${e.holyFlameBonusDamage}<br>`))}function Zm(e){e.deathDealerBonusDamage=Math.floor(e.player.damageValue*(Math.min(Math.floor(e.player.killStreakValue/5)*.01*e.player.deathDealerLevel,20)/100))}function ec(e){e.counterAttackBonusAttack=Math.floor(e.player.attackValue*.0025*e.player.counterAttackLevel),e.counterAttackBonusDamage=Math.floor(e.player.damageValue*.0025*e.player.counterAttackLevel)}function tc(e){e.extraStaminaPerHit=0,e.player.counterAttackLevel>0&&(e.extraStaminaPerHit=Math.ceil((1+e.player.doublerLevel/50)*.0025*e.player.counterAttackLevel))}function rc(e){e.player.deathDealerLevel>0&&(e.extraNotes+=`DD Bonus Damage = ${e.deathDealerBonusDamage}<br>`)}function oc(e){e.player.counterAttackLevel>0&&(e.extraNotes+=`CA Bonus Attack/Damage = ${e.counterAttackBonusAttack} / ${e.counterAttackBonusDamage}<br>CA Extra Stam Used = ${e.extraStaminaPerHit}<br>`)}function un(e){e.extraNotes="",Jm(e),Xm(e),Zm(e),ec(e),tc(e),rc(e),oc(e)}function nc(e){return e.callback.groupExists?"Group ":""}function ac(e){return`<tr><td bgcolor="#CD9E4B" colspan="4" align="center">${nc(e)}Combat Evaluation</td></tr>`}function ic(e){return e.hitByHowMuch>0?"Yes":"No"}function lc(e){return`<tr><td align="right"><span style="color:#333333">Will I hit it? </td><td align="left">${ic(e)}</td><td align="right"><span style="color:#333333">Extra Attack: </td><td align="left">( ${e.hitByHowMuch} )</td></tr>`}function sc(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill it? </td><td align="left">${e.numberOfHitsRequired}</td><td align="right"><span style="color:#333333">Extra Damage: </td><td align="left">( ${e.damageDone} )</td></tr>`}function fc(e){return e.creatureHitByHowMuch>=0?"Yes":"No"}function uc(e){return`<tr><td align="right"><span style="color:#333333">Will I be hit? </td><td align="left">${fc(e)}</td><td align="right"><span style="color:#333333">Extra Defense: </td><td align="left">( ${-1*e.creatureHitByHowMuch} )</td></tr>`}function mc(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill me? </td><td align="left">${e.numberOfCreatureHitsTillDead}</td><td align="right"><span style="color:#333333">Extra Armor + HP: </td><td align="left">( ${-1*e.creatureDamageDone} )</td></tr>`}function cc(e){return`<tr><td align="right"><span style="color:#333333"># Player Hits? </td><td align="left">${e.playerHits}</td><td align="right"><span style="color:#333333"># Creature Hits? </td><td align="left">${e.creatureHits}</td></tr>`}function pc(e){return`<tr><td align="right"><span style="color:#333333">Fight Status: </span></td><td align="left" colspan="3"><span>${e.fightStatus}</span></td></tr>`}function dc(e){return`<tr><td align="right"><span style="color:#333333">Notes: </span></td><td align="left" colspan="3"><span style="font-size:x-small;">${e.extraNotes}</span></td></tr>`}function mn(e){return`<table width="100%"><tbody>${ac(e)}${lc(e)}${sc(e)}${uc(e)}${mc(e)}${cc(e)}${pc(e)}${dc(e)}</tbody></table>`}var zt,jt,rt;function hc(e){if(!zt){let t=ve("body",e);t.length===1&&([zt]=t)}}function tl(){return me(jt)?"Remove from do not kill list":"Add to the do not kill list"}function rl(){s(tl(),rt)}function gc(){let e=n.doNotKillList.indexOf(jt);e===-1?n.doNotKillList.push(jt):n.doNotKillList.splice(e,1),rl(),y("doNotKillList",n.doNotKillList.join()),Ce()}function vc(){rt=j({className:"fshBl",textContent:tl(),type:"button"});let e=c({className:"description",innerHTML:'<span class="ui-helper-hidden-accessible"><input type="text"></span>'});a(e,rt),a(zt,e),C(rt,gc)}function yc(){rt?rl():vc()}function cn(e,t){hc(t),zt&&(jt=ge(e),yc())}var _e,ot,Qt,Yt;function xc(){_e||(_e=i("dialog-viewcreature"))}function Dc(){ot||(ot=c(),a(_e,ot),a(_e,c({innerHTML:'<span class="fshFooter">*Does include CA, DD, HF, DC, Flinch, Super Elite Slayer, NMV, Sanctuary, Constitution, Fortitude, Chi Strike and Terrorize (if active) and allow for randomness (1.1053). Constitution, NMV, Fortitude and Chi Strike apply to group stats.</span>'})))}function ol(){Qt||(Dc(),Qt=c(),a(ot,Qt))}function kc(){Yt||(ol(),Yt=c(),a(ot,Yt))}function nl(e){ol(),w(e,Qt)}function al(e){kc(),w(e,Yt)}function wc(e,t,r){r===3&&(t.attack-=Math.ceil(t.attack*e),t.defense-=Math.ceil(t.defense*e),t.armor-=Math.ceil(t.armor*e),t.damage-=Math.ceil(t.damage*e),t.hp-=Math.ceil(t.hp*e))}function Ec(e,t){let r={name:e.name,class:e.creature_class,attack:Number(e.attack),defense:Number(e.defense),armor:Number(e.armor),damage:Number(e.damage),hp:Number(e.hp)};return wc(t,r,e.type),r}function Cc(e){e.combatEvaluatorBias=n.combatEvaluatorBias,e.attackVariable=1.1053,e.generalVariable=n.generalVariable,e.hpVariable=n.hpVariable}function Bc(e){un(e),nn(e),ln(e),fn(e),on(e),rn(e),an(e)}function il(e,t,r){let o={};o.callback=r,o.player=be(t),Cc(o),o.creature=Ec(e.response.data,o.player.superEliteSlayerMultiplier),Bc(o),o.evaluatorHTML=mn(o),r.groupExists?al(o.evaluatorHTML):nl(o.evaluatorHTML)}function Ac(e){return e.members[0].name===Dt()}function Sc(e){if(I(e.r))return e.r.find(Ac).id}function bc(e,t,r){if(!r.r||!r.r.attributes)return;let o=r.r.attributes;il(e,t,{groupExists:!0,groupAttackValue:o[0].value,groupDefenseValue:o[1].value,groupArmorValue:o[2].value,groupDamageValue:o[3].value,groupHPValue:o[4].value})}function Lc(e,t,r){r&&tn(r).then(u(bc,e,t))}function Tc(e,t){Ea().then(Sc).then(u(Lc,e,t))}function Mc(e,t){e.player.hasGroup&&Tc(e,t),il(e,t,{groupExists:!1})}function Hc(e){return e.response&&e.response.data}function Vc(e,t){xc(),!!_e&&(nl(""),al(""),Hc(t)&&(cn(t.response.data.name,_e),ma(!0).then(u(Mc,t))))}function pn(){$.subscribe(Rn,Vc)}var Jt,dn;function Xt(){let e=[null,[n.buffs,n.buffsName],[n.buffs2,n.buffs2Name],[n.buffs3,n.buffs3Name]][n.enabledHuntingMode];I(e)&&([Jt,dn]=e)}function hn(e){e.target.name==="enabledHuntingMode"&&(n.enabledHuntingMode=e.target.value,y("enabledHuntingMode",n.enabledHuntingMode),Xt(),GameData.fetch(q))}var nt;function ll(){nt=!nt,y("hidePlayerActions",nt),GameData.fetch(L)}function Nc(e){let t=ve("verbs",e);t.length===1&&wt(t[0])}function sl(){if(!nt)return;let e=i("actionList");vt("player",e).forEach(Nc)}function fl(){nt=g("hidePlayerActions"),$.subscribe(he,sl),sl()}function gn(){n.showCreatureInfo=!n.showCreatureInfo,y("showCreatureInfo",n.showCreatureInfo)}function vn(){n.showBuffs=!n.showBuffs,y("showHuntingBuffs",n.showBuffs),GameData.fetch(q)}function yn(){n.showMonsterLog=!n.showMonsterLog,y("showMonsterLog",n.showMonsterLog)}function xn(){n.hideSubLvlCreature=!n.hideSubLvlCreature,y("hideSubLvlCreature",n.hideSubLvlCreature),GameData.fetch(L)}function Gc(){return c({id:"fshWorldPrefs",innerHTML:`${ae("showCreatureInfo")}&nbsp;&nbsp;${ae("showMonsterLog")}&nbsp;&nbsp;${ae("showTitanInfo")}&nbsp;&nbsp;${ae("showBuffInfo")}<br>${ae("hideSubLvlCreature")}&nbsp;&nbsp;${ae("hidePlayerActions")}&nbsp;&nbsp;${Ka()}`})}var Ic={hideSubLvlCreature:xn,hidePlayerActions:ll,showCreatureInfo:gn,showHuntingBuffs:vn,showMonsterLog:yn,showTitanInfo:ji,showBuffInfo:Qa};function $c(e){let t=Ic[e.target.name];pt(t)&&(e.target.blur(),t(e))}function Dn(){let e=c({className:"fshCenter fshFten"}),t=Gc();C(t,$c),G(t,"change",hn),a(e,t);let r=c();a(e,r);let o=i("worldContainerBelow").children[0];return Et(e,o),r}function Rc(e,t){return e[t.name]=!0,e}function Pc(e,t,r){return e[ge(r)]||t.push(r),t}function Fc(e,t){w(`You are missing some ${dn} hunting buffs<br>(${t.join(", ")})`,e)}function ul(e){w("",e)}function _c(e,t){let r=t.b.reduce(Rc,{}),o=Jt.reduce(u(Pc,r),[]);o.length>0?Fc(e,o):ul(e)}function Oc(e,t,r){n.showBuffs?_c(e,r):ul(e)}function Kc(e,t,r){Jt&&Oc(e,t,r)}function kn(e){Xt();let t=u(Kc,e);$.subscribe(ft,t),n.showBuffs&&window.initialGameData&&t(null,{b:window.initialGameData.player.buffs})}var Zt=[{generalVariable:1.1053,hpVariable:1.1},{generalVariable:1.1,hpVariable:1.053},{generalVariable:1.053,hpVariable:1},{generalVariable:1.1053,hpVariable:1}];function qc(e){return Zt[e]?Zt[e].generalVariable:1.1053}function Wc(e){return Zt[e]?Zt[e].hpVariable:1.1}function wn(){n.combatEvaluatorBias=g("combatEvaluatorBias"),n.generalVariable=qc(n.combatEvaluatorBias),n.hpVariable=Wc(n.combatEvaluatorBias)}function Uc(e){return!e||!e.actions||e.actions.length===0}function zc(e,t){return t.type===6?t.data.creature_type!==0||t.data.level>=e:!0}function jc(e){return e.realm&&e.realm.minlevel||GameData.realm().minlevel}function Qc(e){let t=Qn(e);return Uc(t)?e:(t.actions=t.actions.filter(u(zc,jc(t))),JSON.stringify(t))}function Yc(e){return e.data&&e.data.d&&$a(e.data.d,L)}function Jc(e,t){n.hideSubLvlCreature&&Yc(t)&&(e.dataFilter=Qc)}function En(){$.ajaxPrefilter("JSON",Jc),n.hideSubLvlCreature&&GameData.fetch(L)}function Xc(e){n[e[0]]=sr(e[1])}function Zc(){[["buffs","huntingBuffs"],["buffs2","huntingBuffs2"],["buffs3","huntingBuffs3"]].forEach(Xc)}function ep(e){n[e]=sr(e)}function tp(){["doNotKillList"].forEach(ep)}function rp(){Zc(),tp()}function op(e){n[e[0]]=g(e[1])}function np(){[["buffsName","huntingBuffsName"],["buffs2Name","huntingBuffs2Name"],["buffs3Name","huntingBuffs3Name"],["showBuffs","showHuntingBuffs"]].forEach(op)}function ap(e){n[e]=g(e)}function ip(){["enabledHuntingMode","hideSubLvlCreature","showTitanInfo","showBuffInfo","showMonsterLog","showCreatureInfo"].forEach(ap)}function lp(){np(),ip()}function sp(){rp(),lp()}function Cn(){wn(),sp();let e=Dn();En(),kn(e),fl()}function ml(e){$(`#actionList li.creature-${e.toString()} a.create-group`).hide()}function fp(e){$.subscribe(he,u(ml,e))}var up=["hideChampionsGroup","hideElitesGroup","hideSEGroup","hideTitanGroup","hideLegendaryGroup"];function mp(e,t){g(e)&&(fp(t+1),ml(t+1))}function cp(){up.forEach(mp)}function pp(){a(document.body,Ia(`#actionList .creature-1 {color: green;}
#actionList .creature-2 {color: yellow;}
#actionList .creature-3 {color: red;}`))}function dp(){g("enableCreatureColoring")&&pp()}function hp(e,t){t==="ACT_REPAIR"&&GameData.fetch(On+q+mt+L)}function gp(){$.subscribe(Gn,hp)}function vp(){$("#messageCenter").worldMessageCenter({offset:"0 60"})}function yp(){Ke("#mapTooltip")}function xp(e){Ke(e.target)}function Dp(){C(i("buffList"),xp)}var kp=[Cn,Qo,pn,cp,dp,_r,Mo,gp,Pr,zo,Xo,Eo,vp,yp,Nr,ja,Dp,To,$r,Ur];function wp(){Fa(kp),n.userIsDev&&zr()}export{wp as default};
//# sourceMappingURL=newMap-5HT63HI3.js.map
