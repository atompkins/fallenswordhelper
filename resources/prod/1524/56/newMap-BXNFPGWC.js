import{a as $a,b as Ra}from"./chunk-4PT7DOGZ.js";import{a as Pa}from"./chunk-GQPX5RCZ.js";import"./chunk-E5XELBBG.js";import{a as Na}from"./chunk-PRQAWY2G.js";import{a as At}from"./chunk-PXVSWYL5.js";import{a as Ga,b as Ia}from"./chunk-WODUVKXA.js";import{a as Ta,b as Ha}from"./chunk-QNMH7R3V.js";import{a as Va}from"./chunk-RBSQXR5J.js";import{a as Ma}from"./chunk-XRVYPQNP.js";import{b as ba}from"./chunk-ZZHJIDB2.js";import{a as La}from"./chunk-KDNNF3DU.js";import"./chunk-DCYSFXXD.js";import{a as wa}from"./chunk-VZAMX3YQ.js";import{a as Ea,b as Ca}from"./chunk-2TUGOC4K.js";import{a as ka}from"./chunk-IU6UWEI6.js";import{a as xa}from"./chunk-OSJXD7I2.js";import"./chunk-KFNFQ7SB.js";import{a as sr}from"./chunk-HEFCR3Z7.js";import"./chunk-BACNOD3E.js";import{a as Da}from"./chunk-VBC2FB3X.js";import{a as fr}from"./chunk-WZK3FFCX.js";import{a as h}from"./chunk-M4IVCELV.js";import{a as St}from"./chunk-MWBJMPWS.js";import{a as ia}from"./chunk-ZFC7EXCL.js";import"./chunk-2PZ6NPNU.js";import{a as Bt}from"./chunk-LHCGWOGH.js";import"./chunk-CVACGNW6.js";import{a as va}from"./chunk-5FYKNJHI.js";import{a as ya}from"./chunk-URUN5HM6.js";import{a as lr}from"./chunk-BOYBHYC4.js";import"./chunk-POGZRGFB.js";import{A as Ct,C as da,O as ir,P as pa,T as ha,U as ga,a as Et,d as ua,e as ar,o as k,p as ie,q as le,r as ma,s as b,t as Ee,u as Ce,v as ca,y as S}from"./chunk-MA6BRZWF.js";import{a as Ba,b as Sa,c as Aa}from"./chunk-PFVEXA3T.js";import"./chunk-ABHTOBJO.js";import"./chunk-GYLYSP4O.js";import"./chunk-G7OP24LL.js";import{a as Xn}from"./chunk-25LWYZ4A.js";import"./chunk-WZ6HHOUF.js";import{a as ve,b as gt}from"./chunk-K6OJVQ6T.js";import{a as R}from"./chunk-ODZEMQE7.js";import{a as ea}from"./chunk-F3UWCNLS.js";import{a as kt}from"./chunk-GF4VDVSU.js";import"./chunk-IO33TKJV.js";import{a as aa}from"./chunk-PT6KTS5G.js";import{a as U}from"./chunk-RJ4OYB6J.js";import{a as xt,b as Dt}from"./chunk-6AYIUHMJ.js";import{a as ta}from"./chunk-EYR5TKC4.js";import"./chunk-VXPED75B.js";import{f as ae}from"./chunk-TQZYBVWE.js";import"./chunk-EITWCZQH.js";import{a as na}from"./chunk-PPWSFVIU.js";import{a as p}from"./chunk-U4LVETBA.js";import{a as j}from"./chunk-YYATCEH3.js";import{a as wt}from"./chunk-VVGRHNQC.js";import{a as ra}from"./chunk-5IONE3UD.js";import"./chunk-DBUR5TNY.js";import"./chunk-DZUNDM2W.js";import{a as Cn}from"./chunk-IRQPUWCD.js";import{a as Un}from"./chunk-MULMSX6F.js";import{a as dt,b as nr}from"./chunk-PRVNUO5J.js";import{a as ke}from"./chunk-EVK5QPY3.js";import"./chunk-5QL3EWJR.js";import{a as De}from"./chunk-KARVP4IF.js";import{a as Yn}from"./chunk-EQ6XPZXK.js";import{a as ye}from"./chunk-2AYZ6V4F.js";import{a as y}from"./chunk-ZQ6Q7AAO.js";import"./chunk-XBQPITPX.js";import{a as Zn}from"./chunk-2YS6YDGB.js";import{a as yt}from"./chunk-R5KKAUNY.js";import{a as vt}from"./chunk-U4IOE7YJ.js";import"./chunk-XIQH4POZ.js";import"./chunk-BUIH7NDX.js";import{a as Oe}from"./chunk-DY5FKVDV.js";import{a as oe}from"./chunk-AVPY2BTL.js";import{a as ge}from"./chunk-2FGL6JOK.js";import"./chunk-GJHRXFGS.js";import{a as re}from"./chunk-JZUIGPQK.js";import"./chunk-E7LHQKU5.js";import"./chunk-ACUTGVKN.js";import{a as s}from"./chunk-AFQMUQTQ.js";import{a as fa}from"./chunk-HMF5HIMF.js";import{a as zn}from"./chunk-YZHOKVTG.js";import{a as I}from"./chunk-GQNKRIQK.js";import{a as W}from"./chunk-KETFGQQM.js";import"./chunk-7PZO5YGA.js";import{a as ct}from"./chunk-IXP25ZKY.js";import{a as _e}from"./chunk-GRW7NX42.js";import{a}from"./chunk-6RYYSQKY.js";import{a as c}from"./chunk-OMKWEQGC.js";import"./chunk-NRM2IEBO.js";import"./chunk-B3EO4UAT.js";import"./chunk-IGSHOHVE.js";import{a as we}from"./chunk-FE2N6NBD.js";import{a as sa}from"./chunk-DNX7LBBK.js";import{a as la}from"./chunk-QAXNXWWI.js";import{a as z}from"./chunk-KHAKP3NJ.js";import{a as ne}from"./chunk-LJXKCPK7.js";import"./chunk-CDQY3GPS.js";import{a as oa}from"./chunk-E66CENYR.js";import"./chunk-7XYKFTOV.js";import{a as Jn}from"./chunk-EDPHPGYE.js";import{a as E}from"./chunk-6UGBR7LD.js";import{a as C}from"./chunk-BRACYM44.js";import{a as G}from"./chunk-HSGQLATB.js";import{a as xe}from"./chunk-ABHYZHAG.js";import"./chunk-JYV3Y4PK.js";import{a as i}from"./chunk-VYOJRJTP.js";import"./chunk-IZEIZGGY.js";import"./chunk-H4RRBTG7.js";import"./chunk-D4RSYPIY.js";import{a as ht}from"./chunk-4LICJMIC.js";import{a as Qn}from"./chunk-VLEL2DAI.js";import{a as pt}from"./chunk-SQ3ABL2K.js";import{a as jn}from"./chunk-S2PPJ2GD.js";import{b as g}from"./chunk-MIGTOE2L.js";import{a as n}from"./chunk-UYUWQQUH.js";import{a as Wn}from"./chunk-FMIILUE6.js";import{$ as Mn,Aa as On,Ba as Kn,Ca as qn,I as rr,L as Sn,La as mt,N as or,V as An,W as he,X as st,Y as bn,Z as Ln,_ as Tn,aa as Hn,ba as Vn,c as lt,ca as Nn,da as Gn,ea as ft,fa as In,ga as $n,ha as Rn,i as pe,ja as Pn,ka as q,la as ut,ma as T,n as tr,v as Bn,ya as Fn,za as _n}from"./chunk-XSTNX5IW.js";import{b as te}from"./chunk-UVCMQZY6.js";import{a as m}from"./chunk-NGIDL4MJ.js";var se;function sl(e){return e}function fl(e){return n.showBuffInfo&&e.some(sl)}function ul(){if(se)h(se,!1);else{se=c({className:"fshActionBox",innerHTML:"<div></div><div></div><div></div><div></div><div></div><div></div>"});let e=i("actionContainer");wa(se,e.children[2])}return se}function ml(){se&&h(se,!0)}function ur(e){if(fl(e))return ul();ml()}var P,mr;function cl(e){P=e.children[3],P.className="fshBlue",s("CA ",P),mr=p(),a(P,mr),R(P," active")}function dl(e,t){P?h(P,!1):cl(e),s(t.level,mr)}function pl(){P&&h(P,!0)}function cr(e,t){t?dl(e,t):pl()}var F,dr;function hl(e){F=e.children[4],F.className="fshRed",s("Doubler ",F),dr=p(),a(F,dr),R(F," active")}function gl(e,t){F?h(F,!1):hl(e),s(t.level,dr)}function vl(){F&&h(F,!0)}function pr(e,t){t?gl(e,t):vl()}var Q,hr;function yl(e){Q=e.children[2],s("Damage bonus: ",Q),hr=p(),a(Q,hr),R(Q,"%")}function xl(e,t){if(e){let r=Math.min(Math.round(Math.floor(t/5)*Number(e.level))*.01,20);return ve(r,2).toString()}return"0"}function Dl(e,t,r){Q?h(Q,!1):yl(e),s(xl(t,Number(r)),hr)}function kl(){Q&&h(Q,!0)}function gr(e,t,r){t?Dl(e,t,r):kl()}function d(e,t){s(U(e),t)}var fe,vr;function wl(e){fe=e.children[1],s("Kill Streak: ",fe),vr=p(),a(fe,vr)}function El(e,t){fe?h(fe,!1):wl(e),d(t,vr)}function Cl(){fe&&h(fe,!0)}function yr(e,t,r,o){t||r?El(e,o):Cl()}function Bl(e,t){return t.name===e}function Y(e){let{buffs:t}=GameData.player();if(t)return t.find(m(Bl,e))}function xr(){let e=GameData.player().teleportCooldown;return e>1&&e}var Sl=["red","orange","yellow"];function Dr(){let e=$("#actionlist-shield-imp");e.length===1&&e.css("background-color",Sl[e.text()]||"#ad8043")}var V,kr;function Al(e){Ra(e)&&GameData.fetch(q)}function bl(){Y("Summon Shield Imp")||$a([ye()],[55]).then(Al)}function Ll(e){return e?Number(e.stack):0}var Tl=["imp-0","imp-1","imp-1"];function Ml(e){return Tl[e]||"fshGreen"}function Hl(e){V=e.children[0],s("Shield Imps Remaining: ",V),kr=p(),a(V,kr),re(V,"&nbsp;");let t=p({className:"xSmallLink",textContent:"Recast"});a(V,t),C(t,bl)}function Vl(e,t){V?h(V,!1):Hl(e);let r=Ll(t);V.className=Ml(r),s(r,kr)}function Nl(){V&&h(V,!0)}function wr(e,t,r){t||r?Vl(e,t):Nl()}function Gl(e){return e.type===0}function Er(){let{dynamic:e}=GameData.realm();return I(e)&&e.some(Gl)}function D(e){return p({textContent:e})}var ue,bt,Fa;function Il(e,t){ue=e.children[5],s("Teleport Cooldown: ",ue),bt=D(t.toString()),a(ue,bt)}function $l(e,t){ue?h(ue,!1):Il(e,t)}function Rl(){ue&&h(ue,!0)}function _a(){let e=Math.max(Math.ceil((Fa-Date.now())/1e3),0);s(e,bt),e>0&&setTimeout(_a,500)}function Oa(e){bt&&(Fa=Date.now()+e*1e3,_a())}function Ka(e,t){t?$l(e,t):Rl()}var Ke,Cr,Br,Sr,Ar,br,Lr;function Pl(){Ke=Y("Death Dealer"),Cr=Y("Doubler"),Br=Y("Counter Attack"),Sr=Y("Summon Shield Imp"),Ar=xr(),br=Er(),Lr=GameData.player().killStreak}function Tr(){Dr(),Pl();let e=ur([Ke,Cr,Br,Sr,Ar,br]);e&&(wr(e,Sr,Ke),yr(e,Ke,br,Lr),gr(e,Ke,Lr),cr(e,Br),pr(e,Cr),Ka(e,Ar))}function Fl(e,t){Oa(t.player.teleportCooldown)}function qa(){Tr(),$.subscribe(`${st} ${bn}`,Tr),$.subscribe(Rn,Fl)}function Wa(){n.showBuffInfo=!n.showBuffInfo,y("showBuffInfo",n.showBuffInfo),Tr()}function _l(){return window.GameController&&GameController.Realm&&!GameController.Realm.footprintTileList}function Mr(){_l()&&(GameController.Realm.footprintTileList=[])}function Ua(e,t,r){return Zn({className:`fshCurveEle fshCurveLbl fshPoint tip-static ${e}`,dataset:{tipped:t},htmlFor:r})}function Lt(e){let t=c({className:"fshToggle"}),r=vt({checked:e.prefVal,id:e.checkId,type:"checkbox"});a(t,r);let o=Ua(e.onClass,e.onTip,e.checkId);a(t,o);let l=Ua(e.offClass,e.offTip,e.checkId);return a(t,l),a(e.worldName,t),r}var J,Tt,Mt,za,ja,Qa,Ya,Ja,Xa;function Ol(e){Oe(e),GameData.doAction(12,401,{},0)}function Kl(){ra(ye())}function ql(){window.open(`${Sn+tr}map`,"fsMap")}function Wl(){let e=GameData.realm();window.open(`${An}realms${tr}view&realm_id=${e.id}`,"mapUfsg")}function Ul(){y("playNewMessageSound",!g("playNewMessageSound"))}function zl(){n.huntingMode=!n.huntingMode,y("huntingMode",n.huntingMode)}function jl(){return c({className:"fshCurveContainer",id:"fshWorldButtonContainer"})}function Za(e){return e?e.toString():"?"}function Ql(){let e=c({textContent:"Min Lvl: "});return Tt=D(Za(GameData.realm().minlevel)),a(e,Tt),e}function Yl(){let e=c({textContent:"Your Lvl: "});return Mt=D(Za(GameData.player().level)),a(e,Mt),e}function Jl(e){let t=c({className:"fshFsty"});a(t,Ql()),a(t,Yl()),a(e,t)}function Ht(e,t,r){let o=j({className:`fshCurveEle fshCurveBtn fshPoint tip-static ${e}`,dataset:{tipped:t}});return a(r,o),o}function Xl(e){Jl(e),za=Ht("fshFormGroup","Quick Create Attack Group",e),ja=Ht("fshQuickBuff","Open Quick Buff Popup",e),Qa=Ht("fshRealmMap","Open Realm Map",e),Ya=Ht("fshTempleOne","Search map in Ultimate FSG",e)}function Zl(e){if(g("showSpeakerOnWorld")){let t=g("playNewMessageSound");Ja=Lt({prefVal:t,checkId:"fshSoundCheck",onClass:"soundOn",onTip:"Turn Off Sound when you have a new log message",offClass:"soundOff",offTip:"Turn On Sound when you have a new log message",worldName:e})}}function es(e){let t=n.huntingMode;Xa=Lt({prefVal:t,checkId:"fshHuntCheck",onClass:"huntOn",onTip:"Hunting mode is ON",offClass:"huntOff",offTip:"Hunting mode is OFF",worldName:e})}function ts(){Xl(J),Zl(J),es(J)}var rs=[[e=>e===Ja,Ul],[e=>e===Xa,zl]],os=[[e=>e===za,Ol],[e=>e===ja,Kl],[e=>e===Qa,ql],[e=>e===Ya,Wl]];function ns(){C(J,sr(os)),G(J,"change",sr(rs))}function as(){J||(J=jl(),ts(),ns(),yt(J,i("worldCoord")))}function is(e,t){Tt&&t.b.minlevel&&(Mr(),s(t.b.minlevel,Tt))}function ls(e,t){Mt&&s(t.b,Mt)}function Hr(){as(),$.subscribe(Vn,is),$.subscribe(Ln,ls)}var ss=["NORMAL","CHAMPION","ELITE","SUPER ELITE","TITAN","LEGENDARY"],Vt=!1;function Vr(e){return De(".verb.attack",e)}function Nr(e){let t=ss.indexOf(e.toUpperCase());return ht(`#actionList .actionListItem.creature.creature-${t}`)}function ei(e){let t=["LEGENDARY","NORMAL"].flatMap(Nr),r=Nr("CHAMPION"),[o,l]=e?[t,r]:[r,t],f=`url("${te}ui/world/icon_action_attack_`;o.map(Vr).filter(u=>u!==null).forEach(u=>{u.classList.remove("attack-1","attack-2","attack-3","attack-4","attack-5","attack-6","attack-7","attack-8"),u.style.backgroundImage=""}),l.slice(0,8).map(Vr).forEach((u,A)=>{u!==null&&(u.classList.add(`attack-${A+1}`),u.style.backgroundImage=`${f}${A+1}.png")`)})}function fs(e){if(!e.altKey||!e.shiftKey||e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||(Vt||ei(!0),Vt=!0,!e.code.match(/(Digit|Numpad)[1-8]/)))return;let t=Nr("CHAMPION"),r=parseInt(e.code.slice(-1),10)-1;if(r<t.length){let o=Vr(t[r]);o!==null&&(xe("world","ChampionAttack"),o.click())}}function us(e){Vt&&(!e.ctrlKey||!e.shiftKey)&&(Vt=!1,ei(!1))}function Gr(){let{body:e}=document;G(e,"keydown",fs),G(e,"keyup",us)}var ms=["Breaker","Protection","Master Thief","Protect Gold","Disarm","Duelist","Thievery","Master Blacksmith","Master Crafter","Fury Caster","Master Inventor","Sustain"],Ir=[],L;function cs(e){(e.id===54||e.id===26)&&(L.player.buffs[e.id]=parseInt(e.level,10))}function ds(e){ms.indexOf(e.name)===-1&&(L.player.enhancements[e.name]=e.value)}function ps(e){e.player.buffs&&e.player.buffs.forEach(cs)}function hs(e){e.player.enhancements&&e.player.enhancements.forEach(ds)}function gs(e,t){L={},L.combat=t.response.data,L.combat.inventory_id&&(L.combat.drop=L.combat.item.id),L.player={},L.player.buffs={},L.player.enhancements={},ps(t),hs(t),L.time=t.time,Ir.push(L),Dt("fsh_combatLog",Ir)}function vs(e,t){t.response.response===0&&gs(e,t)}function ys(e){e&&(Ir=e),$.subscribe(ft,vs)}function $r(){g("keepLogs")&&xt("fsh_combatLog").then(ys)}function me(e){return n.doNotKillList.includes(ge(e))}function xs(e){e.classList.toggle("fshBlue",me(jn(e)))}function Be(){let e=i("actionList");St("creature",e).forEach(xs)}function Ds(e,t){if(me(e))return i("actionList").children[t].children[0].children[1].classList.remove("loading"),!0}function ks(e){let t=GameData.actions()[e];if(t)return Ds(t.data.name,e)}function ws(e){return function(r,o,l,f){ks(l.passback)||e(r,o,l,f)}}var Es={2:ws};function Cs(e){return Wn(e)||e===0}function Bs(e){return e&&ct(e)}function Ss(e){return function(r,o,l,f){let u=Es[r];Bs(u)&&Cs(f)?u(e)(r,o,l,f):e(r,o,l,f)}}function Rr(){let e=GameData.doAction;GameData.doAction=Ss(e)}function Pr(){$.subscribe(he,Be),Be(),Rr()}function ti(e){e[1]=e[2].r.list}function ri(e,t,r){let o=e.slice();return o[3]=t[r],o[5]=r,o}function As(e){let t,r=e[6].message+"",o;return{c(){t=b("p"),o=Ee(r),da(t,"color","red")},m(l,f){ie(l,t,f),k(t,o)},p(l,f){f&1&&r!==(r=l[6].message+"")&&Ct(o,r)},d(l){l&&le(t)}}}function bs(e){ti(e);let t,r,o,l=e[1],f=[];for(let u=0;u<l.length;u+=1)f[u]=ni(ri(e,l,u));return{c(){t=b("table"),r=b("tr"),r.innerHTML=`<td class="header"></td> 
      <td class="header"></td> 
      <td class="header">Username</td> 
      <td class="header">Kills</td>`,o=Ce();for(let u=0;u<f.length;u+=1)f[u].c();S(r,"class","svelte-1p6satm"),S(t,"id","world-event-contrib-table"),S(t,"class","svelte-1p6satm")},m(u,A){ie(u,t,A),k(t,r),k(t,o);for(let x=0;x<f.length;x+=1)f[x].m(t,null)},p(u,A){if(ti(u),A&1){l=u[1];let x;for(x=0;x<l.length;x+=1){let K=ri(u,l,x);f[x]?f[x].p(K,A):(f[x]=ni(K),f[x].c(),f[x].m(t,null))}for(;x<f.length;x+=1)f[x].d(1);f.length=l.length}},d(u){u&&le(t),ma(f,u)}}}function oi(e){let t,r,o,l;return{c(){t=b("a"),r=b("img"),ar(r.src,o=""+(te+"guilds/"+e[3].guild.id+"_mini.png"))||S(r,"src",o),S(r,"alt","guild logo"),S(r,"class","svelte-1p6satm"),S(t,"href",l=""+(rr+e[3].guild.id))},m(f,u){ie(f,t,u),k(t,r)},p(f,u){u&1&&!ar(r.src,o=""+(te+"guilds/"+f[3].guild.id+"_mini.png"))&&S(r,"src",o),u&1&&l!==(l=""+(rr+f[3].guild.id))&&S(t,"href",l)},d(f){f&&le(t)}}}function ni(e){let t,r,o=e[5]+1+"",l,f,u,A,x,K,nt=e[3].player.name+"",Xt,at,wn,Zt,it=e[3].value+"",er,En,w=e[3].guild&&oi(e);return{c(){t=b("tr"),r=b("td"),l=Ee(o),f=Ce(),u=b("td"),w&&w.c(),A=Ce(),x=b("td"),K=b("a"),Xt=Ee(nt),wn=Ce(),Zt=b("td"),er=Ee(it),En=Ce(),S(K,"href",at=""+(or+e[3].player.name)),S(t,"class","svelte-1p6satm")},m(H,de){ie(H,t,de),k(t,r),k(r,l),k(t,f),k(t,u),w&&w.m(u,null),k(t,A),k(t,x),k(x,K),k(K,Xt),k(t,wn),k(t,Zt),k(Zt,er),k(t,En)},p(H,de){H[3].guild?w?w.p(H,de):(w=oi(H),w.c(),w.m(u,null)):w&&(w.d(1),w=null),de&1&&nt!==(nt=H[3].player.name+"")&&Ct(Xt,nt),de&1&&at!==(at=""+(or+H[3].player.name))&&S(K,"href",at),de&1&&it!==(it=H[3].value+"")&&Ct(er,it)},d(H){H&&le(t),w&&w.d()}}}function Ls(e){let t;return{c(){t=Ee("Loading...")},m(r,o){ie(r,t,o)},p:Et,d(r){r&&le(t)}}}function Ts(e){let t,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:Ls,then:bs,catch:As,value:2,error:6};return ir(r=e[0],o),{c(){t=ca(),o.block.c()},m(l,f){ie(l,t,f),o.block.m(l,o.anchor=f),o.mount=()=>t.parentNode,o.anchor=t},p(l,[f]){e=l,o.ctx=e,f&1&&r!==(r=e[0])&&ir(r,o)||pa(o,e,f)},i:Et,o:Et,d(l){l&&le(t),o.block.d(l),o.token=null,o=null}}}function Ms(e,t,r){let{promise:o}=t;return e.$$set=l=>{"promise"in l&&r(0,o=l.promise)},[o]}var ai=class extends ga{constructor(t){super();ha(this,t,Ms,Ts,ua,{promise:0})}},ii=ai;function Fr(e){return sa({cmd:"toprated",subcmd:e})}var Hs=({username:e,value:t})=>({player:{name:e},value:t});async function _r(e){if(e==="globalquest")return{r:{list:(await fa({cmd:"toprated",subcmd:"eventcontrib"})).map(Hs)}}}function Or(e){return we(Fr,_r,e)}var Kr,li=()=>({promise:Or("globalquest")});function Vs(e){Kr?Kr.$set(li()):Kr=new ii({props:li(),target:e})}function Ns(){let e=i("world-event-contrib");Vs(e),$(e).dialog({title:"Top 100 Event Contributers",minWidth:300,height:300,zIndex:9999})}function qr(){let e=$("#world-event-badge");!e.length||(e.off(),C(e[0],Ns))}function Gs(e){return e.response&&e.response.msg&&e.response.msg.startsWith("Creature did not exist at that location")}function Is(e){Gs(e)&&GameData.fetch(ut+T)}function $s(e){e.remove()}function Rs(e,t){Is(t),ht(".creature-4 > .quickCombat > .verbs").forEach($s)}function Wr(){$.subscribe(ft,Rs)}function _(e){return!e||!e.response||!e.response.data}var si='<table class="relicT relicS"><thead><tr><th colspan="2">Adjusted defense values</th></tr></thead><tbody><tr><td>DC225:</td><td id="DC225">0</td></tr><tr><td>DC175:</td><td id="DC175">0</td></tr><tr><td colspan="2">&nbsp;</td></tr></tbody><thead><tr><th colspan="2">Attacking Group Stats</th></tr></thead><tbody><tr><td>Raw Group Attack:</td><td class="fshGrey" id="GroupAttack"></td></tr><tr><td>Group Attack w/ buffs:</td><td id="GroupAttackBuffed"></td></tr><tr><td>Raw Group Defense:</td><td class="fshGrey" id="GroupDefense"></td></tr><tr><td>Group Defense w/ buffs:</td><td id="GroupDefenseBuffed"></td></tr><tr><td>Raw Group Armor:</td><td class="fshGrey" id="GroupArmor"></td></tr><tr><td>Group Armor w/ buffs:</td><td id="GroupArmorBuffed"></td></tr><tr><td>Raw Group Damage:</td><td class="fshGrey" id="GroupDamage"></td></tr><tr><td>Group Damage w/ buffs:</td><td id="GroupDamageBuffed"></td></tr><tr><td>Raw Group HP:</td><td class="fshGrey" id="GroupHP"></td></tr><tr><td>Group HP w/ buffs:</td><td id="GroupHPBuffed"></td></tr></tbody></table>',fi='<table class="relicT relicS"><thead><tr><th colspan="2">Defending Guild Stats</th></tr></thead><tbody><tr><td>Relic Count:</td><td id="relicCount">0</td></tr><tr><td>Lead Defender Bonus:</td><td id="LDPercentage">0</td></tr><tr><td>Lead Defender Cloaked:</td><td id="LDCloaked">No</td></tr></tbody><thead><tr><th colspan="2">Other Defender Stats</th></tr></thead><tbody><tr><td>Raw Attack:</td><td class="fshGrey" id="attackValue">0</td></tr><tr><td>Attack w/ buffs:</td><td id="attackValueBuffed">0</td></tr><tr><td>Raw Defense:</td><td class="fshGrey" id="defenseValue">0</td></tr><tr><td>Defense w/buffs:</td><td id="defenseValueBuffed">0</td></tr><tr><td>Raw Armor:</td><td class="fshGrey" id="armorValue">0</td></tr><tr><td>Armor w/ buffs:</td><td id="armorValueBuffed">0</td></tr><tr><td>Raw Damage:</td><td class="fshGrey" id="damageValue">0</td></tr><tr><td>Damage w/ buffs:</td><td id="damageValueBuffed">0</td></tr><tr><td>Raw HP:</td><td class="fshGrey" id="hpValue">0</td></tr><tr><td>HP w/ buffs:</td><td id="hpValueBuffed">0</td></tr><tr><td>Cloaked:</td><td id="defendersCloaked">0</td></tr><tr><td>Processed:</td><td id="defendersProcessed">0</td></tr></tbody></table>',ui='<table class="relicT"><thead><tr><th colspan="2">Processing</th></tr></thead><tbody><tr><td class="fshGreen" colspan="2" id="ProcessingStatus">Parsing defending guild stats ...</td></tr></tbody><thead><tr><th colspan="2">Assumptions</th></tr></thead><tbody><tr><td colspan="2" class="fshGrey">Above calculations include Constitution, Fortitude, Nightmare Visage, Chi Strike, Sanctuary, Terrorize and Flinch bonus calculations (in that order) on both the defending group and attacking group.</td></tr></tbody></table>';var O,Se,Ae,be;function Ps(e){return e.player_name}function Fs(e){be=e.defenders.map(Ps)}function _s(){O?E("",O):O=c({className:"body"})}function Os(e){Se=c({className:"fshFloatLeft fshRelicLeftDiv"}),a(O,Se),e.is_owner&&a(Se,Ta(be)),Ae=j({className:"custombutton",textContent:"Fetch Stats"}),a(Se,Ae)}function mi(e){Fs(e),_s(),Os(e);let t=i("dialog-relic");a(t,O)}var N,ci,di,Ur,zr,jr,Qr,Nt,Yr,Jr,Xr,Zr,eo,to,ro,oo,no,ao,io,lo,so,fo,uo,mo,co,po,ho,go,vo,yo,X,Ks=[e=>e!=="lastUpdate",e=>!be.includes(e),e=>N[e].last_login,e=>Number(N[e].last_login)<ci,e=>Number(N[e].last_login)>di,e=>N[e].level<400||N[e].level>421,e=>N[e].level<441||N[e].level>450];function qs(e,t){return t(e)}function Ws(e){return Ks.every(m(qs,e))}function Us(e){return`<a href="${Bn}${N[e].id}">${e}</a>`}function zs(e){N=e,ci=nr-120,di=nr-604800;let t=Jn(N).filter(Ws).map(Us);re(O,`<div class="fshFloatLeft fshRelicLowDiv"><table class="relicT"><thead><tr><th>${t.length.toString()} Offline guild members not at relic:</th></tr></thead><tbody><tr><td>${t.join(" ")}</td></tr></tbody></table></div>`)}function js(){Ur=i("relicCount"),zr=i("LDPercentage"),jr=i("LDCloaked"),Qr=i("attackValue"),Nt=i("attackValueBuffed"),Yr=i("defenseValue"),Jr=i("defenseValueBuffed"),Xr=i("armorValue"),Zr=i("armorValueBuffed"),eo=i("damageValue"),to=i("damageValueBuffed"),ro=i("hpValue"),oo=i("hpValueBuffed"),no=i("defendersCloaked"),ao=i("defendersProcessed")}function Qs(){io=i("DC225"),lo=i("DC175"),so=i("GroupAttack"),fo=i("GroupAttackBuffed"),uo=i("GroupDefense"),mo=i("GroupDefenseBuffed"),co=i("GroupArmor"),po=i("GroupArmorBuffed"),ho=i("GroupDamage"),go=i("GroupDamageBuffed"),vo=i("GroupHP"),yo=i("GroupHPBuffed")}function pi(e){wt(Ae);let t=g("hideRelicOffline");e.is_owner&&!t&&La(!0).then(zs),re(Se,ui),X=i("ProcessingStatus");let r=c({className:"fshFloatLeft fshRelicMidDiv",innerHTML:fi});a(O,r),js();let o=c({className:"fshFloatLeft fshRelicRightDiv",innerHTML:si});a(O,o),Qs()}var Gt;function Ys(e){return e===1?1.5:ve(1-e/10,2)}function hi(e){let t=z(e),o=Qn('#pCC img[src*="/relics/"]',t).length;s(o,Ur),Gt=Ys(o),s(`${String(Gt*100)}%`,zr)}function It(e,t){return e>t*10||e<t?e:t*10}function Js(e){e.attackValue=It(e.attackBonus,e.levelValue),e.defenseValue=It(e.defenseBonus,e.levelValue),e.armorValue=It(e.armorBonus,e.levelValue),e.damageValue=It(e.damageBonus,e.levelValue),e.hpValue=e.hpBonus}var Xs=[["levelValue","level"],["attackValue","attack"],["attackBonus","bonus_attack"],["defenseValue","defense"],["defenseBonus","bonus_defense"],["armorValue","armor"],["armorBonus","bonus_armor"],["damageValue","damage"],["damageBonus","bonus_damage"],["hpValue","hp"],["hpBonus","bonus_hp"],["killStreakValue","killstreak"]];function Zs(e,t,r){e[r[0]]=Number(t[r[1]])}function ef(e,t){Xs.forEach(m(Zs,e,t))}var tf=[["counterAttackLevel","Counter Attack"],["doublerLevel","Doubler"],["deathDealerLevel","Death Dealer"],["darkCurseLevel","Dark Curse"],["holyFlameLevel","Holy Flame"],["constitutionLevel","Constitution"],["sanctuaryLevel","Sanctuary"],["flinchLevel","Flinch"],["nightmareVisageLevel","Nightmare Visage"],["superEliteSlayerLevel","Super Elite Slayer"],["fortitudeLevel","Fortitude"],["chiStrikeLevel","Chi Strike"],["terrorizeLevel","Terrorize"],["barricadeLevel","Barricade"],["reignOfTerrorLevel","Reign Of Terror"],["anchoredLevel","Anchored"],["severeConditionLevel","Severe Condition"],["entrenchLevel","Entrench"],["cloakLevel","Cloak"]];function rf(e,t,r){e[r[0]]=t[r[1]]||0}function of(e,t){tf.forEach(m(rf,e,t))}function Le(e){if(!e)return;let t=At(e._skills),r={};return ef(r,e),of(r,t),r.superEliteSlayerMultiplier=ve(.002*r.superEliteSlayerLevel,2),Yn(r.armorValue)&&Js(r),r}var Te,$t,qe,Me,We,Rt,Ue,xo,Do,B,v,ce;function nf(){v.attack-=ce.attack,v.defense-=ce.defense,v.armor-=ce.armor,v.damage-=ce.damage,v.hp-=ce.hp}function ze(e){return Math.round(e*Gt)}function af(){Te+=ze(B.attackValue),qe+=ze(B.defenseValue),Me+=ze(B.armorValue),We+=ze(B.damageValue),Ue+=ze(B.hpValue)}function gi(){d(Te,Qr),d(qe,Yr),d(Me,Xr),d(We,eo),d(Ue,ro),s(xo,no),Do+=1,s(Do,ao)}function lf(){d(v.attack,so),d(v.defense,uo),d(v.armor,co),d(v.damage,ho),d(v.hp,vo)}function sf(e){return Math.ceil(v.attack*(W(e["Nightmare Visage"],0)*.0025))}function ff(){let e=Math.ceil(v.attack*B.flinchLevel*.001);d(v.attack-e,fo)}function uf(e){return Math.ceil(v.defense*(1+W(e.Constitution,0)*.001))}function mf(e,t){d(t+e,mo)}function cf(e){d(v.armor+Math.floor(v.armor*W(e.Sanctuary,0)*.001),po)}function df(e,t){return Math.ceil(t*W(e.Fortitude,0)*.001)}function pf(e){d(v.hp+e,yo)}function hf(e,t){let r=Math.ceil((v.hp+t)*W(e["Chi Strike"],0)*.001),o=Math.ceil(v.damage*B.terrorizeLevel*.001);d(v.damage+r-o,go)}function gf(e){let t=sf(e);v.attack-=t,ff();let r=uf(e);mf(t,r),cf(e);let o=df(e,r);pf(o),hf(e,o)}function vf(e){let t=Math.ceil($t*W(e.Flinch,0)*.001);d($t-t,Nt)}function yf(e){let t=Math.ceil(Rt*W(e.Terrorize,0)*.001);d(Rt-t,to)}function xf(){s("Processing attacking group stats ... ",X),ce&&nf(),lf();let e=At(GameData.player().buffs);gf(e),vf(e),yf(e),s("Done.",X)}function Df(){return Math.ceil(Te*(B.nightmareVisageLevel*.0025))}function kf(){return Math.ceil(qe*(1+B.constitutionLevel*.001))}function wf(e){$t=Te-e,d($t,Nt)}function vi(e){return 1-e*mt}function Ef(e,t){let r=t+e;d(r,Jr),d(Math.ceil(r*vi(225)),io),d(Math.ceil(r*vi(175)),lo)}function Cf(){d(Me+Math.floor(Me*B.sanctuaryLevel*.001),Zr)}function Bf(e){return Math.ceil(e*B.fortitudeLevel*.001)}function Sf(e){Rt=We+Math.ceil(e*B.chiStrikeLevel*.001),d(Rt)}function Af(){B.cloakLevel!==0&&s("Yes",jr)}function yi(){s("Processing defending guild stats ... ",X),af(),gi();let e=Df();wf(e);let t=kf();Ef(e,t),Cf();let r=Ue+Bf(t);d(r,oo),Sf(r),Af(),GameData.player().hasGroup&&v?xf():s("Done.",X)}function xi(e){let t=Le(e);Te+=Math.round(t.attackValue*pe),qe+=Math.round(t.defenseValue*pe),Me+=Math.round(t.armorValue*pe),We+=Math.round(t.damageValue*pe),Ue+=Math.round(t.hpValue*pe),t.cloakLevel!==0&&(xo+=1),gi()}function Di(e){B=Le(e)}function ki(e){v=e}function wi(e){ce=e}function Ei(){Te=0,qe=0,Me=0,We=0,Ue=0,xo=0,Do=0}var je;function bf(e){s(e.message,X)}function Lf(e){return e.parentNode.parentNode.previousElementSibling.previousElementSibling.innerHTML.indexOf('"#000099"')!==-1}function Tf(e){let t=e.previousElementSibling.href,r=[Ha(t).then(ki)];return Lf(e)&&r.push(Va().then(wi)),r}function Mf(e){let t=z(e),r=De('#pCC a[href*="confirmDisband"]',t);if(!r)return;let o=Tf(r);return va(o)}function Hf(){return ne({cmd:"guild",subcmd:"groups"}).then(Mf)}function Vf(){return ne({cmd:"guild",subcmd:"view",guild_id:je.controlled_by.guild_id}).then(hi)}function Nf(e,t){return t===0?fr(e).then(Di):fr(e).then(xi).catch(bf)}function Gf(){return be.map(Nf)}function If(){let e=[Vf()];return GameData.player().hasGroup&&e.push(Hf()),e=e.concat(Gf()),e}function $f(){pi(je),Ei();let e=If();Bt(e,yi)}function Rf(e,t){_(t)||(je=t.response.data,je.defenders.length>0&&(mi(je),Cn(Ae,"click",$f)))}function ko(){$.subscribe(In,Rf)}function Qe(e){return oa({cache:!1,url:"fetchdata.php",data:la(e,{fshrnd:ba()}),dataType:"json"})}var Ci=[];function Pf(e){return _(e)||Ci.push(e),e}function Ff(e,t){return e===Number(t.response.data.id)}function _f(e,t){e(t)}function Of(e){return new Promise(t=>{zn(3,_f,[t,e])})}function Ye(e,t){let r=Ci.find(m(Ff,e));return r?Of(r):Qe({a:1,id:e,passback:t}).then(Pf)}var Pt,wo,Eo,Co,Bo,So;function Je(e,t){return ta(ke(t,e))}function Kf(e){Eo=Je(e,_n),wo=Je(e,Fn),Bo=Je(e,Kn),Co=Je(e,On),So=Je(e,qn)}function Bi(){Pt=GameData.player().level,Kf(i("statbar-character-tooltip-stats"))}function qf(e){return`<table><tr><td><img src="${te}creatures/${e.image_id}.png" height="200" width="200"></td><td rowspan="2"><table width="400"><tr><td class="header" colspan="4" class="fshCenter">Statistics</td></tr>`}function Wf(e,t){return`<tr><td>Class:&nbsp;</td><td width="40%">${e.creature_class}</td><td>Level:&nbsp;</td><td width="40%">${e.level} (your level:<span class="${t}">${Pt}</span>)</td></tr>`}function Uf(e){return`<tr><td>Attack:&nbsp;</td><td width="40%">${e.attack} (your defense:<span class="fshYellow">${wo}</span>)</td><td>Defense:&nbsp;</td><td width="40%">${e.defense} (your attack:<span class="fshYellow">${Eo}</span>)</td></tr>`}function zf(e){return`<tr><td>Armor:&nbsp;</td><td width="40%">${e.armor} (your damage:<span class="fshYellow">${Co}</span>)</td><td>Damage:&nbsp;</td><td width="40%">${e.damage} (your armor:<span class="fshYellow">${Bo}</span>)</td></tr>`}function jf(e,t){return`<tr><td>HP:&nbsp;</td><td width="40%">${e.hp} (your HP:<span class="fshYellow">${So}</span>)(1H: <span class="fshRed">${t}</span>)</td><td>Gold:&nbsp;</td><td width="40%">${e.gold}</td></tr>`}var Qf='<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Enhancements</td></tr>';function Yf(e){return`<tr><td colspan="2">${e.name}:</td><td colspan="2">${e.value}</td></tr>`}function Jf(e){return e.enhancements.length===0?'<tr><td colspan="4">[no enhancements]</td></tr>':e.enhancements.map(Yf).join("")}function Xf(e){return`<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Description</td></tr><tr><td colspan="4">${e.description}</td></tr><tr><td colspan="4" height="5"></td></tr></table></td></tr><tr><td class="fshCenter"><b>${e.name}</b></td></tr></table>`}function Zf(e,t,r){return qf(e)+Wf(e,r)+Uf(e)+zf(e)+jf(e,t)+Qf+Jf(e)+Xf(e)}function eu(e){let t=Math.ceil(e.hp*n.hpVariable+e.armor*n.generalVariable),r="fshYellow";return Bi(),Pt>e.level&&(r="fshRed"),Zf(e,t,r)}function Ao(e){if(!_(e))return eu(e.response.data)}var tu=["verb","view","tip-static"];function ru(e,t){$(e).qtip({overwrite:!0,show:{event:"mouseover",ready:!0},style:{classes:"qtip-tipsy qtip-custom"},position:{my:"center right",at:"center left",effect:!1,viewport:$(window)},content:{text:t},hide:{effect:!1}})}function ou(e){return pt(e.parentNode.children).indexOf(e)}function nu(e,t){let r=Ao(t);e.set("content.text",r)}function au(e,t,r){return Ye(GameData.actions()[e].data.id,e).then(m(nu,r)),"Loading..."}function iu(e,t){xe("NewMap","CreatureInfo");let r=ou(t);e.classList.add("fshTip"),ru(e,m(au,r))}function lu(e,t){return xa(tu,e)&&!_e("fshTip",e)&&_e("creature",t)}function su(e){if(!n.showCreatureInfo)return;let{target:t}=e,r=t.parentNode.parentNode.parentNode;lu(t,r)&&iu(t,r)}function bo(){G(i("actionList"),"mouseover",su)}var M;function fu(e,t){t.creature_class=e.creature_class,t.image_id=e.image_id,t.level=Number(e.level),t.type=e.type}function uu(e){M[e.name]?M[e.name].seen&&(M[e.name].seen+=1):(M[e.name]={seen:1},fu(e,M[e.name]))}function Si(e,t,r){return t?e(t,r):r}function Ai(e,t){let r=e||{};return r.min=Si(Math.min,r.min,t),r.max=Si(Math.max,r.max,t),r}var mu=["attack","armor","damage","defense","hp"];function cu(e,t){return!e||e.min!==t.min||e.max!==t.max}function du(e,t,r){let o=Ai(t[r],Number(e[r]));cu(t[r],o)&&(t[r]=o)}function pu(e,t){mu.forEach(m(du,e,t))}function hu(e){return e.enhancements&&e.enhancements.length>0}function gu(e,t){e[t.name]=Ai(e[t.name],Number(t.value))}function vu(e,t){hu(e)&&(t.enhancements=t.enhancements||{},e.enhancements.forEach(m(gu,t.enhancements)))}function yu(e){M||(M={}),uu(e),pu(e,M[e.name]),vu(e,M[e.name]),Dt("fsh_monsterLog",M)}function bi(e){n.showMonsterLog&&yu(e)}function xu(e){M=e||{}}function Li(){xt("fsh_monsterLog").then(xu)}var Ti=[];function Du(e){_(e)||(xe("NewMap","MonsterLog"),bi(e.response.data))}function ku(e,t){return e.id===t.id}function wu(e){if(Ti.find(m(ku,e.data)))return!0;Ti.push(e.data)}function Eu(e,t){e.type!==6||wu(e)||Ye(e.data.id,t).then(Du)}function Mi(){n.showMonsterLog&&GameData.actions().forEach(Eu)}function Lo(){Li(),$.subscribe("-1-success.action-response 4-success.action-response 5-success.action-response 25-success.action-response",Mi),Mi()}function To(){return ka({subcmd:"scouttower"})}function Cu(e){let t=e.split(/[: /[]/);return new Date(Number(t[4]),lt.indexOf(t[3]),Number(t[2]),Number(t[0]),Number(t[1]))}function Bu(e){let t=oe(e[1]);return t==="No active cooldown"?0:Math.ceil((Cu(t.slice(16))-dt)/1e3)}function Su(e){let t=e[0].cells[0].children[0];return{base_id:Number(t.src.match(/s\/(\w+)\.p/)[1].slice(0,-32)),name:t.title}}function Au(e){return{cooldown:Bu(e),creature:Su(e),kills:Number(oe(e[0].cells[3]))}}function bu(e){let t=oe(e[0].cells[1]);if(t!=="n/a"){let r=oe(e[0].cells[2]).split("/");return{realm:t,current_hp:Number(r[0]),max_hp:Number(r[1])}}}function Lu(e){let t=e[2].cells[0].children;if(t.length===1)return{contributors:na(t[0].rows,3,0).map(o=>({kills:Number(oe(o.cells[1])),player:{name:oe(o.cells[0])}}))}}function Tu(e){return{...Au(e),...bu(e),...Lu(e)}}function Mu(e){let t=z(e),r=De('table[width="500"]',t);if(!r)return{s:!1};let o=pt(r.rows).filter((f,u,A)=>u!==0&&u<A.length-1&&(u-1)%6<3);return{r:ya(3,o).map(Tu),s:!0}}function Mo(){return ne({cmd:"guild",subcmd:"scouttower"}).then(Mu)}function Ho(){return we(To,Mo)}function Hu(e,[t,r,o]){let l=e.insertCell(-1);return l.colSpan=t,o&&(l.className="header"),a(l,r),l}function Vu(e,t){t.forEach(m(Hu,e))}function Nu(e,t,r){let o=e.insertRow(-1);return r&&(o.className="fshBlue"),Vu(o,t),o}function Gu(e,t){Nu(e,t[0],t[1])}function Xe(e,t){t.forEach(m(Gu,e))}var Vo;function Hi(e){Vo=e}var No,Go,Io,$o,Ro,Po,Fo,_o;function Iu(){No=D("Current"),Go=D("Kills"),Io=D("Member"),$o=D("% of Total")}function $u(){Ro=D("Status"),Po=D("Titan HP"),Fo=D("Total"),_o=D("Your Guild")}function Vi(){Iu(),$u()}var He,Ve,Ne,Ge,Ie,$e,Re;function Ni(){He=p(),Ve=p(),Ne=p(),Ge=p(),Ie=p(),$e=p(),Re=p()}function Gi(){s("",He),s("",Ve),s("",Ne),s("",Ge),s("",Ie),E("",$e),E("",Re)}var Z;function Ft(){for(;Z.rows.length>7;)Z.deleteRow(7)}function Ru(){let e=p();return a(e,He),R(e,"/"),a(e,Ve),e}function Ii(e){let t=p();return a(t,e),R(t,"%"),t}function $i(){Z=aa({className:"fshCenter"}),Vi(),Xe(Z,[[[[2,Po,!0],[4,_o,!0]]],[[[2,Ru()],[4,Ne]]],[[[2,No,!0],[4,Ii(Ge)]],!0],[[[2,Fo,!0],[4,Ii(Ie)]],!0],[[[2,Ro,!0],[4,$e]],!0],[[[6,Re]]],[[[2,Io,!0],[2,Go,!0],[2,$o,!0]]]])}var ee,_t;function Oo(){_t=null,ee&&!_e("fshHide",ee)&&(h(ee,!0),Gi(),Ft())}function Ri(e){return e.type===0?(_t=e.base_creature_id,!0):!1}function Pi(){if(ee)h(ee,!1);else{let e=i("actionContainer");ee=c({className:"fshActionBox titanInfo"}),Ni(),$i(),a(ee,Z),a(e,ee)}}function Pu(e){let t=new Date(dt+e*1e3);return`${kt(t.getHours())}:${kt(t.getMinutes())} ${kt(t.getDate())}/${lt[t.getMonth()]}/${t.getFullYear()}`}function Fu(e){return e<=0?'<span class="fshGreen cooldown">No active cooldown</span>':`<span class="fshMaroon cooldown">Cooldown until: ${Pu(e)}</span>`}function _u(e){return gt(Ga(e.max_hp-e.current_hp,e.kills),2)}function Ou(e){return gt(e.kills*100/e.max_hp,2)}function Ku(e){return Ia(e.kills,e.max_hp,e.current_hp)}function qu(e){e.forEach(([t,r])=>{s(t,r)})}function Wu(e){qu([[e.current_hp,He],[e.max_hp,Ve],[e.kills,Ne],[_u(e),Ge],[Ou(e),Ie]]),E(Ku(e),$e),E(Fu(e.cooldown),Re)}function Uu(e,t){return[[[2,D(t.player.name)],[2,D(t.kills.toString())],[2,D(`${gt(t.kills*100/e.kills,2)}%`)]]]}function zu(e){if(Ft(),!e.contributors)return;let t=e.contributors.map(m(Uu,e));Xe(Z,t)}function ju(e){return e.realm&&e.creature.base_id===_t&&e.realm===Vo}function Ko(e){let t=e.find(ju);t&&(Wu(t),zu(t))}var Ot;function Qu(){Ot&&(window.clearTimeout(Ot),Ot=null)}function Yu(e){return e&&e.s&&I(e.r)}function Fi(e){return n.showTitanInfo&&I(e)&&e.some(Ri)}function Ju(e,t){!Yu(t)||(Ko(t.r),Fi(GameData.realm().dynamic)?Ot=window.setTimeout(e,3e4):Oo())}function _i(){Ho().then(m(Ju,_i))}function Oi(e){Qu(),Fi(e)?(Pi(),_i()):Oo()}function Ki(e){e.dynamic&&(Hi(e.name),Oi(e.dynamic))}function qi(){n.showTitanInfo=!n.showTitanInfo,y("showTitanInfo",n.showTitanInfo),Oi(GameData.realm().dynamic)}function Xu(e){return e.realm&&e.realm.name}function Wi(e,t){Xu(t)&&Ki(t.realm)}function qo(){window.initialGameData&&Wi(null,window.initialGameData),$.subscribe(`${Nn} ${$n}`,Wi)}var Wo;function Ui(e){$("#statbar-gold").css("background-color",e)}function zi(){$("#HelperSendTotal").html(U(g("currentGoldSentTotal"))),Number(GameData.player().gold)>Wo?Ui("red"):Ui("inherit")}function Zu(){return`<dt class="stat-gold-sendTo">Send To:</dt><dd id="HelperSendTo">${g("goldRecipient")}</dd><dt class="stat-gold-sendAmt">Amount:</dt><dd id="HelperSendAmt">${U(Wo)}</dd><dt class="stat-gold-sendTo">Send?</dt><dd><input id="HelperSendGold" value="Send!" class="custombutton" type="submit"><input type="hidden" id="xc" value=""</dd><dt class="stat-gold-sendTotal">Total Sent:</dt><dd id="HelperSendTotal">${U(g("currentGoldSentTotal"))}</dd>`}function em(){Wo=g("goldAmount"),$("#statbar-gold-tooltip-general").append(Zu()),$("#HelperSendGold").on("click",Aa),zi(),$.subscribe(Tn,zi)}function Uo(){Sa(),Ba&&em()}var Ze,et,Kt,Pe,zo,jo,qt;function tm(){return Qe({a:14,d:0,id:Ze.id,item_id:Ze.itemId})}function rm(e){let t=e.response.response,r=e.response.msg,o;if(t!==0){let l=r.indexOf("<");l!==-1?o=r.substring(0,l):o=r}else o=`You purchased ${e.response.data.name} for ${U(e.response.data.cost)} gold.`;re(qt,`${o}<br>`)}function om(){GameData.doAction(14,3,{id:Ze.id,item_id:Ze.itemId},0),Kt.close()}function nm(){let e=Xn(zo.value);if(!e)return;let t=[];for(let r=1;r<e;r+=1)t.push(tm().then(rm));Bt(t,om)}function am(){Pe=c({className:"fshClear",textContent:"Select how many to quick-buy:"}),zo=vt({id:"buyAmount",className:"fshNumberInput",min:1,max:99,value:1,type:"number"}),a(Pe,zo),jo=j({textContent:"Quick-buy"}),C(jo,nm),a(Pe,jo),qt=c(),a(Pe,qt),a(et,Pe)}function im(){return et||i("shopDialogConfirm")}function lm(){return Kt||$(et).data("hcsWorldDialogShopConfirm")}function sm(){Pe?s("",qt):am()}function fm(e,t){Ze=t,et=im(),!!et&&(Kt=lm(),Kt&&sm())}function Qo(){$.subscribe(Mn,fm)}function um(e){let t=z(e),r=Ma(t);return{r:{attributes:[{value:r.attack},{value:r.defense},{value:r.armor},{value:r.damage},{value:r.hp}]}}}function Yo(e){return ne({cmd:"guild",subcmd:"groups",subcmd2:"viewstats",group_id:e}).then(um)}function Jo(e){return Ea({subcmd2:"viewstats",group_id:e})}function Xo(e){return we(Jo,Yo,e)}function ji(e){return e.numberOfCreatureHitsTillDead-e.numberOfHitsRequired<=1?", dies on miss":", survives a miss"}function mm(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired>e.numberOfCreatureHitsTillDead}function cm(e){return e.numberOfCreatureHitsTillDead==="-"?e.numberOfHitsRequired:mm(e)?"-":e.numberOfHitsRequired}function dm(e){return e.numberOfCreatureHitsTillDead==="-"||e.numberOfCreatureHitsTillDead>e.numberOfHitsRequired}function pm(e){return e.numberOfHitsRequired==="-"?e.numberOfCreatureHitsTillDead:dm(e)?"-":e.numberOfCreatureHitsTillDead}var hm=[[e=>e.playerHits==="-"&&e.creatureHits==="-",()=>"Unresolved"],[e=>e.playerHits==="-",()=>"Player dies"],[e=>e.playerHits===1,e=>`Player 1 hits${ji(e)}`],[e=>e.playerHits>1,e=>`Player > 1 hits${ji(e)}`]];function gm(e,t){return t[0](e)}function vm(e){let t=hm.find(m(gm,e));return t?t[1](e):"Unknown"}function Zo(e){e.playerHits=cm(e),e.creatureHits=pm(e),e.fightStatus=vm(e)}function ym(e){return e.callback.groupExists?e.callback.groupArmorValue:e.player.armorValue}function xm(e){let t=ym(e);e.overallArmorValue=t+Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}function Dm(e){e.player.sanctuaryLevel>0&&(e.extraNotes+=`Sanc Bonus Armor = ${Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}<br>`)}function km(e){e.terrorizeEffect=Math.floor(e.creature.damage*e.player.terrorizeLevel*.001)}function wm(e){e.player.terrorizeLevel>0&&(e.extraNotes+=`Terrorize Creature Damage Effect = ${e.terrorizeEffect*-1}<br>`)}function Em(e){e.creatureDamageDone=Math.ceil(e.generalVariable*e.creature.damage-e.overallArmorValue+e.overallHPValue)}function Cm(e){let t=e.generalVariable*e.creature.damage;t<e.overallArmorValue?e.numberOfCreatureHitsTillDead=e.overallHPValue:e.numberOfCreatureHitsTillDead=Math.ceil(e.overallHPValue/(t-e.overallArmorValue))}function Bm(e){e.creatureHitByHowMuch>=0?Cm(e):e.numberOfCreatureHitsTillDead="-"}function en(e){xm(e),Dm(e),km(e),wm(e),e.creature.damage-=e.terrorizeEffect,Em(e),Bm(e)}function Sm(e){return e.callback.groupExists?e.callback.groupAttackValue:e.player.attackValue}function Qi(e){return Math.floor(e.creature.defense*e.player.darkCurseLevel*mt)}function Am(e){let t=e.creature.defense-Qi(e);return e.combatEvaluatorBias===3?e.overallAttackValue-Math.ceil(t)-50:e.overallAttackValue-Math.ceil(e.attackVariable*t)}function tn(e){let t=Sm(e);e.player.darkCurseLevel>0&&(e.extraNotes+=`DC Bonus Attack = ${Qi(e)}<br>`),e.nightmareVisageAttackMovedToDefense=Math.floor((t+e.counterAttackBonusAttack)*e.player.nightmareVisageLevel*.0025),e.player.nightmareVisageLevel>0&&(e.extraNotes+=`NMV Attack moved to Defense = ${e.nightmareVisageAttackMovedToDefense}<br>`),e.overallAttackValue=t+e.counterAttackBonusAttack-e.nightmareVisageAttackMovedToDefense,e.hitByHowMuch=Am(e)}function bm(e){return e.player.counterAttackLevel>0&&e.numberOfHitsRequired===1}function Yi(e){e.lowestCALevelToStillHit=Math.max(Math.ceil((e.counterAttackBonusAttack-e.hitByHowMuch+1)/e.player.attackValue/.0025),0),e.lowestCALevelToStillKill=Math.max(Math.ceil((e.counterAttackBonusDamage-e.damageDone+1)/e.player.damageValue/.0025),0)}function Lm(e){return e.player.counterAttackLevel>0?Math.ceil((1+e.player.doublerLevel/50)*.0025*e.lowestFeasibleCALevel):0}function Tm(e){e.extraAttackAtLowestFeasibleCALevel=Math.floor(e.player.attackValue*.0025*e.lowestFeasibleCALevel),e.extraDamageAtLowestFeasibleCALevel=Math.floor(e.player.damageValue*.0025*e.lowestFeasibleCALevel),e.extraNotes+=`Extra CA Att/Dam at this lowered CA level = ${e.extraAttackAtLowestFeasibleCALevel} / ${e.extraDamageAtLowestFeasibleCALevel}<br>`}function Mm(e){Yi(e),e.lowestFeasibleCALevel=Math.max(e.lowestCALevelToStillHit,e.lowestCALevelToStillKill),e.extraNotes+=`Lowest CA to still 1-hit this creature = ${e.lowestFeasibleCALevel}<br>`,e.lowestFeasibleCALevel!==0&&Tm(e),e.extraStaminaPerHitAtLowestFeasibleCALevel=Lm(e),e.extraStaminaPerHitAtLowestFeasibleCALevel<e.extraStaminaPerHit?e.extraNotes+=`Extra Stam Used at this lowered CA level = ${e.extraStaminaPerHitAtLowestFeasibleCALevel}<br>`:e.extraNotes+="No reduction of stam used at the lower CA level<br>"}function Hm(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired!==1}function Vm(e){e.lowestCALevelToStillHit>175?e.extraNotes+="Even with CA175 you cannot hit this creature<br>":e.lowestCALevelToStillHit!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillHit} to hit this creature<br>`)}function Nm(e){e.lowestCALevelToStillKill>175?e.extraNotes+="Even with CA175 you cannot 1-hit kill this creature<br>":e.lowestCALevelToStillKill!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillKill} to 1-hit kill this creature<br>`)}function Gm(e){Yi(e),Vm(e),Nm(e)}function rn(e){bm(e)&&Mm(e),Hm(e)&&Gm(e)}function Im(e){return e.callback.groupExists?e.callback.groupHPValue:e.player.hpValue}function $m(e){return e.callback.groupExists?e.callback.groupDamageValue:e.player.damageValue}function Rm(e){let t=Im(e),{fortitudeLevel:r}=e.player;e.fortitudeExtraHPs=Math.floor(t*r*.001),r>0&&(e.extraNotes+=`Fortitude Bonus HP = ${e.fortitudeExtraHPs}<br>`),e.overallHPValue=t+e.fortitudeExtraHPs}function Pm(e){let{chiStrikeLevel:t}=e.player;e.chiStrikeExtraDamage=Math.floor(e.overallHPValue*t*.001),t>0&&(e.extraNotes+=`Chi Strike Bonus Damage = ${e.chiStrikeExtraDamage}<br>`)}function on(e){Rm(e),Pm(e);let t=$m(e);if(e.overallDamageValue=t+e.deathDealerBonusDamage+e.counterAttackBonusDamage+e.holyFlameBonusDamage+e.chiStrikeExtraDamage,e.damageDone=Math.floor(e.overallDamageValue-(e.generalVariable*e.creature.armor+e.hpVariable*e.creature.hp)),e.hitByHowMuch>0){let r=1;e.overallDamageValue>=e.generalVariable*e.creature.armor&&(r=e.overallDamageValue-e.generalVariable*e.creature.armor),e.numberOfHitsRequired=Math.ceil(e.hpVariable*e.creature.hp/r)}else e.numberOfHitsRequired="-"}function nn(e){return e.callback.groupExists?e.callback.groupDefenseValue:e.player.defenseValue}function Fm(e){e.player.constitutionLevel>0&&(e.extraNotes+=`Constitution Bonus Defense = ${Math.floor(nn(e)*e.player.constitutionLevel*.001)}<br>`)}function _m(e){e.player.flinchLevel>0&&(e.extraNotes+=`Flinch Bonus Attack Reduction = ${Math.floor(e.creature.attack*e.player.flinchLevel*.001)}<br>`)}function an(e){e.overallDefenseValue=nn(e)+Math.floor(nn(e)*e.player.constitutionLevel*.001)+e.nightmareVisageAttackMovedToDefense,Fm(e),_m(e),e.creatureHitByHowMuch=Math.floor(e.attackVariable*e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue),e.combatEvaluatorBias===3&&(e.creatureHitByHowMuch=Math.floor(e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue-50))}function Om(e){e.player.superEliteSlayerLevel>0&&(e.extraNotes+=`SES Stat Reduction Multiplier = ${e.player.superEliteSlayerMultiplier}<br>`)}function Km(e){e.holyFlameBonusDamage=0,e.creature.class==="Undead"&&(e.holyFlameBonusDamage=Math.max(Math.floor((e.player.damageValue-e.creature.armor)*e.player.holyFlameLevel*.002),0),e.player.holyFlameLevel>0&&(e.extraNotes+=`HF Bonus Damage = ${e.holyFlameBonusDamage}<br>`))}function qm(e){e.deathDealerBonusDamage=Math.floor(e.player.damageValue*(Math.min(Math.floor(e.player.killStreakValue/5)*.01*e.player.deathDealerLevel,20)/100))}function Wm(e){e.counterAttackBonusAttack=Math.floor(e.player.attackValue*.0025*e.player.counterAttackLevel),e.counterAttackBonusDamage=Math.floor(e.player.damageValue*.0025*e.player.counterAttackLevel)}function Um(e){e.extraStaminaPerHit=0,e.player.counterAttackLevel>0&&(e.extraStaminaPerHit=Math.ceil((1+e.player.doublerLevel/50)*.0025*e.player.counterAttackLevel))}function zm(e){e.player.deathDealerLevel>0&&(e.extraNotes+=`DD Bonus Damage = ${e.deathDealerBonusDamage}<br>`)}function jm(e){e.player.counterAttackLevel>0&&(e.extraNotes+=`CA Bonus Attack/Damage = ${e.counterAttackBonusAttack} / ${e.counterAttackBonusDamage}<br>CA Extra Stam Used = ${e.extraStaminaPerHit}<br>`)}function ln(e){e.extraNotes="",Om(e),Km(e),qm(e),Wm(e),Um(e),zm(e),jm(e)}function Qm(e){return e.callback.groupExists?"Group ":""}function Ym(e){return`<tr><td bgcolor="#CD9E4B" colspan="4" align="center">${Qm(e)}Combat Evaluation</td></tr>`}function Jm(e){return e.hitByHowMuch>0?"Yes":"No"}function Xm(e){return`<tr><td align="right"><span style="color:#333333">Will I hit it? </td><td align="left">${Jm(e)}</td><td align="right"><span style="color:#333333">Extra Attack: </td><td align="left">( ${e.hitByHowMuch} )</td></tr>`}function Zm(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill it? </td><td align="left">${e.numberOfHitsRequired}</td><td align="right"><span style="color:#333333">Extra Damage: </td><td align="left">( ${e.damageDone} )</td></tr>`}function ec(e){return e.creatureHitByHowMuch>=0?"Yes":"No"}function tc(e){return`<tr><td align="right"><span style="color:#333333">Will I be hit? </td><td align="left">${ec(e)}</td><td align="right"><span style="color:#333333">Extra Defense: </td><td align="left">( ${-1*e.creatureHitByHowMuch} )</td></tr>`}function rc(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill me? </td><td align="left">${e.numberOfCreatureHitsTillDead}</td><td align="right"><span style="color:#333333">Extra Armor + HP: </td><td align="left">( ${-1*e.creatureDamageDone} )</td></tr>`}function oc(e){return`<tr><td align="right"><span style="color:#333333"># Player Hits? </td><td align="left">${e.playerHits}</td><td align="right"><span style="color:#333333"># Creature Hits? </td><td align="left">${e.creatureHits}</td></tr>`}function nc(e){return`<tr><td align="right"><span style="color:#333333">Fight Status: </span></td><td align="left" colspan="3"><span>${e.fightStatus}</span></td></tr>`}function ac(e){return`<tr><td align="right"><span style="color:#333333">Notes: </span></td><td align="left" colspan="3"><span style="font-size:x-small;">${e.extraNotes}</span></td></tr>`}function sn(e){return`<table width="100%"><tbody>${Ym(e)}${Xm(e)}${Zm(e)}${tc(e)}${rc(e)}${oc(e)}${nc(e)}${ac(e)}</tbody></table>`}var Wt,Ut,tt;function ic(e){if(!Wt){let t=ke("body",e);t.length===1&&([Wt]=t)}}function Ji(){return me(Ut)?"Remove from do not kill list":"Add to the do not kill list"}function Xi(){s(Ji(),tt)}function lc(){let e=n.doNotKillList.indexOf(Ut);e===-1?n.doNotKillList.push(Ut):n.doNotKillList.splice(e,1),Xi(),y("doNotKillList",n.doNotKillList.join()),Be()}function sc(){tt=j({className:"fshBl",textContent:Ji(),type:"button"});let e=c({className:"description",innerHTML:'<span class="ui-helper-hidden-accessible"><input type="text"></span>'});a(e,tt),a(Wt,e),C(tt,lc)}function fc(){tt?Xi():sc()}function fn(e,t){ic(t),Wt&&(Ut=ge(e),fc())}var Fe,rt,zt,jt;function uc(){Fe||(Fe=i("dialog-viewcreature"))}function mc(){rt||(rt=c(),a(Fe,rt),a(Fe,c({innerHTML:'<span class="fshFooter">*Does include CA, DD, HF, DC, Flinch, Super Elite Slayer, NMV, Sanctuary, Constitution, Fortitude, Chi Strike and Terrorize (if active) and allow for randomness (1.1053). Constitution, NMV, Fortitude and Chi Strike apply to group stats.</span>'})))}function Zi(){zt||(mc(),zt=c(),a(rt,zt))}function cc(){jt||(Zi(),jt=c(),a(rt,jt))}function el(e){Zi(),E(e,zt)}function tl(e){cc(),E(e,jt)}function dc(e,t,r){r===3&&(t.attack-=Math.ceil(t.attack*e),t.defense-=Math.ceil(t.defense*e),t.armor-=Math.ceil(t.armor*e),t.damage-=Math.ceil(t.damage*e),t.hp-=Math.ceil(t.hp*e))}function pc(e,t){let r={name:e.name,class:e.creature_class,attack:Number(e.attack),defense:Number(e.defense),armor:Number(e.armor),damage:Number(e.damage),hp:Number(e.hp)};return dc(t,r,e.type),r}function hc(e){e.combatEvaluatorBias=n.combatEvaluatorBias,e.attackVariable=1.1053,e.generalVariable=n.generalVariable,e.hpVariable=n.hpVariable}function gc(e){ln(e),tn(e),on(e),an(e),en(e),Zo(e),rn(e)}function rl(e,t,r){let o={};o.callback=r,o.player=Le(t),hc(o),o.creature=pc(e.response.data,o.player.superEliteSlayerMultiplier),gc(o),o.evaluatorHTML=sn(o),r.groupExists?tl(o.evaluatorHTML):el(o.evaluatorHTML)}function vc(e){return e.members[0].name===ye()}function yc(e){if(I(e.r))return e.r.find(vc).id}function xc(e,t,r){if(!r.r||!r.r.attributes)return;let o=r.r.attributes;rl(e,t,{groupExists:!0,groupAttackValue:o[0].value,groupDefenseValue:o[1].value,groupArmorValue:o[2].value,groupDamageValue:o[3].value,groupHPValue:o[4].value})}function Dc(e,t,r){r&&Xo(r).then(m(xc,e,t))}function kc(e,t){Ca().then(yc).then(m(Dc,e,t))}function wc(e,t){e.player.hasGroup&&kc(e,t),rl(e,t,{groupExists:!1})}function Ec(e){return e.response&&e.response.data}function Cc(e,t){uc(),!!Fe&&(el(""),tl(""),Ec(t)&&(fn(t.response.data.name,Fe),Da(!0).then(m(wc,t))))}function un(){$.subscribe(Gn,Cc)}var Qt,mn;function Yt(){let e=[null,[n.buffs,n.buffsName],[n.buffs2,n.buffs2Name],[n.buffs3,n.buffs3Name]][n.enabledHuntingMode];I(e)&&([Qt,mn]=e)}function cn(e){e.target.name==="enabledHuntingMode"&&(n.enabledHuntingMode=e.target.value,y("enabledHuntingMode",n.enabledHuntingMode),Yt(),GameData.fetch(q))}var ot;function ol(){ot=!ot,y("hidePlayerActions",ot),GameData.fetch(T)}function Bc(e){let t=ke("verbs",e);t.length===1&&wt(t[0])}function nl(){if(!ot)return;let e=i("actionList");St("player",e).forEach(Bc)}function al(){ot=g("hidePlayerActions"),$.subscribe(he,nl),nl()}function dn(){n.showCreatureInfo=!n.showCreatureInfo,y("showCreatureInfo",n.showCreatureInfo)}function pn(){n.showBuffs=!n.showBuffs,y("showHuntingBuffs",n.showBuffs),GameData.fetch(q)}function hn(){n.showMonsterLog=!n.showMonsterLog,y("showMonsterLog",n.showMonsterLog)}function gn(){n.hideSubLvlCreature=!n.hideSubLvlCreature,y("hideSubLvlCreature",n.hideSubLvlCreature),GameData.fetch(T)}function Sc(){return c({id:"fshWorldPrefs",innerHTML:`${ae("showCreatureInfo")}&nbsp;&nbsp;${ae("showMonsterLog")}&nbsp;&nbsp;${ae("showTitanInfo")}&nbsp;&nbsp;${ae("showBuffInfo")}<br>${ae("hideSubLvlCreature")}&nbsp;&nbsp;${ae("hidePlayerActions")}&nbsp;&nbsp;${Pa()}`})}var Ac={hideSubLvlCreature:gn,hidePlayerActions:ol,showCreatureInfo:dn,showHuntingBuffs:pn,showMonsterLog:hn,showTitanInfo:qi,showBuffInfo:Wa};function bc(e){let t=Ac[e.target.name];ct(t)&&(e.target.blur(),t(e))}function vn(){let e=c({className:"fshCenter fshFten"}),t=Sc();C(t,bc),G(t,"change",cn),a(e,t);let r=c();a(e,r);let o=i("worldContainerBelow").children[0];return yt(e,o),r}function Lc(e,t){return e[t.name]=!0,e}function Tc(e,t,r){return e[ge(r)]||t.push(r),t}function Mc(e,t){E(`You are missing some ${mn} hunting buffs<br>(${t.join(", ")})`,e)}function il(e){E("",e)}function Hc(e,t){let r=t.b.reduce(Lc,{}),o=Qt.reduce(m(Tc,r),[]);o.length>0?Mc(e,o):il(e)}function Vc(e,t,r){n.showBuffs?Hc(e,r):il(e)}function Nc(e,t,r){Qt&&Vc(e,t,r)}function yn(e){Yt();let t=m(Nc,e);$.subscribe(st,t),n.showBuffs&&window.initialGameData&&t(null,{b:window.initialGameData.player.buffs})}var Jt=[{generalVariable:1.1053,hpVariable:1.1},{generalVariable:1.1,hpVariable:1.053},{generalVariable:1.053,hpVariable:1},{generalVariable:1.1053,hpVariable:1}];function Gc(e){return Jt[e]?Jt[e].generalVariable:1.1053}function Ic(e){return Jt[e]?Jt[e].hpVariable:1.1}function xn(){n.combatEvaluatorBias=g("combatEvaluatorBias"),n.generalVariable=Gc(n.combatEvaluatorBias),n.hpVariable=Ic(n.combatEvaluatorBias)}function $c(e){return!e||!e.actions||e.actions.length===0}function Rc(e,t){return t.type===6?t.data.creature_type!==0||t.data.level>=e:!0}function Pc(e){return e.realm&&e.realm.minlevel||GameData.realm().minlevel}function Fc(e){let t=Un(e);return $c(t)?e:(t.actions=t.actions.filter(m(Rc,Pc(t))),JSON.stringify(t))}function _c(e){return e.data&&e.data.d&&Na(e.data.d,T)}function Oc(e,t){n.hideSubLvlCreature&&_c(t)&&(e.dataFilter=Fc)}function Dn(){$.ajaxPrefilter("JSON",Oc),n.hideSubLvlCreature&&GameData.fetch(T)}function Kc(e){n[e[0]]=lr(e[1])}function qc(){[["buffs","huntingBuffs"],["buffs2","huntingBuffs2"],["buffs3","huntingBuffs3"]].forEach(Kc)}function Wc(e){n[e]=lr(e)}function Uc(){["doNotKillList"].forEach(Wc)}function zc(){qc(),Uc()}function jc(e){n[e[0]]=g(e[1])}function Qc(){[["buffsName","huntingBuffsName"],["buffs2Name","huntingBuffs2Name"],["buffs3Name","huntingBuffs3Name"],["showBuffs","showHuntingBuffs"]].forEach(jc)}function Yc(e){n[e]=g(e)}function Jc(){["enabledHuntingMode","hideSubLvlCreature","showTitanInfo","showBuffInfo","showMonsterLog","showCreatureInfo"].forEach(Yc)}function Xc(){Qc(),Jc()}function Zc(){zc(),Xc()}function kn(){xn(),Zc();let e=vn();Dn(),yn(e),al()}function ll(e){$(`#actionList li.creature-${e.toString()} a.create-group`).hide()}function ed(e){$.subscribe(he,m(ll,e))}var td=["hideChampionsGroup","hideElitesGroup","hideSEGroup","hideTitanGroup","hideLegendaryGroup"];function rd(e,t){g(e)&&(ed(t+1),ll(t+1))}function od(){td.forEach(rd)}function nd(){a(document.body,ea(`#actionList .creature-1 {color: green;}
#actionList .creature-2 {color: yellow;}
#actionList .creature-3 {color: red;}`))}function ad(){g("enableCreatureColoring")&&nd()}function id(e,t){t==="ACT_REPAIR"&&GameData.fetch(Pn+q+ut+T)}function ld(){$.subscribe(Hn,id)}function sd(){$("#messageCenter").worldMessageCenter({offset:"0 60"})}function fd(){Oe("#mapTooltip")}function ud(e){Oe(e.target)}function md(){C(i("buffList"),ud)}var cd=[kn,Uo,un,od,ad,Pr,Lo,ld,$r,qo,Qo,ko,sd,fd,Hr,qa,md,bo,Gr,qr];function dd(){ia(cd),n.userIsDev&&Wr()}export{dd as default};
//# sourceMappingURL=newMap-BXNFPGWC.js.map
